openapi: 3.0.1
info:
  title: Upsun.com Rest API
  version: '1.0'
  contact:
    name: Support
    url: https://upsun.com/contact-us/
  termsOfService: https://upsun.com/trust-center/legal/tos/
  description: |
    # Introduction

    Upsun, formerly Platform.sh, is a container-based Platform-as-a-Service. Our main API
    is simply Git. With a single `git push` and a couple of YAML files in
    your repository you can deploy an arbitrarily complex cluster.
    Every [**Project**](#tag/Project) can have multiple applications (PHP,
    Node.js, Python, Ruby, Go, etc.) and managed, automatically
    provisioned services (databases, message queues, etc.).

    Each project also comes with multiple concurrent
    live staging/development [**Environments**](#tag/Environment).
    These ephemeral development environments
    are automatically created every time you push a new branch or create a
    pull request, and each has a full copy of the data of its parent branch,
    which is created on-the-fly in seconds.

    Our Git implementation supports integrations with third party Git
    providers such as GitHub, Bitbucket, or GitLab, allowing you to simply
    integrate Upsun into your existing workflow.

    ## Using the REST API

    In addition to the Git API, we also offer a REST API that allows you to manage
    every aspect of the platform, from managing projects and environments,
    to accessing accounts and subscriptions, to creating robust workflows
    and integrations with your CI systems and internal services.

    These API docs are generated from a standard **OpenAPI (Swagger)** Specification document
    which you can find here in [YAML](openapispec-upsun-internal.yaml) and in [JSON](openapispec-upsun-internal.json) formats.

    This RESTful API consumes and produces HAL-style JSON over HTTPS,
    and any REST library can be used to access it. On GitHub, we also host
    a few API libraries that you can use to make API access easier, such as our
    [PHP API client](https://github.com/upsun/upsun-sdk-php).

    In order to use the API you will first need to have an [Upsun account](https://auth.upsun.com/register/) 
    and [create an API Token](https://docs.upsun.com/anchors/cli/api-token/).

    # Authentication

    ## OAuth2

    API authentication is done with OAuth2 access tokens.

    ### API tokens

    You can use an API token as one way to get an OAuth2 access token. This
    is particularly useful in scripts, e.g. for CI pipelines.

    To create an API token, go to the "API Tokens" section
    of the "Account Settings" tab on the [Console](https://console.upsun.com).

    To exchange this API token for an access token, a `POST` request
    must be made to `https://auth.upsun.com/oauth2/token`.

    The request will look like this in cURL:

    <pre>
    curl -u platform-api-user: \
        -d 'grant_type=api_token&amp;api_token=<em><b>API_TOKEN</b></em>' \
        https://auth.upsun.com/oauth2/token
    </pre>

    This will return a "Bearer" access token that
    can be used to authenticate further API requests, for example:

    <pre>
    {
        "access_token": "<em><b>abcdefghij1234567890</b></em>",
        "expires_in": 900,
        "token_type": "bearer"
    }
    </pre>

    ### Using the Access Token

    To authenticate further API requests, include this returned bearer token
    in the `Authorization` header. For example, to retrieve a list of
    [Projects](#tag/Project)
    accessible by the current user, you can make the following request
    (substituting the dummy token for your own):

    <pre>
    curl -H "Authorization: Bearer <em><b>abcdefghij1234567890</b></em>" \
        https://api.upsun.com/projects
    </pre>

    # HAL Links

    Most endpoints in the API return fields which defines a HAL
    (Hypertext Application Language) schema for the requested endpoint.
    The particular objects returns and their contents can vary by endpoint.
    The payload examples we give here for the requests do not show these
    elements. These links can allow you to create a fully dynamic API client
    that does not need to hardcode any method or schema.

    Unless they are used for pagination we do not show the HAL links in the
    payload examples in this documentation for brevity and as their content
    is contextual (based on the permissions of the user).

    ## _links Objects

    Most endpoints that respond to `GET` requests will include a `_links` object
    in their response. The `_links` object contains a key-object pair labelled `self`, which defines
    two further key-value pairs:

    * `href` - A URL string referring to the fully qualified name of the returned object. For many endpoints, this will be the direct link to the API endpoint on the region gateway, rather than on the general API gateway. This means it may reference a host of, for example, `eu-2.platform.sh` rather than `api.upsun.com`.
    * `meta` - An object defining the OpenAPI Specification (OAS) [schema object](https://swagger.io/specification/#schemaObject) of the component returned by the endpoint.

    There may be zero or more other fields in the `_links` object resembling fragment identifiers
    beginning with a hash mark, e.g. `#edit` or `#delete`. Each of these keys
    refers to a JSON object containing two key-value pairs:

    * `href` - A URL string referring to the path name of endpoint which can perform the action named in the key.
    * `meta` - An object defining the OAS schema of the endpoint. This consists of a key-value pair, with the key defining an HTTP method and the value defining the [operation object](https://swagger.io/specification/#operationObject) of the endpoint.

    To use one of these HAL links, you must send a new request to the URL defined
    in the `href` field which contains a body defined the schema object in the `meta` field.

    For example, if you make a request such as `GET /projects/abcdefghij1234567890`, the `_links`
    object in the returned response will include the key `#delete`. That object
    will look something like this fragment:

    ```
    "#delete": {
        "href": "/api/projects/abcdefghij1234567890",
        "meta": {
            "delete": {
                "responses": {
                    . . . // Response definition omitted for space
                },
                "parameters": []
            }
        }
    }
    ```

    To use this information to delete a project, you would then send a `DELETE`
    request to the endpoint `https://api.upsun.com/api/projects/abcdefghij1234567890`
    with no body or parameters to delete the project that was originally requested.

    ## _embedded Objects

    Requests to endpoints which create or modify objects, such as `POST`, `PATCH`, or `DELETE`
    requests, will include an `_embedded` key in their response. The object
    represented by this key will contain the created or modified object. This
    object is identical to what would be returned by a subsequent `GET` request
    for the object referred to by the endpoint.
  x-logo:
    url: https://docs.upsun.com/images/upsun-api.svg
    href: https://upsun.com/#section/Introduction
    altText: Upsun logo
servers:
  - url: '{schemes}://api.upsun.com'
    description: The Internal Upsun.com API gateway
    variables:
      schemes:
        default: https
security:
  - BearerAuth: []
tags:
  - name: Cert Management
    description: |
      User-supplied SSL/TLS certificates can be managed using these
      endpoints. You can now list and modify certificate provisioners
      using the `/projects/{projectId}/provisioners` and
      `/projects/{projectId}/provisioners/{certificateProvisionerDocumentId}`
      endpoints. For more information, see our
      [Third-party TLS certificate](https://docs.upsun.com/anchors/domains/custom/custom-certificates/)
      documentation. These endpoints are not for managing certificates
      that are automatically supplied by Upsun via Let's Encrypt.
  - name: Environment
    description: |
      On Upsun, an environment encompasses a single instance of your
      entire application stack, the services used by the application,
      the application's data storage, and the environment's backups.

      In general, an environment represents a single branch or merge request
      in the Git repository backing a project. It is a virtual cluster
      of read-only application and service containers with read-write
      mounts for application and service data.

      On Upsun, the default branch is your production environment—thus,
      merging changes to this branch will put those changes to production.
  - name: Environment Type
    description: |
      Environment Types is the way Upsun manages access. We currently have 3 environment types:
      * Development
      * Staging
      * Production

      Each environment type will contain a group of users and their accesses. We manage access,
      adding, updating and removing users and their roles, here.

      Each environment will have a type, pointing to one of these 3 environment types.
      See `type` in [Environments](#tag/Environment).

      In general:
      * Production will be reserved for the default branch, and cannot be set manually.
      * An environment can be set to be type `staging` or development manually and when branching.

      Dedicated Generation 2 projects have different rules for environment types. If your project
      contains at least one of those Dedicated Generation 2 environments, the rules are slightly different:
      * All non-dedicated environments in your project can be `development` or `staging`, but never `production`.
      * Dedicated Generation 2 environments can be set either to `staging` or `production`, but never `development`.
      * The default branch is not considered to be a special case.
  - name: Environment Backups
    description: |
      A snapshot is a complete backup of an environment, including all the
      persistent data from all services running in an environment and all
      files present in mounted volumes.

      These endpoints can be used to trigger the creation of new backups,
      get information about existing backups, delete existing backups or
      restore a backup.
      More information about backups can be found in our
      [documentation](https://docs.upsun.com/anchors/environments/backup/).
  - name: Environment Type Access
    description: |
      These endpoints can be used to manipulate the access control list
      of an environment type at the environment type level—that is, users and roles
      defined here will apply specifically to a single environment type.
      See [Environment Types](#tag/Environment-Type)

      For more project-level access control, see
      the section entitled [Project Access](#tag/Project-Access).
  - name: Environment Variables
    description: |
      These endpoints manipulate user-defined variables which are bound to a
      specific environment, as well as (optionally) the children of an
      environment. These variables can be made available at both build time
      and runtime. For more information on environment variables,
      see the [Variables](https://docs.upsun.com/anchors/variables/set/environment/create/)
      section of the documentation.
  - name: Autoscaling
    description: |
      Upsun provides native support for autoscaling, allowing your applications to automatically adjust based on resource usage.
      This ensures that your apps remain responsive under load while helping you optimize costs.
      You can configure thresholds for metrics such as CPU, RAM, and request latency.  
      Resources will automatically scale to meet demand.
      Each container profile assigned to an application or service provides a specific combination of CPU and RAM, which you can select via the Upsun UI or CLI.

      These endpoints manage autoscaling configurations that are tied to a
      specific environment, and optionally to its child environments.
      You can define scaling rules based on metrics like CPU, memory, or
      request latency, and these rules will be applied at both build time
      and runtime. For more information on configuring autoscaling for your
      environments, see the [Autoscaling](https://docs.upsun.com/manage-resources/autoscaling.html) section
      of the documentation.
  - name: Project
    description: |
      ## Project Overview

      On Upsun, a Project is backed by a single Git repository
      and encompasses your entire application stack, the services
      used by your application, the application's data storage,
      the production and staging environments, and the backups of those
      environments.

      When you create a new project, you start with a single
      [Environment](#tag/Environment) called *Master*,
      corresponding to the master branch in the Git repository of
      the project—this will be your production environment.

      If you connect your project to an external Git repo
      using one of our [Third-Party Integrations](#tag/Third-Party-Integrations)
      a new development environment can be created for each branch
      or pull request created in the repository. When a new development
      environment is created, the production environment's data
      will be cloned on-the-fly, giving you an isolated, production-ready
      test environment.

      This set of API endpoints can be used to retrieve a list of projects
      associated with an API key, as well as create and update the parameters
      of existing projects.

      > **Note**:
      >
      > To list projects or to create a new project, use [`/subscriptions`](#tag/Subscriptions).
  - name: Project Access
    description: |
      These endpoints can be used to manipulate the access control list
      at the project level. Users and roles defined here will apply globally
      to all environments within a project. For more fine-grained,
      environment-level access control, see the section
      entitled [Environment Type Access](#tag/Environment-Type-Access).
  - name: Project Variables
    description: |
      These endpoints manipulate user-defined variables which are bound to an
      entire project. These variables are accessible to all environments
      within a single project, and they can be made available at both build
      time and runtime. For more information on project variables,
      see the [Variables](https://docs.upsun.com/anchors/variables/set/project/create/)
      section of the documentation.
  - name: Project Settings
    description: |
      These endpoints can be used to retrieve and manipulate project-level
      settings. Only the `initialize` property can be set by end users. It is used
      to initialize a project from an existing Git repository.

      The other properties can only be set by a privileged user.
  - name: Environment Settings
    description: |
      [Internal] These endpoints can be used to retrieve and manipulate environment-level
      settings.

      This is an internal API that can only be used by privileged users.
  - name: Repository
    description: |
      The Git repository backing projects hosted on Upsun can be
      accessed in a **read-only** manner through the `/projects/{projectId}/git/*`
      family of endpoints. With these endpoints, you can retrieve objects from
      the Git repository in the same way that you would in a local environment.
  - name: Domain Management
    description: |
      These endpoints can be used to add, modify, or remove domains from
      a project. For more information on how domains function on
      Upsun, see the [Domains](https://docs.upsun.com/anchors/domains/custom/)
      section of our documentation.
  - name: Routing
    description: |
      These endpoints modify an environment's `.platform/routes.yaml` file.
      For routes to propagate to child environments, the child environments
      must be synchronized with their parent.

      > **Warning**: These endpoints create a new commit in the project repository.
      > This may lead to merge conflicts if you are using an external Git provider
      > through our integrations.
      >
      > **We strongly recommend that you specify your routes in your `.upsun/config.yaml`
      > file if you use an external Git integration such as GitHub or GitLab.**

      More information about routing can be found in the [Routes](https://docs.upsun.com/anchors/routes/)
      section of the documentation.
  - name: Source Operations
    description: |
      These endpoints interact with source code operations as defined in the `source.operations`
      key in a project's `.upsun/config.yaml` configuration. More information
      on source code operations is
      [available in our user documentation](https://docs.upsun.com/anchors/app/source-operations/).
  - name: Deployment Target
    description: |
      Upsun is capable of deploying the production environments of
      projects in multiple topologies: both in clusters of containers, and
      as dedicated virtual machines. This is an internal API that can
      only be used by privileged users.
  - name: Deployments
    description: |
      The deployments endpoints gives detailed information about the actual
      deployment of an active environment. Currently, it returns the _current_
      deployment with information about the different apps, services, and
      routes contained within.
  - name: Third-Party Integrations
    description: |
      Upsun can easily integrate with many third-party services, including
      Git hosting services (GitHub, GitLab, and Bitbucket),
      health notification services (email, Slack, PagerDuty),
      performance analytics platforms (New Relic, Blackfire, Tideways),
      and webhooks.

      For clarification about what information each field requires, see the
      [External Integrations](https://docs.upsun.com/anchors/integrations/)
      documentation. NOTE: The names of the CLI arguments listed in the
      documentation are not always named exactly the same as the
      required body fields in the API request.
  - name: MFA
    description: |
      Multi-factor authentication (MFA) requires the user to present two (or more) types of evidence (or factors) to prove their identity.

      For example, the evidence might be a password and a device-generated code, which show the user has the knowledge factor ("something you know") 
      as well as the possession factor ("something you have"). In this way MFA offers good protection against the compromise of any single factor, 
      such as a stolen password.

      Using the MFA API you can set up time-based one-time passcodes (TOTP), which can be generated on a single registered device ("something you have") such as a mobile phone.
  - name: Subscriptions
    description: |
      Each project is represented by a subscription that holds the plan information.
      These endpoints can be used to go to a larger plan, add more storage, or subscribe to
      optional features.
  - name: Orders
    description: |
      These endpoints can be used to retrieve order information from our billing
      system. Here you can view information about your bill for our services,
      include the billed amount and a link to a PDF of the bill.
  - name: Invoices
    description: |
      These endpoints can be used to retrieve invoices from our billing system.
      An invoice of type "invoice" is generated automatically every month, if the customer has active projects.
      Invoices of type "credit_memo" are a result of manual action when there was a refund or an invoice correction.
  - name: Vouchers
    description: |
      These endpoints can be used to retrieve vouchers associated with a particular
      user as well as apply a voucher to a particular user.
  - name: Records
    description: |
      These endpoints retrieve information about which plans were assigned to a particular
      project at which time.
  - name: Support
    description: |
      These endpoints can be used to retrieve information about support ticket priority
      and allow you to submit new ticket to the Upsun Support Team.
  - name: System Information
    description: |
      These endpoints can be used to retrieve low-level information and interact with the
      core component of Upsun infrastructure.

      This is an internal API that can only be used by privileged users.
  - name: Container Profile
    description: |
      [Internal] These endpoints can be used to manage container settings like CPU and memory.

      This is an internal API that can only be used by privileged users.
paths:
  /alerts/subscriptions/{subscriptionId}/usage:
    get:
      tags:
        - Alerts
      summary: Get usage alerts for a subscription
      operationId: get-usage-alerts
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: The list of current and available alerts for the subscription.
          content:
            application/json:
              schema:
                properties:
                  available:
                    description: The list of available usage alerts.
                    type: array
                    items:
                      $ref: '#/components/schemas/Alert'
                  current:
                    description: The list of the current usage alerts.
                    type: array
                    items:
                      $ref: '#/components/schemas/Alert'
                type: object
    patch:
      tags:
        - Alerts
      summary: Update usage alerts.
      operationId: update-usage-alerts
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                alerts:
                  description: The list of usage alerts to create or update.
                  type: array
                  items:
                    $ref: '#/components/schemas/Alert'
              type: object
      responses:
        '200':
          description: The list of current and available alerts for the subscription.
          content:
            application/json:
              schema:
                properties:
                  available:
                    description: The list of available usage alerts.
                    type: array
                    items:
                      $ref: '#/components/schemas/Alert'
                  current:
                    description: The list of the current usage alerts.
                    type: array
                    items:
                      $ref: '#/components/schemas/Alert'
                type: object
  /orders/{orderId}/refresh:
    post:
      tags:
        - Orders
      summary: '[Internal] Enqueues a refresh for provided order'
      description: Enqueues the order to refresh its line_items
      operationId: refresh-order
      parameters:
        - $ref: '#/components/parameters/order_id'
      responses:
        '200':
          description: The result of the operation, if the order was enqueued or not for refresing
          content:
            application/json:
              schema:
                properties:
                  result:
                    description: An informative string
                    type: string
                type: object
  /orders/download:
    get:
      tags:
        - Orders
      summary: Download an invoice.
      operationId: download-invoice
      parameters:
        - name: token
          in: query
          description: JWT for invoice.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: An invoice PDF.
          content:
            application/pdf: {}
  /transactions:
    get:
      tags:
        - Orders
      summary: '[Internal] List payment transactions'
      operationId: list-transactions
      parameters:
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/all'
      responses:
        '200':
          description: The list of transactions.
          content:
            application/json:
              schema:
                properties:
                  transaction:
                    description: Array of transaction information.
                    type: array
                    items:
                      $ref: '#/components/schemas/Transaction'
                  count:
                    description: Total number of results.
                    type: integer
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
  /transaction/{id}:
    get:
      tags:
        - Orders
      summary: '[Internal] Get payment transaction'
      operationId: get-transaction
      parameters:
        - $ref: '#/components/parameters/transactionId'
      responses:
        '200':
          description: A Transaction object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
  /discounts/{id}:
    get:
      tags:
        - Discounts
      summary: Get an organization discount
      operationId: get-discount
      parameters:
        - $ref: '#/components/parameters/discountId'
      responses:
        '200':
          description: A discount object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Discount'
      x-vendor: upsun
    patch:
      tags:
        - Discounts
      summary: '[Internal] Update the configuration of organization discount.'
      operationId: update-discount
      parameters:
        - $ref: '#/components/parameters/discountId'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                status:
                  description: Update discount status.
                  type: string
                  enum:
                    - deactivated
                config:
                  description: The configuration of the discount (if applicable)
                  properties:
                    discount_amount:
                      description: The monthly discount amount.
                      type: integer
                    discount_currency:
                      description: The discount currency.
                      type: string
                    commitment_amount:
                      description: The commitment amount per period per contract.
                      type: integer
                    commitment_months:
                      description: The commitment period duration in months.
                      type: integer
                    start_year:
                      description: The start year of the discount period.
                      type: integer
                    start_month:
                      description: The start month of the discount period.
                      type: integer
                    end_year:
                      description: The end year of the discount period.
                      type: integer
                    end_month:
                      description: The end month of the discount period.
                      type: integer
                  type: object
              type: object
      responses:
        '200':
          description: The updated organization discount
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Discount'
      x-vendor: upsun
  /discounts/types/allowance:
    get:
      tags:
        - Discounts
      summary: Get the value of the First Project Incentive discount
      operationId: get-type-allowance
      responses:
        '200':
          description: A discount object
          content:
            application/json:
              schema:
                properties:
                  currencies:
                    description: Discount values per currency.
                    properties:
                      EUR:
                        description: Discount value in EUR.
                        properties:
                          formatted:
                            description: The discount amount formatted.
                            type: string
                          amount:
                            description: The discount amount.
                            type: number
                            format: float
                          currency:
                            description: The currency.
                            type: string
                          currency_symbol:
                            description: Currency symbol.
                            type: string
                        type: object
                      USD:
                        description: Discount value in USD.
                        properties:
                          formatted:
                            description: The discount amount formatted.
                            type: string
                          amount:
                            description: The discount amount.
                            type: number
                            format: float
                          currency:
                            description: The currency.
                            type: string
                          currency_symbol:
                            description: Currency symbol.
                            type: string
                        type: object
                      GBP:
                        description: Discount value in GBP.
                        properties:
                          formatted:
                            description: The discount amount formatted.
                            type: string
                          amount:
                            description: The discount amount.
                            type: number
                            format: float
                          currency:
                            description: The currency.
                            type: string
                          currency_symbol:
                            description: Currency symbol.
                            type: string
                        type: object
                      AUD:
                        description: Discount value in AUD.
                        properties:
                          formatted:
                            description: The discount amount formatted.
                            type: string
                          amount:
                            description: The discount amount.
                            type: number
                            format: float
                          currency:
                            description: The currency.
                            type: string
                          currency_symbol:
                            description: Currency symbol.
                            type: string
                        type: object
                      CAD:
                        description: Discount value in CAD.
                        properties:
                          formatted:
                            description: The discount amount formatted.
                            type: string
                          amount:
                            description: The discount amount.
                            type: number
                            format: float
                          currency:
                            description: The currency.
                            type: string
                          currency_symbol:
                            description: Currency symbol.
                            type: string
                        type: object
                    type: object
                type: object
      x-vendor: upsun
  /prepayment/list:
    get:
      tags:
        - Organization Management
      summary: '[Internal] Retrieves a list of all prepaid (FRF) organizations and their prepayment information'
      operationId: get-prepay-list
      responses:
        '200':
          description: The list of all prepaid (FRF) organizations and their prepayment information
          content:
            application/json:
              schema:
                properties:
                  count:
                    description: Total number of results.
                    type: integer
                  prepayment:
                    description: Array of prepay information.
                    type: array
                    items:
                      $ref: '#/components/schemas/Prepayment'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
      x-vendor: upsun
  /me:
    get:
      tags:
        - Users
      summary: Get current logged-in user info
      description: Retrieve information about the currently logged-in user (the user associated with the access token).
      operationId: get-current-user-deprecated
      responses:
        '200':
          description: The user object.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CurrentUser'
      deprecated: true
  /api/platform/users/{uuid}/ssh_keys:
    get:
      tags:
        - SSH Keys
      summary: '[Internal] List a user''s SSH keys'
      description: Retrieve all SSH keys associated with a single user, as specified by the user's UUID.
      operationId: get-user-ssh-keys
      parameters:
        - name: uuid
          in: path
          description: The UUID of the owner.
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: A List of SSH public key records.
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    fingerprint:
                      description: The fingerprint of the public key.
                      type: string
                    value:
                      description: The actual value of the public key.
                      type: string
                  type: object
  /ssh_keys/{key_id}:
    get:
      tags:
        - SSH Keys
      summary: Get an SSH key
      operationId: get-ssh-key
      parameters:
        - name: key_id
          in: path
          description: The ID of the ssh key.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: A single SSH public key record.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SSHKey'
    delete:
      tags:
        - SSH Keys
      summary: Delete an SSH key
      operationId: delete-ssh-key
      parameters:
        - name: key_id
          in: path
          description: The ID of the ssh key.
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Success.
  /ssh_keys:
    post:
      tags:
        - SSH Keys
      summary: Add a new public SSH key to a user
      operationId: create-ssh-key
      requestBody:
        content:
          application/json:
            schema:
              required:
                - value
              properties:
                value:
                  description: The value of the ssh key.
                  type: string
                title:
                  description: The title of the ssh key.
                  type: string
                uuid:
                  description: The uuid of the user.
                  type: string
              type: object
      responses:
        '201':
          description: The newly created ssh key.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SSHKey'
  /me/phone:
    post:
      tags:
        - Users
      summary: Check if phone verification is required
      description: Find out if the current logged in user requires phone verification to create projects.
      operationId: get-current-user-verification-status
      responses:
        '200':
          description: The information pertinent to determine if the account requires phone verification before project creation.
          content:
            application/json:
              schema:
                properties:
                  verify_phone:
                    description: Does this user need to verify their phone number for project creation.
                    type: boolean
                type: object
  /me/verification:
    post:
      tags:
        - Users
      summary: Check if verification is required
      description: Find out if the current logged in user requires verification (phone or staff) to create projects.
      operationId: get-current-user-verification-status-full
      responses:
        '200':
          description: The information pertinent to determine if the account requires any type of verification before project creation.
          content:
            application/json:
              schema:
                properties:
                  state:
                    description: Does this user need verification for project creation.
                    type: boolean
                  type:
                    description: What type of verification is needed (phone or ticket)
                    type: string
                type: object
  /caps/project/{subscriptionId}:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] List project caps'
      description: Retrieve all caps for a project.
      operationId: list-project-caps
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: The list of project caps.
          content:
            application/json:
              schema:
                properties:
                  project_caps:
                    description: Array of standard project caps information.
                    type: array
                    items:
                      $ref: '#/components/schemas/ProjectCaps'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
  /caps/project/{subscriptionId}/{capsType}:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] List caps of type'
      description: List all caps of a particular type for a particular project.
      operationId: list-project-caps-by-type
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/caps_type'
      responses:
        '200':
          description: The list of project caps.
          content:
            application/json:
              schema:
                properties:
                  project_caps:
                    description: Array of standard project caps information.
                    type: array
                    items:
                      $ref: '#/components/schemas/ProjectCaps'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
    post:
      tags:
        - Subscriptions
      summary: '[Internal] Set caps'
      description: Set new caps of a type for a project.
      operationId: set-project-caps
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/caps_type'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                resource_preset:
                  description: The resource preset for the project caps.
                  type: string
                name:
                  description: The environment type name.
                  enum:
                    - development
                    - staging
                    - production
                cpu:
                  description: The cpu value.
                  type: number
                memory:
                  description: The memory value.
                  type: integer
                storage:
                  description: The storage value.
                  type: integer
                environments:
                  description: The environments value.
                  type: integer
              type: object
      responses:
        '200':
          description: A Project environment caps object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCaps'
  /caps/project/{subscriptionId}/{capsType}/{envName}:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] List caps of type for env'
      description: For a particular project, retrieve a list of caps of a type for a single environment.
      operationId: get-project-caps
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/caps_type'
        - $ref: '#/components/parameters/env_name'
      responses:
        '200':
          description: An environment caps object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCaps'
    delete:
      tags:
        - Subscriptions
      summary: '[Internal] Delete caps'
      description: Delete all caps of a type for a project.
      operationId: delete-project-caps
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/caps_type'
        - $ref: '#/components/parameters/env_name'
      responses:
        '204':
          description: Success.
    patch:
      tags:
        - Subscriptions
      summary: '[Internal] Update caps'
      description: Update a project environment caps of a particular type.
      operationId: update-project-caps
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/caps_type'
        - $ref: '#/components/parameters/env_name'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                resource_preset:
                  description: The resource preset.
                  type: string
                cpu:
                  description: The cpu value.
                  type: number
                memory:
                  description: The memory value.
                  type: integer
                storage:
                  description: The storage value.
                  type: integer
                environments:
                  description: The maximum number of environments.
                  type: integer
              type: object
      responses:
        '200':
          description: A Project environment caps object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCaps'
  /caps/size:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] List all caps size'
      description: List the caps associated with the various plan sizes
      operationId: list-caps-size
      responses:
        '200':
          description: The list of caps size.
          content:
            application/json:
              schema:
                properties:
                  caps_size:
                    description: Array of caps size.
                    type: array
                    items:
                      $ref: '#/components/schemas/CapsSize'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
  /resources/subscription/{subscriptionId}:
    post:
      tags:
        - resources
      summary: '[Internal] Validate and add resources.'
      operationId: add-subscription-resources
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: Resource request accepted.
  /subscriptions/billing-only:
    post:
      tags:
        - Subscriptions
      summary: '[Internal] Start a new subscription without provisioning the project'
      operationId: create-billing-only-subscription
      requestBody:
        content:
          application/json:
            schema:
              properties:
                region:
                  description: The machine name of the region where the project is located. Cannot be changed after project creation.
                  type: string
                project_id:
                  description: The project id.
                  type: string
                organization_id:
                  description: The organization id.
                  type: string
                plan:
                  description: The plan type of the subscription.
                  type: string
                  default: null
                  enum:
                    - development
                    - standard
                    - medium
                    - large
                    - xlarge
                    - 2xlarge
              type: object
      responses:
        '200':
          description: A Subscription object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
  /subscriptions/{subscriptionId}/suspend:
    post:
      tags:
        - Subscriptions
      summary: '[Internal] Suspend a subscription'
      operationId: suspend-subscription
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: A Subscription object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
  /subscriptions/{subscriptionId}/reactivate:
    post:
      tags:
        - Subscriptions
      summary: '[Internal] Reactivate a subscription'
      operationId: reactivate-subscription
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: A Subscription object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
  /subscriptions/{subscriptionId}/owner:
    post:
      tags:
        - Subscriptions
      summary: '[Internal] Change the owner of a subscription'
      operationId: change-subscription-owner
      parameters:
        - $ref: '#/components/parameters/subscription_id'
      responses:
        '200':
          description: A Subscription object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
  /subscriptions/{subscriptionId}/flex-calc:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] Calculate conversion cost for license from a fixed to flexible plan'
      operationId: flex-calc-subscription
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - name: format
          in: query
          description: The format mode of the estimation.
          schema:
            type: string
            default: null
            enum:
              - formatted
              - complex
        - name: include_org_costs
          in: query
          description: Whether to include an estimate of organization costs for a conversion.
          schema:
            type: string
            default: null
            enum:
              - '0'
              - '1'
      responses:
        '200':
          description: A fixed to flexible price estimate object.
          content:
            application/json:
              schema:
                properties:
                  plan:
                    description: The monthly price of the plan.
                    type: string
                  resources_total:
                    description: The monthly price of project resources.
                    type: string
                  total:
                    description: The total monthly price.
                    type: string
                type: object
  /subscriptions/{subscriptionId}/can-update:
    get:
      tags:
        - Subscriptions
      summary: Checks if the user is able to update a project.
      operationId: can-update-subscription
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/subscription_plan'
        - $ref: '#/components/parameters/subscription_environments'
        - $ref: '#/components/parameters/subscription_storage'
        - $ref: '#/components/parameters/subscription_user_licenses'
        - $ref: '#/components/parameters/ignore_admin_privileges'
      responses:
        '200':
          description: Check result with error message if presented
          content:
            application/json:
              schema:
                properties:
                  can_update:
                    description: Boolean result of the check.
                    type: boolean
                  message:
                    description: Details in case of negative check result.
                    type: string
                  required_action:
                    description: Required action impeding project update.
                    type: object
                type: object
  /subscriptions/{subscriptionId}/can-transfer:
    get:
      tags:
        - Subscriptions
      summary: '[Internal] Checks if a project is allowed to be transferred to a specific organization.'
      operationId: can-transfer-subscription
      parameters:
        - $ref: '#/components/parameters/subscription_id'
        - $ref: '#/components/parameters/target_organization'
      responses:
        '200':
          description: Check result with error message if presented
          content:
            application/json:
              schema:
                properties:
                  can_transfer:
                    description: Boolean result of the check.
                    type: boolean
                  message:
                    description: Details in case of negative check result.
                    type: string
                  required_action:
                    description: Required action impending project transfer.
                    type: object
                type: object
  /pricebook:
    get:
      tags:
        - Pricebooks
      summary: '[Internal] List pricebooks'
      description: Retrieves a list of pricebooks for all organizations. Unless the organization is using the default pricebook, each pricebook will only list overridden prices (custom to the organization, inherited from the tier, or a combination).
      operationId: list-pricebooks
      parameters:
        - $ref: '#/components/parameters/filter_pricebook_source'
      responses:
        '200':
          description: The list of pricebooks by organization.
          content:
            application/json:
              schema:
                properties:
                  count:
                    description: Total number of results.
                    type: integer
                  pricebook:
                    description: Array of organization pricebooks.
                    type: array
                    items:
                      $ref: '#/components/schemas/Pricebook'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
  /pricebook/organization/{organization_id}:
    get:
      tags:
        - Pricebooks
      summary: '[Internal] Show pricebook for an organization'
      description: Retrieves an organization's pricebook. Unless the organization is using the default pricebook, the pricebook will only list overridden prices (custom to the organization, inherited from the tier, or a combination).
      operationId: get-pricebook
      parameters:
        - $ref: '#/components/parameters/organization_id'
      responses:
        '200':
          description: Pricebook for an organization.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TierPricebook'
    put:
      tags:
        - Pricebooks
      summary: '[Internal] Replace a pricebook'
      description: Replaces an entire pricebook for an organization, or adds one if missing.
      operationId: replace-pricebook
      parameters:
        - $ref: '#/components/parameters/organization_id'
      requestBody:
        content:
          application/json:
            schema:
              required:
                - products
              properties:
                products:
                  description: 'The new pricebook (a map of {sku: price}). Prices should be specified as decimals.'
                  type: object
              type: object
      responses:
        '200':
          description: A pricebook.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pricebook'
    delete:
      tags:
        - Pricebooks
      summary: '[Internal] Delete a pricebook'
      operationId: delete-pricebook
      parameters:
        - $ref: '#/components/parameters/organization_id'
      responses:
        '204':
          description: Custom pricebook deleted.
    patch:
      tags:
        - Pricebooks
      summary: '[Internal] Update a pricebook'
      description: Updates prices for one or more products of an organization.
      operationId: update-pricebook
      parameters:
        - $ref: '#/components/parameters/organization_id'
      requestBody:
        content:
          application/json:
            schema:
              description: 'Items (a map of {sku: price}) to update in the pricebook. Prices should be specified as decimals.'
              type: object
      responses:
        '200':
          description: A pricebook.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pricebook'
  /pricebook/tier/{tier_id}/{currency}:
    get:
      tags:
        - Pricebooks
      summary: '[Internal] Show pricebook for a tier'
      operationId: get-tier-pricebook
      parameters:
        - $ref: '#/components/parameters/tier_id'
        - $ref: '#/components/parameters/currency'
      responses:
        '200':
          description: Pricebook for a tier.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TierPricebook'
  /pricebook/default/{currency}:
    get:
      tags:
        - Pricebooks
      summary: '[Internal] Show default pricebook'
      operationId: get-default-pricebook
      parameters:
        - $ref: '#/components/parameters/currency'
      responses:
        '200':
          description: Default pricebook.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultPricebook'
  /profiles:
    get:
      tags:
        - User Profiles
      summary: List user profiles
      operationId: list-profiles
      responses:
        '200':
          description: The list of user profiles.
          content:
            application/json:
              schema:
                properties:
                  count:
                    description: Total number of results.
                    type: integer
                  profiles:
                    description: Array of user profiles.
                    type: array
                    items:
                      $ref: '#/components/schemas/Profile'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
  /profiles/{userId}:
    get:
      tags:
        - User Profiles
      summary: Get a single user profile
      operationId: get-profile
      parameters:
        - $ref: '#/components/parameters/user_id'
      responses:
        '200':
          description: A User profile object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
    delete:
      tags:
        - Profiles
      summary: '[Internal] Delete organization or user profile'
      operationId: delete-profile
      parameters:
        - $ref: '#/components/parameters/user_id'
      responses:
        '204':
          description: Success.
    patch:
      tags:
        - User Profiles
      summary: Update a user profile
      description: Update a user profile, supplying one or more key/value pairs to to change.
      operationId: update-profile
      parameters:
        - $ref: '#/components/parameters/user_id'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                display_name:
                  description: The user's display name.
                  type: string
                username:
                  description: The user's username.
                  type: string
                current_password:
                  description: The user's current password.
                  type: string
                password:
                  description: The user's new password.
                  type: string
                company_type:
                  description: The company type.
                  type: string
                company_name:
                  description: The name of the company.
                  type: string
                vat_number:
                  description: The vat number of the user.
                  type: string
                company_role:
                  description: The role of the user in the company.
                  type: string
                marketing:
                  description: Flag if the user agreed to receive marketing communication.
                  type: boolean
                ui_colorscheme:
                  description: The user's chosen color scheme for user interfaces. Available values are 'light' and 'dark'.
                  type: string
                default_catalog:
                  description: The URL of a catalog file which overrides the default.
                  type: string
                project_options_url:
                  description: The URL of an account-wide project options file.
                  type: string
                picture:
                  description: Url of the user's picture.
                  type: string
              type: object
      responses:
        '200':
          description: A User profile object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
  /profiles/{userId}/address:
    get:
      tags:
        - User Profiles
      summary: Get a user address
      operationId: get-address
      parameters:
        - $ref: '#/components/parameters/user_id'
      responses:
        '200':
          description: A user Address object extended with field metadata
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/Address'
                  - $ref: '#/components/schemas/AddressMetadata'
    patch:
      tags:
        - User Profiles
      summary: Update a user address
      description: Update a user address, supplying one or more key/value pairs to to change.
      operationId: update-address
      parameters:
        - $ref: '#/components/parameters/user_id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Address'
      responses:
        '200':
          description: A user Address object extended with field metadata.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/Address'
                  - $ref: '#/components/schemas/AddressMetadata'
  /profiles/{userId}/status:
    get:
      tags:
        - Profiles
      summary: '[Internal] Get profile status'
      operationId: get-org-profile-status
      parameters:
        - $ref: '#/components/parameters/user_id'
      responses:
        '200':
          description: The status object
          content:
            application/json:
              schema:
                properties:
                  total_unpaid:
                    description: The total unpaid amount the organization has to pay.
                    type: boolean
                  owns_projects:
                    description: Whether the organization owns projects.
                    type: boolean
                  can_delete:
                    description: Whether the organization can be deleted.
                    type: boolean
                type: object
  /profiles/{userId}/billing_report:
    get:
      tags:
        - Profiles
      summary: '[Internal] Get profile billing report'
      operationId: get-user-profile-billing-report
      parameters:
        - $ref: '#/components/parameters/user_id'
      responses:
        '200':
          description: The billing report
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    is_owner:
                      description: Whether the user is the organization owner.
                      type: boolean
                    created_at:
                      description: The date and time when the organization was created.
                      type: string
                      format: date-time
                    orders:
                      description: Array of orders.
                      type: array
                      items:
                        properties:
                          status:
                            description: The status of the order.
                            type: string
                          created_at:
                            description: The date and time when the order was created.
                            type: string
                            format: date-time
                          total:
                            description: The total amount of the order.
                            type: integer
                          currency_code:
                            description: The currency code of the total amount.
                            type: string
                        type: object
                  type: object
  /profile/{uuid}/picture:
    post:
      tags:
        - User Profiles
      summary: Create a user profile picture
      operationId: create-profile-picture
      parameters:
        - name: uuid
          in: path
          description: The uuid of the user
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  description: The image file to upload.
                  type: string
                  format: binary
              type: object
      responses:
        '200':
          description: The new picture url.
          content:
            application/json:
              schema:
                properties:
                  url:
                    description: The relative url of the picture.
                    type: string
                type: object
    delete:
      tags:
        - User Profiles
      summary: Delete a user profile picture
      operationId: delete-profile-picture
      parameters:
        - name: uuid
          in: path
          description: The uuid of the user
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: No Content success.
  /vouchers-list:
    get:
      tags:
        - Vouchers
      summary: '[Internal] Administrative all-vouchers listing.'
      description: Supplmenental voucher API for handling administrative list requests.
      operationId: list-all-vouchers
      responses:
        '200':
          description: A List of vouchers.
          content:
            application/json:
              schema:
                properties:
                  vouchers:
                    description: Array of vouchers.
                    type: array
                    items:
                      properties:
                        id:
                          description: The voucher identifier.
                          type: number
                        code:
                          description: The voucher code.
                          type: string
                        created:
                          description: The creation date of the voucher.
                          type: string
                          format: date-time
                        creator:
                          description: The UUID of the voucher creator.
                          type: string
                          format: uuid
                        last_updated:
                          description: The date the most recent voucher line item was updated.
                          type: string
                          format: date-time
                        is_applied:
                          description: The voucher is applied.
                          type: number
                        organization:
                          description: The organization to which the voucher is applied, if applicable.
                          type: string
                        status:
                          description: The status of the voucher.
                          type: number
                        dates:
                          description: The dates the voucher is available.
                          properties:
                            start:
                              description: The start date.
                              type: string
                            end:
                              description: The end date.
                              type: string
                          type: object
                        amount:
                          description: The value of the voucher.
                          properties:
                            currency:
                              description: The currency of the voucher.
                              type: string
                            value:
                              description: The total original voucher credit.
                              type: number
                              format: float
                            applied:
                              description: The total voucher amount applied to closed orders.
                              type: number
                              format: float
                            remaining:
                              description: The sum of 'value' and 'applied'.
                              type: number
                              format: float
                            pending:
                              description: The voucher amount scheduled to be applied to the current open order.
                              type: number
                              format: float
                            orders_applied_to:
                              description: The map of vouchered orders and amounts applied for each.
                              properties:
                                order_id:
                                  description: The order ID.
                                  type: number
                                end:
                                  description: The amount applied to the order.
                                  type: number
                              type: object
                          type: object
                      type: object
                type: object
  /zendesk_messenger:
    get:
      tags:
        - Support
      summary: '[Internal] Return a token for use with zendesk messaging'
      operationId: get-messaging-token
      responses:
        '200':
          description: A JWT token generate with a signed zendesk request.
          content:
            application/json:
              schema:
                properties:
                  jwt:
                    description: JWT for Zendesk messaging.
                    type: string
                type: object
  /comments:
    get:
      tags:
        - Support
      summary: '[Internal] List support ticket comments'
      operationId: list-comments
      parameters:
        - $ref: '#/components/parameters/filter_ticket_id'
        - $ref: '#/components/parameters/filter_comment_id'
        - $ref: '#/components/parameters/filter_author_id'
        - $ref: '#/components/parameters/filter_created_at'
        - $ref: '#/components/parameters/filter_public'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/all'
      responses:
        '200':
          description: The list of comments.
          content:
            application/json:
              schema:
                properties:
                  count:
                    description: Total number of results.
                    type: integer
                  comments:
                    description: Array of support ticket comments.
                    type: array
                    items:
                      $ref: '#/components/schemas/Comment'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
    post:
      tags:
        - Support
      summary: '[Internal] Create a new support ticket comment'
      operationId: create-comment
      requestBody:
        content:
          application/json:
            schema:
              properties:
                ticket_id:
                  description: The id of the ticket.
                  type: integer
                body:
                  description: The body of the ticket comment.
                  type: string
                author_id:
                  description: The ID of the author of the comment
                  type: string
                public:
                  description: 1 if the comment is public and therefore should be displayed to nonadmin users.
                  type: string
                attachments:
                  description: A list of attachments for the ticket.
                  type: array
                  items:
                    properties:
                      filename:
                        description: The filename to be used in storage.
                        type: string
                      data:
                        description: the base64 encoded file.
                        type: string
                    type: object
              type: object
      responses:
        '200':
          description: A Support Ticket Comment object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
  /comments/{ticket_id}/description:
    get:
      tags:
        - Support
      summary: '[Internal] Get the first comment of a support ticket'
      operationId: get-first-comment
      parameters:
        - name: ticket_id
          in: path
          description: The ID of the ticket
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The first comment in the ticket.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
  /comments/{ticket_id}/attachments:
    get:
      tags:
        - Support
      summary: '[Internal] List support ticket attachments'
      operationId: list-comment-attachments
      parameters:
        - name: ticket_id
          in: path
          description: The ID of the ticket
          required: true
          schema:
            type: string
      responses:
        '200':
          description: List of all attachments in the ticket.
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    filename:
                      description: The filename to be used in storage.
                      type: string
                    uri:
                      description: relative url for the callback to access the file.
                      type: string
                    content_type:
                      description: Content type for header.
                      type: string
                  type: object
  /tickets:
    get:
      summary: List support tickets
      operationId: list-tickets
      parameters:
        - $ref: '#/components/parameters/filter_ticket_id'
        - $ref: '#/components/parameters/filter_created'
        - $ref: '#/components/parameters/filter_updated'
        - $ref: '#/components/parameters/filter_type'
        - $ref: '#/components/parameters/filter_priority'
        - $ref: '#/components/parameters/filter_ticket_status'
        - $ref: '#/components/parameters/filter_requester_id'
        - $ref: '#/components/parameters/filter_submitter_id'
        - $ref: '#/components/parameters/filter_assignee_id'
        - $ref: '#/components/parameters/filter_has_incidents'
        - $ref: '#/components/parameters/filter_due'
        - name: search
          in: query
          description: Search string for the ticket subject and description.
          schema:
            type: string
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/all'
      responses:
        '200':
          description: The list of tickets.
          content:
            application/json:
              schema:
                properties:
                  count:
                    description: Total number of results.
                    type: integer
                  tickets:
                    description: Array of support tickets.
                    type: array
                    items:
                      $ref: '#/components/schemas/Ticket'
                  _links:
                    $ref: '#/components/schemas/HalLinks'
                type: object
    post:
      tags:
        - Support
      summary: Create a new support ticket
      operationId: create-ticket
      requestBody:
        content:
          application/json:
            schema:
              required:
                - subject
                - description
              properties:
                subject:
                  description: A title of the ticket.
                  type: string
                description:
                  description: The description body of the support ticket.
                  type: string
                requester_id:
                  description: UUID of the ticket requester. Converted from the ZID value.
                  type: string
                  format: uuid
                priority:
                  description: A priority of the ticket.
                  type: string
                  enum:
                    - low
                    - normal
                    - high
                    - urgent
                subscription_id:
                  description: see create()
                  type: string
                organization_id:
                  description: see create()
                  type: string
                affected_url:
                  description: see create().
                  type: string
                  format: url
                followup_tid:
                  description: The unique ID of the ticket which this ticket is a follow-up to.
                  type: string
                category:
                  description: The category of the support ticket.
                  type: string
                  enum:
                    - access
                    - billing_question
                    - complaint
                    - compliance_question
                    - configuration_change
                    - general_question
                    - incident_outage
                    - bug_report
                    - report_a_gui_bug
                    - onboarding
                    - close_my_account
                attachments:
                  description: A list of attachments for the ticket.
                  type: array
                  items:
                    properties:
                      filename:
                        description: The filename to be used in storage.
                        type: string
                      data:
                        description: the base64 encoded file.
                        type: string
                    type: object
                collaborator_ids:
                  description: A list of collaborators uuids for the ticket.
                  type: array
                  items:
                    type: string
              type: object
      responses:
        '200':
          description: A Support Ticket object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ticket'
  /tickets/{ticket_id}:
    patch:
      tags:
        - Support
      summary: Update a ticket
      operationId: update-ticket
      parameters:
        - name: ticket_id
          in: path
          description: The ID of the ticket
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                status:
                  description: The status of the support ticket.
                  type: string
                  enum:
                    - open
                    - solved
                collaborator_ids:
                  description: A list of collaborators uuids for the ticket.
                  type: array
                  items:
                    type: string
                collaborators_replace:
                  description: Whether or not should replace ticket collaborators with the provided values. If false, the collaborators will be appended.
                  type: boolean
                  default: null
              type: object
      responses:
        '200':
          description: Success.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ticket'
        '204':
          description: The ticket was not updated.
  /tickets/priority:
    get:
      tags:
        - Support
      summary: List support ticket priorities
      operationId: list-ticket-priorities
      parameters:
        - name: subscription_id
          in: query
          description: The ID of the subscription the ticket should be related to
          required: false
          schema:
            type: string
        - name: category
          in: query
          description: The category of the support ticket.
          required: false
          schema:
            type: string
      responses:
        '200':
          description: An array of available priorities for that license.
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      description: Machine name of the priority.
                      type: string
                    label:
                      description: The human-readable label of the priority.
                      type: string
                    short_description:
                      description: The short description of the priority.
                      type: string
                    description:
                      description: The long description of the priority.
                      type: string
                  type: object
  /tickets/category:
    get:
      tags:
        - Support
      summary: List support ticket categories
      operationId: list-ticket-categories
      parameters:
        - name: subscription_id
          in: query
          description: The ID of the subscription the ticket should be related to
          required: false
          schema:
            type: string
        - name: organization_id
          in: query
          description: The ID of the organization the ticket should be related to
          required: false
          schema:
            type: string
      responses:
        '200':
          description: An array of available categories for a ticket.
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      description: Machine name of the category as is listed in zendesk.
                      type: string
                    label:
                      description: The human-readable label of the category.
                      type: string
                  type: object
  /organizations/{organization_id}/invitations:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
    post:
      summary: Invite user to an organization by email
      description: Creates an invitation to an organization for a user with the specified email address.
      operationId: create-org-invite
      tags:
        - Organization Invitations
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationInvitation'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict when there already is a pending invitation for the invitee
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  description: The email address of the invitee.
                permissions:
                  $ref: '#/components/schemas/OrganizationPermissions'
                force:
                  type: boolean
                  description: Whether to cancel any pending invitation for the specified invitee, and create a new invitation.
              required:
                - email
                - permissions
    get:
      summary: List invitations to an organization
      description: Returns a list of invitations to an organization.
      operationId: list-org-invites
      tags:
        - Organization Invitations
      parameters:
        - in: query
          name: filter[state]
          description: 'Allows filtering by `state` of the invtations: "pending" (default), "error".'
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrganizationInvitation'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/invitations/{invitation_id}:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
      - $ref: '#/components/parameters/InvitationID'
    delete:
      summary: Cancel a pending invitation to an organization
      description: Cancels the specified invitation.
      operationId: cancel-org-invite
      tags:
        - Organization Invitations
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /projects/{project_id}/invitations:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
    post:
      summary: Invite user to a project by email
      description: Creates an invitation to a project for a user with the specified email address.
      operationId: create-project-invite
      tags:
        - Project Invitations
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectInvitation'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '402':
          description: Payment Required when the number of users exceeds the subscription limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict when there already is a pending invitation for the invitee
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                role:
                  type: string
                  enum:
                    - admin
                    - viewer
                  description: The role the invitee should be given on the project.
                  default: null
                email:
                  type: string
                  format: email
                  description: The email address of the invitee.
                permissions:
                  type: array
                  description: Specifying the role on each environment type.
                  items:
                    type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - production
                          - staging
                          - development
                        description: The environment type.
                      role:
                        type: string
                        enum:
                          - admin
                          - viewer
                          - contributor
                        description: The role the invitee should be given on the environment type.
                environments:
                  deprecated: true
                  type: array
                  description: (Deprecated, use permissions instead) Specifying the role on each environment.
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: The ID of the environment.
                      role:
                        type: string
                        enum:
                          - admin
                          - viewer
                          - contributor
                        description: The role the invitee should be given on the environment.
                force:
                  type: boolean
                  description: Whether to cancel any pending invitation for the specified invitee, and create a new invitation.
              required:
                - email
    get:
      summary: List invitations to a project
      description: Returns a list of invitations to a project.
      operationId: list-project-invites
      tags:
        - Project Invitations
      parameters:
        - in: query
          name: filter[state]
          description: 'Allows filtering by `state` of the invtations: "pending" (default), "error".'
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectInvitation'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /projects/{project_id}/invitations/{invitation_id}:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
      - $ref: '#/components/parameters/InvitationID'
    delete:
      summary: Cancel a pending invitation to a project
      description: Cancels the specified invitation.
      operationId: cancel-project-invite
      tags:
        - Project Invitations
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /ref/users:
    get:
      summary: List referenced users
      description: Retrieves a list of users referenced by a trusted service. Clients cannot construct the URL themselves. The correct URL will be provided in the HAL links of another API response, in the <code>_links</code> object with a key like <code>ref:users:0</code>.
      operationId: list-referenced-users
      tags:
        - References
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                description: A map of referenced users indexed by the user ID.
                additionalProperties:
                  $ref: '#/components/schemas/UserReference'
              examples:
                example-1:
                  value:
                    497f6eca-6276-4993-bfeb-53cbbbba6f08:
                      email: user@example.com
                      first_name: string
                      id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
                      last_name: string
                      picture: https://accounts.platform.sh/profiles/blimp_profile/themes/platformsh_theme/images/mail/logo.png
                      username: string
                      mfa_enabled: false
                      sso_enabled: false
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters:
        - schema:
            type: string
          in: query
          name: in
          description: The list of comma-separated user IDs generated by a trusted service.
          required: true
        - schema:
            type: string
          in: query
          name: sig
          description: The signature of this request generated by a trusted service.
          required: true
  /ref/teams:
    get:
      summary: List referenced teams
      description: Retrieves a list of teams referenced by a trusted service. Clients cannot construct the URL themselves. The correct URL will be provided in the HAL links of another API response, in the <code>_links</code> object with a key like <code>ref:teams:0</code>.
      operationId: list-referenced-teams
      tags:
        - References
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                description: A map of referenced teams indexed by the team ID.
                additionalProperties:
                  $ref: '#/components/schemas/TeamReference'
              examples:
                example-1:
                  value:
                    01FVMKN9KHVWWVY488AVKDWHR3:
                      id: 01FVMKN9KHVWWVY488AVKDWHR3
                      label: Contractors
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters:
        - schema:
            type: string
          in: query
          name: in
          description: The list of comma-separated team IDs generated by a trusted service.
          required: true
        - schema:
            type: string
          in: query
          name: sig
          description: The signature of this request generated by a trusted service.
          required: true
  /teams:
    get:
      summary: List teams
      description: Retrieves a list of teams.
      operationId: list-teams
      tags:
        - Teams
      parameters:
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - label
              - '-label'
              - created_at
              - '-created_at'
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Team'
                  count:
                    type: integer
                    description: Total count of all the teams.
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: Create team
      description: Creates a new team.
      operationId: create-team
      tags:
        - Teams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - organization_id
                - label
              properties:
                organization_id:
                  type: string
                  format: ulid
                  description: The ID of the parent organization.
                label:
                  type: string
                  description: The human-readable label of the team.
                project_permissions:
                  type: array
                  description: Project permissions that are granted to the team.
                  items:
                    type: string
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /teams/{team_id}:
    parameters:
      - $ref: '#/components/parameters/TeamID'
    get:
      summary: Get team
      description: Retrieves the specified team.
      operationId: get-team
      tags:
        - Teams
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update team
      description: Updates the specified team.
      operationId: update-team
      tags:
        - Teams
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  type: string
                  description: The human-readable label of the team.
                project_permissions:
                  type: array
                  description: Project permissions that are granted to the team.
                  items:
                    type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete team
      description: Deletes the specified team.
      operationId: delete-team
      tags:
        - Teams
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /teams/{team_id}/members:
    parameters:
      - $ref: '#/components/parameters/TeamID'
    get:
      summary: List team members
      description: Retrieves a list of users associated with a single team.
      operationId: list-team-members
      tags:
        - Teams
      parameters:
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - created_at
              - '-created_at'
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeamMember'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: Create team member
      description: Creates a new team member.
      operationId: create-team-member
      tags:
        - Teams
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
              properties:
                user_id:
                  type: string
                  format: uuid
                  description: ID of the user.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamMember'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /teams/{team_id}/members/{user_id}:
    parameters:
      - $ref: '#/components/parameters/TeamID'
      - $ref: '#/components/parameters/UserID'
    get:
      summary: Get team member
      description: Retrieves the specified team member.
      operationId: get-team-member
      tags:
        - Teams
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamMember'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete team member
      description: Deletes the specified team member.
      operationId: delete-team-member
      tags:
        - Teams
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /grants:
    get:
      summary: '[Internal] List grants'
      description: List permissions granted to users or teams.
      operationId: list-grants
      tags:
        - Grants
      parameters:
        - in: query
          name: filter[principal_id]
          description: Allows filtering by `principal_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[principal_type]
          description: Allows filtering by `principal_type` (user or team) using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[resource_id]
          description: Allows filtering by `resource_id ` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[resource_type]
          description: Allows filtering by `resource_type` (project or organization) using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[permissions]
          description: Allows filtering by `permissions` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - created_at
              - '-created_at'
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      x-examples:
                        example-1:
                          principal_id: ff9c8376-0227-4928-9b52-b08bc5426689
                          principal_type: user
                          resource_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                          resource_type: organization
                          created_at: '2022-04-01T10:11:30.783289Z'
                          updated_at: '2022-04-03T22:12:59.937864Z'
                          permissions:
                            - plans
                            - billing
                      properties:
                        principal_id:
                          type: string
                          description: The ID of the principal who holds the access.
                        principal_type:
                          type: string
                          description: The type of the principal who holds the access.
                          enum:
                            - user
                            - team
                        resource_id:
                          type: string
                          description: The ID of the resource access to which is granted.
                        resource_type:
                          type: string
                          description: The type of the resource access to which is granted.
                          enum:
                            - project
                            - organization
                        organization_id:
                          type: string
                          description: The ID of the organization controlling the grant.
                        permissions:
                          type: array
                          description: List of granted permissions.
                          items:
                            type: string
                        created_at:
                          type: string
                          format: date-time
                          description: The date and time when the grant was created.
                        updated_at:
                          type: string
                          format: date-time
                          description: The date and time when the grant was updated.
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /grants/do:
    post:
      summary: '[Internal] Manage grants'
      description: Allows creating, updating or deleting multiple grants in a single request.
      operationId: manage-grants
      tags:
        - Grants
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                create:
                  type: array
                  description: The grant objects to create.
                  items:
                    type: object
                    properties:
                      principal_id:
                        type: string
                        description: The ID of the principal who holds the access.
                      principal_type:
                        type: string
                        description: The type of the principal who holds the access.
                        enum:
                          - user
                          - team
                      resource_id:
                        type: string
                        description: The ID of the resource access to which is granted.
                      resource_type:
                        type: string
                        description: The type of the resource access to which is granted.
                        enum:
                          - project
                          - organization
                      organization_id:
                        type: string
                        description: |
                          The ID of the organization controlling the grant. This must match the resource_id if the
                          resource is an organization, and must match the team's organization if the principal is a team.
                      permissions:
                        type: array
                        description: List of granted permissions.
                        items:
                          type: string
                    required:
                      - principal_id
                      - principal_type
                      - resource_id
                      - resource_type
                      - organization_id
                      - permissions
                    x-examples:
                      example-1:
                        principal_id: ff9c8376-0227-4928-9b52-b08bc5426689
                        principal_type: user
                        resource_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        resource_type: organization
                        organization_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        permissions:
                          - plans
                          - billing
                update:
                  type: array
                  description: The grant objects whose permissions will be updated.
                  items:
                    type: object
                    properties:
                      principal_id:
                        type: string
                        description: The ID of the principal who holds the access.
                      principal_type:
                        type: string
                        description: The type of the principal who holds the access.
                        enum:
                          - user
                          - team
                      resource_id:
                        type: string
                        description: The ID of the resource access to which is granted.
                      resource_type:
                        type: string
                        description: The type of the resource access to which is granted.
                        enum:
                          - project
                          - organization
                      organization_id:
                        type: string
                        description: |
                          The ID of the organization controlling the grant. This must match the resource_id if the
                          resource is an organization, and must match the team's organization if the principal is a team.
                      permissions:
                        type: array
                        description: List of granted permissions.
                        items:
                          type: string
                    required:
                      - principal_id
                      - principal_type
                      - resource_id
                      - resource_type
                      - organization_id
                      - permissions
                    x-examples:
                      example-1:
                        principal_id: ff9c8376-0227-4928-9b52-b08bc5426689
                        principal_type: user
                        resource_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        resource_type: organization
                        organization_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        permissions:
                          - plans
                          - billing
                merge:
                  type: array
                  description: |-
                    The grant objects to be merged.
                    If matching grants exist, their permissions will be merged.
                    If not, new grants will be created.
                  items:
                    type: object
                    properties:
                      principal_id:
                        type: string
                        description: The ID of the principal who holds the access.
                      principal_type:
                        type: string
                        description: The type of the principal who holds the access.
                        enum:
                          - user
                          - team
                      resource_id:
                        type: string
                        description: The ID of the resource access to which is granted.
                      resource_type:
                        type: string
                        description: The type of the resource access to which is granted.
                        enum:
                          - project
                          - organization
                      organization_id:
                        type: string
                        description: |
                          The ID of the organization controlling the grant. This must match the resource_id if the
                          resource is an organization, and must match the team's organization if the principal is a team.
                      permissions:
                        type: array
                        description: List of granted permissions.
                        items:
                          type: string
                    required:
                      - principal_id
                      - principal_type
                      - resource_id
                      - resource_type
                      - organization_id
                      - permissions
                    x-examples:
                      example-1:
                        principal_id: ff9c8376-0227-4928-9b52-b08bc5426689
                        principal_type: user
                        resource_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        resource_type: organization
                        organization_id: 01G0CNVCWXC7CMVQRKNZWQYKKE
                        permissions:
                          - plans
                          - billing
                clear:
                  type: array
                  description: |-
                    Fields used to match and delete grants or their permissions.
                    The caller can specify just the principal_id/principal_type, resource_id/resource_type, and/or an organization_id.
                    Additionally, permissions can be specified in case they are being deleted rather than entire grants.
                  items:
                    type: object
                    properties:
                      principal_id:
                        type: string
                        description: The ID of the principal who holds the access.
                      principal_type:
                        type: string
                        description: The type of the principal who holds the access.
                        enum:
                          - user
                          - team
                      resource_id:
                        type: string
                        description: The ID of the resource access to which is granted.
                      resource_type:
                        type: string
                        description: The type of the resource access to which is granted.
                        enum:
                          - project
                          - organization
                      organization_id:
                        type: string
                        description: The ID of the organization controlling the grants.
                      permissions:
                        type: array
                        description: List of permissions to delete.
                        items:
                          type: string
                    x-examples:
                      example-1:
                        principal_id: ff9c8376-0227-4928-9b52-b08bc5426689
                        principal_type: user
                        permissions:
                          - billing
      responses:
        '204':
          description: No Content
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /projects/{project_id}/extended-access:
    get:
      summary: '[Internal] List extended access of a project'
      description: List extended access to the given project, having access of individual users and users from team.
      operationId: list-project-extended-access
      tags:
        - Grants
      parameters:
        - $ref: '#/components/parameters/ProjectID'
        - in: query
          name: filter[user_id]
          description: Allows filtering by `user_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[access_type]
          description: Allows filtering by `access_type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            type: object
            properties:
              eq:
                type: string
                description: Equal
                enum:
                  - user
                  - team
              in:
                type: string
                description: In (comma-separated list)
                enum:
                  - user
                  - team
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      x-examples:
                        example-1:
                          user_id: ff9c8376-0227-4928-9b52-b08bc5426689
                          email: user_123@example.com
                          display_name: John Doe
                          project_id: an3sjsfwfbgkm
                          organization_id: 01H2X80DMRDZWR6CX753YQHTND
                          granted_at: '2022-04-01T10:11:30.783289Z'
                          updated_at: '2022-04-03T22:12:59.937864Z'
                          permissions:
                            - viewer
                            - staging:contributor
                      properties:
                        user_id:
                          type: string
                          format: uuid
                          description: The ID of the user.
                        display_name:
                          type: string
                          description: The user's display name.
                        email:
                          type: string
                          description: The user's email address.
                        project_id:
                          type: string
                          description: The ID of the project.
                        organization_id:
                          type: string
                          description: The ID of the organization owning the project.
                        permissions:
                          type: array
                          description: List of project permissions.
                          items:
                            type: string
                        granted_at:
                          type: string
                          format: date-time
                          description: The date and time when the access was granted.
                        updated_at:
                          type: string
                          format: date-time
                          description: The date and time when the access was updated.
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/extended-access:
    get:
      summary: List extended access of a user
      description: List extended access of the given user, which includes both individual and team access to project and organization.
      operationId: list-user-extended-access
      tags:
        - Grants
      parameters:
        - $ref: '#/components/parameters/UserID'
        - in: query
          name: filter[resource_type]
          description: Allows filtering by `resource_type` (project or organization) using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[permissions]
          description: Allows filtering by `permissions` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      x-examples:
                        example-1:
                          user_id: ff9c8376-0227-4928-9b52-b08bc5426689
                          resource_id: an3sjsfwfbgkm
                          resource_type: project
                          organization_id: 01H2X80DMRDZWR6CX753YQHTND
                          granted_at: '2022-04-01T10:11:30.783289Z'
                          updated_at: '2022-04-03T22:12:59.937864Z'
                          permissions:
                            - viewer
                            - staging:contributor
                      properties:
                        user_id:
                          type: string
                          format: uuid
                          description: The ID of the user.
                        resource_id:
                          type: string
                          description: The ID of the resource.
                        resource_type:
                          type: string
                          description: The type of the resource access to which is granted.
                          enum:
                            - project
                            - organization
                        organization_id:
                          type: string
                          description: The ID of the organization owning the resource.
                        permissions:
                          type: array
                          description: List of project permissions.
                          items:
                            type: string
                        granted_at:
                          type: string
                          format: date-time
                          description: The date and time when the access was granted.
                        updated_at:
                          type: string
                          format: date-time
                          description: The date and time when the access was updated.
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/access-document:
    get:
      summary: '[Internal] Get user access document'
      description: Get the user's access document. Intended only for fallback checks, e.g. for SSH access.
      operationId: get-user-access-document
      tags:
        - Grants
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  access:
                    type: object
                    description: The access document.
                  access_id:
                    type: string
                    description: The access ID, for caching purposes.
                  deactivated:
                    type: boolean
                    description: Whether the user has been deactivated.
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/user-levels:
    get:
      summary: '[Internal] List organization user counts per access level.'
      description: List number of users per access level (admin or viewer) within the organization.
      operationId: list-org-user-levels
      tags:
        - Grants
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: object
                    x-examples:
                      example-1:
                        admins: 3
                        viewers: 2
                    properties:
                      admins:
                        type: integer
                        description: Number of admins in the organization.
                      viewers:
                        type: integer
                        description: Number of viewers in the organization.
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            user_id:
                              type: string
                              format: uuid
                              description: The ID of the user.
                            level:
                              type: string
                              description: The level of the user, either admin or viewer.
                              enum:
                                - admin
                                - viewer
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users:
    get:
      summary: '[Internal] List updated users'
      description: Retrieves a list of users updated since the specified date.
      operationId: list-updated-users
      tags:
        - Users
      parameters:
        - schema:
            type: string
            format: date-time
            example: '2014-04-01T00:00:00Z'
          in: query
          name: updated_since
        - schema:
            type: string
          in: query
          name: after
          description: The pagination cursor.
        - schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
          in: query
          name: count
          description: The number of users to retrieve.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
          headers:
            Link:
              schema:
                type: string
              description: URL to the next page when available.
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
    post:
      summary: '[Internal] Create a user'
      description: Back-channel registration for user import.
      operationId: create-user
      tags:
        - Users
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                email_address:
                  type: string
                  format: email
                first_name:
                  type: string
                last_name:
                  type: string
                credentials:
                  type: object
                  description: Login credentials for the user being created
                  properties:
                    provider:
                      type: object
                      description: External identity provider
                      properties:
                        name:
                          type: string
                          description: The name of the federation provider
                        subject:
                          type: string
                          description: The identity on the federation provider
              required:
                - username
                - email_address
  /users/me:
    get:
      summary: Get the current user
      description: Retrieves the current user, determined from the used access token.
      operationId: get-current-user
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/email={email}:
    parameters:
      - schema:
          type: string
          format: email
          example: hello@example.com
        name: email
        in: path
        required: true
        description: The user's email address.
    get:
      summary: Get a user by email
      description: Retrieves a user matching the specified email address.
      operationId: get-user-by-email-address
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/username={username}:
    parameters:
      - schema:
          type: string
          example: platform-sh
        name: username
        in: path
        required: true
        description: The user's username.
    get:
      summary: Get a user by username
      description: Retrieves a user matching the specified username.
      operationId: get-user-by-username
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples: {}
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/{user_id}:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: Get a user
      description: Retrieves the specified user.
      operationId: get-user
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
    patch:
      summary: Update a user
      description: Updates the specified user.
      operationId: update-user
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                username:
                  type: string
                  description: The user's username.
                first_name:
                  type: string
                  description: The user's first name.
                last_name:
                  type: string
                  description: The user's last name.
                picture:
                  type: string
                  format: uri
                  description: The user's picture.
                company:
                  type: string
                  description: The user's company.
                website:
                  type: string
                  format: uri
                  description: The user's website.
                country:
                  type: string
                  maxLength: 2
                  minLength: 2
                  description: The user's country (2-letter country code).
              x-examples:
                example-1:
                  company: Platform.sh SAS
                  country: EU
                  first_name: Hello
                  last_name: World
                  picture: https://accounts.platform.sh/profiles/blimp_profile/themes/platformsh_theme/images/mail/logo.png
                  username: username
                  website: https://platform.sh
    delete:
      summary: '[Internal] Delete a user'
      description: Deletes the specified user.
      operationId: delete-user
      tags:
        - Users
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
  /users/{user_id}/activate:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: '[Internal] Reactivate a user'
      description: Reactivates the specified user.
      operationId: activate-user
      tags:
        - Users
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
  /users/{user_id}/deactivate:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: '[Internal] Deactivate a user'
      description: Deactivates the specified user.
      operationId: deactivate-user
      tags:
        - Users
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
  /users/{user_id}/emailaddress:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: Reset email address
      description: Requests a reset of the user's email address. A confirmation email will be sent to the new address when the request is accepted.
      operationId: reset-email-address
      tags:
        - Users
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email_address:
                  type: string
                  format: email
              required:
                - email_address
        description: ''
  /users/{user_id}/resetpassword:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: Reset user password
      description: Requests a reset of the user's password. A password reset email will be sent to the user when the request is accepted.
      operationId: reset-password
      tags:
        - Users
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/api-tokens:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: List a user's API tokens
      description: Retrieves a list of API tokens associated with a single user.
      operationId: list-api-tokens
      tags:
        - API Tokens
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/APIToken'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: Create an API token
      description: Creates an API token
      operationId: create-api-token
      tags:
        - API Tokens
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIToken'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The token name.
              required:
                - name
  /users/{user_id}/api-tokens/{token_id}:
    parameters:
      - $ref: '#/components/parameters/UserID'
      - schema:
          type: string
          format: uuid
        name: token_id
        in: path
        required: true
        description: The ID of the token.
    get:
      summary: Get an API token
      description: Retrieves the specified API token.
      operationId: get-api-token
      tags:
        - API Tokens
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIToken'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
    delete:
      summary: Delete an API token
      description: Deletes an API token
      operationId: delete-api-token
      tags:
        - API Tokens
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/{user_id}/connections:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: List federated login connections
      description: Retrieves a list of connections associated with a single user.
      operationId: list-login-connections
      tags:
        - Connections
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Connection'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/connections/{provider}:
    parameters:
      - schema:
          type: string
        name: provider
        in: path
        required: true
        description: The name of the federation provider.
      - $ref: '#/components/parameters/UserID'
    get:
      summary: Get a federated login connection
      description: Retrieves the specified connection.
      operationId: get-login-connection
      tags:
        - Connections
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Connection'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
    delete:
      summary: Delete a federated login connection
      description: Deletes the specified connection.
      operationId: delete-login-connection
      tags:
        - Connections
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/{user_id}/totp:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: Get information about TOTP enrollment
      description: Retrieves TOTP enrollment information.
      operationId: get-totp-enrollment
      tags:
        - MFA
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  issuer:
                    type: string
                    format: uri
                    description: ''
                  account_name:
                    type: string
                    description: Account name for the enrollment.
                  secret:
                    type: string
                    description: The secret seed for the enrollment
                  qr_code:
                    type: string
                    format: byte
                    description: Data URI of a PNG QR code image for the enrollment.
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
    post:
      summary: Confirm TOTP enrollment
      description: Confirms the given TOTP enrollment.
      operationId: confirm-totp-enrollment
      tags:
        - MFA
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  recovery_codes:
                    type: array
                    description: A list of recovery codes for the MFA enrollment.
                    items:
                      type: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                secret:
                  type: string
                  description: The secret seed for the enrollment
                passcode:
                  type: string
                  description: TOTP passcode for the enrollment
              required:
                - secret
                - passcode
        description: ''
    delete:
      summary: Withdraw TOTP enrollment
      description: Withdraws from the TOTP enrollment.
      operationId: withdraw-totp-enrollment
      tags:
        - MFA
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /users/{user_id}/codes:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: Re-create recovery codes
      description: Re-creates recovery codes for the MFA enrollment.
      operationId: recreate-recovery-codes
      tags:
        - MFA
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
                properties:
                  recovery_codes:
                    type: array
                    description: A list of recovery codes for the MFA enrollment.
                    items:
                      type: string
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /organizations/{organization_id}/sso/config:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
    get:
      summary: '[Internal] Retrieve organization SSO configuration.'
      description: Retrieve SSO configuration for the specified organization.
      operationId: get-organization-sso-config
      tags:
        - Organizations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationSSOConfig'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Create organization SSO configuration.'
      description: Create SSO configuration for the specified organization.
      operationId: create-organization-sso-config
      tags:
        - Organizations
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationSSOConfig'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/GoogleSSOConfig'
    delete:
      summary: '[Internal] Delete organization SSO configuration.'
      description: Delete SSO configuration for the specified organization.
      operationId: delete-organization-sso-config
      tags:
        - Organizations
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/sso/config/enable:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
    post:
      summary: '[Internal] Enable organization SSO configuration.'
      description: Enable SSO configuration enforcement for the specified organization's members.
      operationId: enable-organization-sso-config
      tags:
        - Organizations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationSSOConfig'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/sso/config/disable:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
    post:
      summary: '[Internal] Disable organization SSO configuration.'
      description: Disable SSO configuration enforcement for the specified organization's members.
      operationId: disable-organization-sso-config
      tags:
        - Organizations
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationSSOConfig'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/revoke-tokens:
    parameters:
      - $ref: '#/components/parameters/OrganizationID'
    post:
      summary: '[Internal] Revoke all the organization users tokens'
      description: Revoke access tokens for all the members of the given organization.
      operationId: orgs-revoke-tokens
      tags:
        - Organizations
      responses:
        '204':
          description: OK
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/phonenumber:
    parameters:
      - $ref: '#/components/parameters/UserID'
    post:
      summary: Verify phone number
      description: Starts a phone number verification session.
      operationId: verify-phone-number
      tags:
        - PhoneNumber
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  sid:
                    type: string
                    description: Session ID of the verification.
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                channel:
                  type: string
                  description: The channel used to receive the verification code.
                  enum:
                    - sms
                    - whatsapp
                    - call
                phone_number:
                  type: string
                  description: The phone number used to receive the verification code.
              required:
                - channel
                - phone_number
  /users/{user_id}/phonenumber/{sid}:
    parameters:
      - schema:
          type: string
        name: sid
        in: path
        required: true
        description: The session ID obtained from `POST /users/{user_id}/phonenumber`.
      - $ref: '#/components/parameters/UserID'
    post:
      summary: Confirm phone number
      description: Confirms phone number using a verification code.
      operationId: confirm-phone-number
      tags:
        - PhoneNumber
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                  description: The verification code received on your phone.
              required:
                - code
  /users/{user_id}/teams:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: User teams
      description: Retrieves teams that the specified user is a member of.
      operationId: list-user-teams
      tags:
        - Teams
      parameters:
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.
          schema:
            type: string
            enum:
              - created_at
              - '-created_at'
              - updated_at
              - '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Team'
                  count:
                    type: integer
                    description: Total count of all the teams.
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/identity-analysis:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: '[Internal] Get identity analysis of a user'
      description: Retrieves the identity analysis of the specified user.
      operationId: get-user-identity-analysis
      tags:
        - Users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  normalized_email_domain:
                    type: string
                    description: The domain part of the normalized email address of the user.
                  normalized_email_count:
                    type: integer
                    description: The number of users who have the same normalized email address.
                  normalized_email_deactivated_count:
                    type: integer
                    description: The number of deactivated users who have the same normalized email address.
                  phone_number_country:
                    type: string
                    description: ISO 3166-1 alpha-2 country code of the verified phone number of the user, "" if unavailable.
                  phone_number_hash:
                    type: string
                    description: The hash of the verified phone number, "" if unavailable.
                  phone_number_count:
                    type: integer
                    description: The number of the same verified phone number of the user, 0 if unavailable.
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
  /.internal/config/email-address-rules/{pattern}:
    parameters:
      - schema:
          type: string
          format: email
          example: hello@example.com
        name: pattern
        in: path
        required: true
        description: The email address or domain to check against internal rules.
    get:
      summary: '[Internal] Get configuration rules for email'
      description: Returns configuration rules for a specific email address or domain.
      operationId: get-email-address-rules
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  blocked:
                    type: boolean
                    description: Whether the email address or domain is blocked.
                  mandatory_sso_provider:
                    type: string
                    description: SSO provider (if mandatory).
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      tags:
        - Users
  /oauth2/clients:
    get:
      summary: '[Internal] List OAuth 2.0 clients'
      description: Retrieves a list of OAuth 2.0 clients.
      operationId: list-oauth2-clients
      tags:
        - OAuth2 Clients
      parameters:
        - in: query
          name: after_id
          description: Pagination cursor to list clients after the specified client ID.
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OAuth2Client'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
            - clients
        - OAuth2: []
    post:
      summary: '[Internal] Create OAuth 2.0 client'
      description: Creates a new OAuth 2.0 client.
      operationId: create-oauth2-client
      tags:
        - OAuth2 Clients
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAuth2ClientCreate'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuth2Client'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict when client ID already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      security:
        - OAuth2Admin:
            - admin
            - clients
        - OAuth2: []
  /oauth2/clients/{client_id}:
    parameters:
      - schema:
          type: string
        name: client_id
        in: path
        required: true
        description: The OAuth 2.0 client ID.
    get:
      summary: '[Internal] Get OAuth 2.0 client'
      description: Retrieves the specified OAuth 2.0 client.
      operationId: get-oauth2-client
      tags:
        - OAuth2 Clients
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuth2Client'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
      security:
        - OAuth2Admin:
            - admin
            - clients
        - OAuth2: []
    patch:
      summary: '[Internal] Update OAuth 2.0 client'
      description: Updates the specified OAuth 2.0 client.
      operationId: update-oauth2-client
      tags:
        - OAuth2 Clients
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAuth2ClientUpdate'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuth2Client'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
      security:
        - OAuth2Admin:
            - admin
            - clients
        - OAuth2: []
    delete:
      summary: '[Internal] Delete OAuth 2.0 client'
      description: Deletes the specified OAuth 2.0 client.
      operationId: delete-oauth2-client
      tags:
        - OAuth2 Clients
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
      security:
        - OAuth2Admin:
            - admin
            - clients
        - OAuth2: []
  /billing:
    get:
      summary: '[Internal] List billing account mapping details.'
      description: Lists billing account mapping details with pagination, filtering, and sorting support. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-billing-accounts
      tags:
        - Billing Accounts
      parameters:
        - name: sort
          in: query
          description: |
            Sort field. Use a minus sign (-) prefix for descending order.
            Supported fields: created_at, updated_at
          schema:
            type: string
            example: '-created_at'
        - name: page[size]
          in: query
          description: Number of items per page
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
        - name: page[after]
          in: query
          description: Cursor for fetching the next page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: page[before]
          in: query
          description: Cursor for fetching the previous page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: filter[salesforce_id][eq]
          in: query
          description: Filter by Salesforce ID (exact match)
          schema:
            type: string
      responses:
        '200':
          description: List of billing accounts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_account_list'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}:
    get:
      summary: '[Internal] Get billing account mapping details'
      description: Retrieves mapping details for a billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-billing-account
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: Billing account found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_account_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update billing account mapping details'
      description: Updates a billing account entity. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: update-billing-account
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                salesforce_id:
                  type: string
                  description: The Salesforce ID to update.
                country:
                  type: string
                  nullable: true
                  description: The country code to update.
      responses:
        '200':
          description: Billing account updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_account_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/account:
    get:
      summary: '[Internal] Get profile for billing account'
      description: Retrieves the profile associated with a billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-account-profile
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: Account profile payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/profile'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update profile for billing account'
      description: Update the profile associated with a billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: update-account-profile
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name_line:
                  type: string
                billing_contact:
                  type: string
                country:
                  type: string
                company_name:
                  type: string
                billing_street_1:
                  type: string
                billing_street_2:
                  type: string
                administrative_area:
                  type: string
                locality:
                  type: string
                postal_code:
                  type: string
                account_tier:
                  type: string
                  description: Internal classification of the account tier
                account_partner_tier:
                  type: string
                  description: Agency partner tier classification
      responses:
        '200':
          description: Account profile updated and returned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/profile'
        '400':
          description: Validation error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/bad_request_error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/addons:
    get:
      summary: Get add-ons
      description: Retrieves information about the add-ons for a billing account.
      operationId: get-account-addons
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/account_addons'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
      x-vendor: upsun
    patch:
      summary: '[Internal] Update add-ons'
      description: Updates the add-ons for a billing account.
      operationId: update-account-addons
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                support_level:
                  type: string
                  enum:
                    - ''
                    - standard
                  description: The support level for the billing account.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/account_addons'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
      x-vendor: upsun
  /billing/{billing_account_id}/invoices:
    get:
      summary: '[Internal] List invoices'
      description: |
        Retrieves a paginated list of invoices for the specified billing account.

        This endpoint returns all invoices associated with a billing account, including
        both current and historical invoices. Results are returned in reverse chronological
        order (newest first) by default.

        Note:  This is a BillingBridge (new billing system middleware) endpoint,
        which is still in the development phase. API behavior may change.
      operationId: list-account-invoices
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - name: page[size]
          in: query
          description: Number of invoices per page
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - name: page[after]
          in: query
          description: Cursor for fetching the next page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: page[before]
          in: query
          description: Cursor for fetching the previous page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: filter[status][eq]
          in: query
          description: Filter by invoice status (exact match). Case-insensitive - will be converted to uppercase.
          required: false
          schema:
            type: string
            enum:
              - current
              - closing
              - closed
              - approved
        - name: filter[type][eq]
          in: query
          description: Filter by invoice type (exact match)
          required: false
          schema:
            type: string
            enum:
              - invoice
              - legacy_invoice
        - name: filter[invoice_date][gte]
          in: query
          description: Filter by invoice date greater than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_date][lte]
          in: query
          description: Filter by invoice date less than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_due][gte]
          in: query
          description: Filter by invoice due date greater than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_due][lte]
          in: query
          description: Filter by invoice due date less than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/invoice'
                    description: Array of invoices.
                  _links:
                    type: object
                    description: HAL links for pagination.
                    properties:
                      self:
                        $ref: '#/components/schemas/link'
                      next:
                        $ref: '#/components/schemas/link'
                      previous:
                        $ref: '#/components/schemas/link'
                    required:
                      - self
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/payment-source:
    get:
      summary: '[Internal] Get payment source'
      description: Retrieves the payment source for the specified billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  payment_source:
                    $ref: '#/components/schemas/payment_source'
                  _links:
                    type: object
                    properties:
                      self:
                        $ref: '#/components/schemas/link'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    post:
      summary: '[Internal] Create payment source'
      description: Creates a payment source for the specified billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: create-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - token
                - type
              properties:
                token:
                  type: string
                  description: The source ID or token received from Stripe API.
                type:
                  type: string
                  description: The payment source type.
                email:
                  type: string
                  description: The email which will be associated to the Stripe customer. Defaults to user's email.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payment_source'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/payment-source/intent:
    post:
      summary: '[Internal] Create payment intent'
      description: Creates a payment intent for the specified billing account.
      operationId: create-account-payment-intent
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  client_secret:
                    type: string
                    description: Payment intent client secret token.
                  public_key:
                    type: string
                    description: Stripe API public key.
                  messages:
                    type: array
                    description: Array of message IDs.
                    items:
                      type: string
                      description: Message identifier.
                      enum:
                        - sepa_info
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/invoices:
    get:
      summary: '[Internal] List all invoices'
      description: |
        Retrieves a paginated and filterable list of invoices across all billing accounts.

        This endpoint returns all invoices that the authenticated user has access to,
        with support for filtering by various criteria. Results are returned in reverse
        chronological order (newest first) by default.

        Note: This is a BillingBridge (new billing system middleware) endpoint,
        which is still in the development phase. API behavior may change.
      operationId: list-all-invoices
      tags:
        - Invoices
      parameters:
        - name: page[size]
          in: query
          description: Number of invoices per page
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - name: page[after]
          in: query
          description: Cursor for fetching the next page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: page[before]
          in: query
          description: Cursor for fetching the previous page. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - name: filter[status][eq]
          in: query
          description: Filter by invoice status (exact match). Case-insensitive - will be converted to uppercase.
          required: false
          schema:
            type: string
            enum:
              - current
              - closing
              - closed
              - approved
        - name: filter[type][eq]
          in: query
          description: Filter by invoice type (exact match)
          required: false
          schema:
            type: string
            enum:
              - invoice
              - legacy_invoice
        - name: filter[owner_type][eq]
          in: query
          description: Filter by owner type (exact match)
          required: false
          schema:
            type: string
            enum:
              - billing_account
              - organization
        - name: filter[invoice_date][gte]
          in: query
          description: Filter by invoice date greater than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_date][lte]
          in: query
          description: Filter by invoice date less than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_due][gte]
          in: query
          description: Filter by invoice due date greater than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
        - name: filter[invoice_due][lte]
          in: query
          description: Filter by invoice due date less than or equal to specified date
          required: false
          schema:
            type: string
            format: date
            example: '2026-01-01'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of invoices matching the filters.
                  items:
                    type: array
                    description: Array of invoices.
                    items:
                      $ref: '#/components/schemas/invoice'
                  _links:
                    type: object
                    description: HAL links for pagination.
                    properties:
                      self:
                        $ref: '#/components/schemas/link'
                      next:
                        $ref: '#/components/schemas/link'
                      previous:
                        $ref: '#/components/schemas/link'
                    required:
                      - self
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/invoices/{invoice_id}:
    get:
      summary: '[Internal] Get invoice'
      description: |
        Retrieves a specific invoice by its ID for the specified billing account.

        This endpoint provides detailed information about a single invoice, including
        all monetary amounts, dates, status information, and links to related resources
        such as PDF downloads.

        Note: This is a BillingBridge (new billing system middleware) endpoint,
        which is still in the development phase. API behavior may change.
      operationId: get-account-invoice
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_invoice_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/invoice'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/invoices/{invoice_id}/details:
    get:
      summary: '[Internal] Get invoice details'
      description: Retrieves the lines items of an invoice. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-account-invoice-details
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_invoice_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/invoice_detail'
                    description: Array of invoice line items.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/invoices/{invoice_id}/payments:
    get:
      summary: '[Internal] Get invoice payments'
      description: Retrieves the payments of an invoice. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-account-invoice-payments
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_invoice_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/payment'
                    description: Array of invoice payments.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/alerts/billing:
    get:
      summary: '[Internal] Get billing alert configuration'
      description: Retrieves billing alert configuration for the specified billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-account-billing-alert-config
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_alert_config'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update billing alert configuration'
      description: Updates billing alert configuration for the specified billing accounts. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: update-account-billing-alert-config
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: Whether the billing alert should be active or not.
                config:
                  type: object
                  description: The configuration for billing alerts.
                  properties:
                    threshold:
                      type: integer
                      description: The amount after which a billing alert should be triggered.
                    mode:
                      type: string
                      description: The mode in which the alert is triggered.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_alert_config'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/dunning-actions:
    get:
      summary: '[Internal] List scheduled dunning actions'
      description: Retrieves a list of all scheduled dunning actions for the specified billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-account-dunning-actions
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/account_dunning_actions'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/discounts:
    get:
      summary: '[Internal] List account discounts'
      description: Retrieves all applicable discounts granted to the specified account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-account-discounts
      tags:
        - Discounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/discount'
                  _links:
                    type: object
                    description: HAL links for pagination.
                    properties:
                      self:
                        $ref: '#/components/schemas/link'
                      next:
                        $ref: '#/components/schemas/link'
                      previous:
                        $ref: '#/components/schemas/link'
                    required:
                      - self
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/users:
    get:
      summary: '[Internal] List billing account users'
      description: Accessible to the billing entity owner.
      operationId: list-billing-account-users
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/billing_user'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    post:
      summary: '[Internal] Add user to billing account'
      description: Add a user to a billing.
      operationId: create-billing-user
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
              properties:
                user_id:
                  type: string
                  format: uuid
                  description: ID of the user.
                permissions:
                  $ref: '#/components/schemas/billing_user_permissions'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_user'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/users/{billing_user_id}:
    get:
      summary: '[Internal] Get billing account user'
      description: Retrieves the specified billing account user.
      operationId: get-billing-user
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_user_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_user'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update billing account user'
      description: Updates the specified billing account user.
      operationId: update-billing-user
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_user_id'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                permissions:
                  $ref: '#/components/schemas/billing_user_permissions'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_user'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    delete:
      summary: Remove user from billing account
      description: Removes the specified user from the billing account.
      operationId: delete-billing-user
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
        - $ref: '#/components/parameters/billing_user_id'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/{billing_account_id}/vouchers:
    get:
      summary: '[Internal] List vouchers'
      description: Retrieves vouchers for the specified billing account. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-account-vouchers
      tags:
        - Vouchers
      parameters:
        - $ref: '#/components/parameters/billing_account_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/voucher_list'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/account:
    post:
      summary: '[Internal] Create profile and billing account'
      description: Create a billing account profile.
      operationId: create-account-profile-with-billing-account
      tags:
        - Billing Accounts
      parameters:
        - name: skip-avalara
          in: query
          description: Skip Avalara address validation (set to "1" or "true")
          schema:
            type: string
        - name: skip-vies
          in: query
          description: Skip VIES tax number validation (set to "1" or "true", defaults to "1")
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name_line
                - billing_contact
                - country
                - billing_street_1
                - administrative_area
                - locality
                - postal_code
              properties:
                name_line:
                  type: string
                billing_contact:
                  type: string
                  description: Email of billing contact
                country:
                  type: string
                company_name:
                  type: string
                billing_street_1:
                  type: string
                billing_street_2:
                  type: string
                administrative_area:
                  type: string
                locality:
                  type: string
                postal_code:
                  type: string
                account_tier:
                  type: string
                  description: '[Internal] Internal classification of the account tier'
                account_partner_tier:
                  type: string
                  description: '[Internal] Agency partner tier classification'
      responses:
        '201':
          description: Billing account created with associated profile
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_account_with_links'
        '400':
          description: Validation error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/bad_request_error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/accounts:
    get:
      summary: '[Internal] Get profiles for billing accounts'
      description: List the profiles associated with a billing accounts. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-account-profiles
      tags:
        - Billing Accounts
      parameters:
        - name: filter[account_tier][eq]
          in: query
          description: Filter by customer tier (exact match)
          schema:
            type: string
            enum:
              - professional
              - enterprise
              - elite
        - name: filter[customer_type][eq]
          in: query
          description: Filter by customer type (exact match)
          schema:
            type: string
            enum:
              - corporation
              - government
              - individual
      responses:
        '200':
          description: Account profiles list
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of profiles.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/profile'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/countries:
    get:
      summary: List country information
      description: Returns a list of countries with relevant tax rules.
      operationId: list-countries
      tags:
        - Countries
      responses:
        '200':
          description: List of countries
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items in the list.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/country'
                    description: Array of country information.
                  _links:
                    type: object
                    description: HAL links for pagination.
                    properties:
                      self:
                        $ref: '#/components/schemas/link'
                    required:
                      - self
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    post:
      summary: '[Internal] Create country'
      description: Creates a new country entry.
      operationId: create-country
      tags:
        - Countries
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - country
                - rule
              properties:
                country:
                  type: string
                  description: Country code.
                rule:
                  type: string
                  description: Regular expression or rule used to validate tax numbers.
                rule_description:
                  type: string
                  description: Human readable description of the rule.
      responses:
        '201':
          description: Country created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/country'
        '400':
          description: Validation error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/bad_request_error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/countries/{country}:
    get:
      summary: '[Internal] Get country'
      description: Retrieves country information.
      operationId: get-country
      tags:
        - Countries
      parameters:
        - $ref: '#/components/parameters/country'
      responses:
        '200':
          description: Country found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/country'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update country'
      description: Updates a country information.
      operationId: update-country
      tags:
        - Countries
      parameters:
        - $ref: '#/components/parameters/country'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  type: string
                  description: Country label.
                currency:
                  type: string
                  description: Currency code for the country.
                tax_label:
                  type: string
                  description: Identifier for the tax number in this country.
                tax_rule:
                  type: string
                  description: Regular expression or rule used to validate tax number.
                tax_rule_description:
                  type: string
                  description: Human readable description of the tax rule.
                has_vat:
                  type: boolean
                  description: Country's tax number may be validated by EU VAT validation.
                address_labels:
                  type: object
                  description: Key-value map for address field labels.
                  additionalProperties:
                    type: string
                mandatory_fields:
                  type: array
                  description: List of mandatory field names.
                  items:
                    type: string
      responses:
        '200':
          description: Country updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/country'
        '400':
          description: Validation error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/bad_request_error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/countries/{country}/verify-address:
    post:
      summary: '[Internal] Verify a single address.'
      description: Verify a single address with external sources.
      operationId: verify-address
      tags:
        - Countries
      parameters:
        - $ref: '#/components/parameters/country'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - billing_street_1
                - administrative_area
                - locality
                - postal_code
              properties:
                billing_street_1:
                  type: string
                administrative_area:
                  type: string
                locality:
                  type: string
                postal_code:
                  type: string
      responses:
        '200':
          description: Address is valid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/address_verification'
        '400':
          description: Validation error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/bad_request_error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/entities:
    get:
      summary: '[Internal] List billing entities'
      description: List billing entities. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-billing-entities
      tags:
        - Billing Entities
      responses:
        '200':
          description: Billing entity list
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of entities.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/billing_entity_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    post:
      summary: '[Internal] Create billing entity'
      description: Creates a new billing entity. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: create-billing-entity
      tags:
        - Billing Entities
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/billing_entity_payload'
      responses:
        '201':
          description: Billing entity created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_entity_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/entities/{billing_entity_id}:
    get:
      summary: '[Internal] Get billing entity'
      description: Retrieves a billing entity by ID. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: get-billing-entity
      tags:
        - Billing Entities
      parameters:
        - $ref: '#/components/parameters/billing_entity_id'
      responses:
        '200':
          description: Billing entity found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_entity_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
    patch:
      summary: '[Internal] Update billing entity'
      description: Updates a billing entity. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: update-billing-entity
      tags:
        - Billing Entities
      parameters:
        - $ref: '#/components/parameters/billing_entity_id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/billing_entity_payload'
      responses:
        '200':
          description: Billing entity updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/billing_entity_with_links'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /billing/entities/{billing_entity_id}/accounts:
    get:
      summary: '[Internal] Get billing account profiles belonging to a billing entity'
      description: List the account profiles associated with a billing entity. NOTE-- This is a BillingBridge (new billing system middleware) endpoint, which is still in the development phase.
      operationId: list-entity-account-profiles
      tags:
        - Billing Accounts
        - Billing Entities
      parameters:
        - $ref: '#/components/parameters/billing_entity_id'
      responses:
        '200':
          description: Billing account profiles list
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of profiles.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/profile'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /users/{billing_user_id}/billing/entities:
    get:
      summary: '[Internal] User billing entities'
      description: Retrieves billing entities owned by the user.
      operationId: list-user-billing-entities
      tags:
        - Billing Entities
      parameters:
        - $ref: '#/components/parameters/billing_user_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/billing_entity_with_links'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /users/{billing_user_id}/billing/accounts:
    get:
      summary: '[Internal] User billing accounts'
      description: Retrieves billing accounts the user has access to.
      operationId: list-user-billing-accounts
      tags:
        - Billing Accounts
      parameters:
        - $ref: '#/components/parameters/billing_user_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of profiles.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/profile'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/error'
  /projects:
    get:
      parameters: []
      operationId: list-projects
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCollection'
      tags:
        - Project
      summary: '[Internal] Get all projects'
      description: |
        Retrieve a list of projects
    post:
      parameters: []
      operationId: create-projects
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectCreateInput'
      tags:
        - Project
      summary: '[Internal] Create a new project'
      description: Create a new project
  /projects/{projectId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
      tags:
        - Project
      summary: Get a project
      description: Retrieve the details of a single project.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: update-projects
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project
      summary: Update a project
      description: Update the details of an existing project.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: delete-projects
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project
      summary: Delete a project
      description: Delete the entire project.
  /projects/{projectId}/activities:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityCollection'
      tags:
        - Project Activity
      summary: Get project activity log
      description: |
        Retrieve a project's activity log including logging actions in all
        environments within a project. This returns a list of objects
        with records of actions such as:

        - Commits being pushed to the repository
        - A new environment being branched out from the specified environment
        - A snapshot being created of the specified environment

        The object includes a timestamp of when the action occurred
        (`created_at`), when the action concluded (`updated_at`),
        the current `state` of the action, the action's completion
        percentage (`completion_percent`), the `environments` it
        applies to and when the activity expires (`expires_at`).

        There are other related information in the `payload`.
        The contents of the `payload` varies based on the `type` of the
        activity. For example:

        - An `environment.branch` action's `payload` can contain objects
        representing the environment's `parent` environment and the
        branching action's `outcome`.

        - An `environment.push` action's `payload` can contain objects
        representing the `environment`, the specific `commits` included in
        the push, and the `user` who pushed.

        Expired activities are removed from the project activity log, except
        the last 100 expired objects provided they are not of type `environment.cron`
        or `environment.backup`.
  /projects/{projectId}/activities/{activityId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: get-projects-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
      tags:
        - Project Activity
      summary: Get a project activity log entry
      description: |
        Retrieve a single activity log entry as specified by an
        `id` returned by the
        [Get project activity log](#tag/Project-Activity%2Fpaths%2F~1projects~1%7BprojectId%7D~1activities%2Fget)
        endpoint. See the documentation on that endpoint for details about
        the information this endpoint can return.
  /projects/{projectId}/activities/{activityId}/cancel:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: action-projects-activities-cancel
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Activity
      summary: Cancel a project activity
      description: |
        Cancel a single activity as specified by an `id` returned by the
        [Get project activity log](#tag/Project-Activity%2Fpaths%2F~1projects~1%7BprojectId%7D~1activities%2Fget)
        endpoint.

        Please note that not all activities are cancelable.
  /projects/{projectId}/capabilities:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects-capabilities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCapabilities'
      tags:
        - Project
      summary: Get a project's capabilities
      description: |
        Get a list of capabilities on a project, as defined by the billing system.
        For instance, one special capability that could be defined on a project is
        large development environments.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectCapabilitiesPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: update-projects-capabilities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project
      summary: '[Internal] Update project capabilities'
      description: Update project capabilites, enabling and disabling them.
  /projects/{projectId}/certificates:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateCollection'
      tags:
        - Cert Management
      summary: Get list of SSL certificates
      description: |
        Retrieve a list of objects representing the SSL certificates
        associated with a project.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CertificateCreateInput'
      tags:
        - Cert Management
      summary: Add an SSL certificate
      description: |
        Add a single SSL certificate to a project.
  /projects/{projectId}/certificates/{certificateId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: certificateId
      operationId: get-projects-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Certificate'
      tags:
        - Cert Management
      summary: Get an SSL certificate
      description: |
        Retrieve information about a single SSL certificate
        associated with a project.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CertificatePatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: certificateId
      operationId: update-projects-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Cert Management
      summary: Update an SSL certificate
      description: |
        Update a single SSL certificate associated with a project.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: certificateId
      operationId: delete-projects-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Cert Management
      summary: Delete an SSL certificate
      description: |
        Delete a single SSL certificate associated with a project.
  /projects/{projectId}/clear_build_cache:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: action-projects-clear-build-cache
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project
      summary: Clear project build cache
      description: |
        On rare occasions, a project's build cache can become corrupted. This
        endpoint will entirely flush the project's build cache. More information
        on [clearing the build cache can be found in our user documentation.](https://docs.upsun.com/anchors/troubleshoot/clear-build-cache/)
  /projects/{projectId}/container-profiles:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-container-profiles
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContainerProfileCollection'
      tags:
        - Container Profile
      summary: '[Internal] Get list of configured container profiles for the project.'
      description: |
        All container profiles available for the project.
        Each profile is an object with a list of named pairs of CPU and memory that can be used by a service to define its resources.
        They are used if `sizing-api-enabled` is set.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-container-profiles
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContainerProfileCreateInput'
      tags:
        - Container Profile
      summary: '[Internal] Create a new container profile'
      description: |
        Add a new profile to the collection and make it available for sizing if `flex-plans` is enabled.
  /projects/{projectId}/container-profiles/{containerProfileId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: containerProfileId
      operationId: get-projects-container-profiles
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ContainerProfile'
      tags:
        - Container Profile
      summary: '[Internal] Get a container profile'
      description: |
        Retrieve a selected container profile based on `containerProfileId`.
        The profile is an object with list of named pairs of CPU and memory used for sizing purposes.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContainerProfilePatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: containerProfileId
      operationId: update-projects-container-profiles
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Container Profile
      summary: '[Internal] Update a container profile'
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: containerProfileId
      operationId: delete-projects-container-profiles
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Container Profile
      summary: '[Internal] Delete a container profile'
  /projects/{projectId}/deployments:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentTargetCollection'
      tags:
        - Deployment Target
      summary: Get project deployment target info
      description: |
        The deployment target information for the project.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeploymentTargetCreateInput'
      tags:
        - Deployment Target
      summary: Create a project deployment target
      description: |
        Set the deployment target information for a project.
  /projects/{projectId}/deployments/{deploymentTargetConfigurationId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentTargetConfigurationId
      operationId: get-projects-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentTarget'
      tags:
        - Deployment Target
      summary: Get a single project deployment target
      description: |
        Get a single deployment target configuration of a project.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeploymentTargetPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentTargetConfigurationId
      operationId: update-projects-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Deployment Target
      summary: Update a project deployment
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentTargetConfigurationId
      operationId: delete-projects-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Deployment Target
      summary: Delete a single project deployment target
      description: |
        Delete a single deployment target configuration associated with a specific project.
  /projects/{projectId}/domains:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DomainCollection'
      tags:
        - Domain Management
      summary: Get list of project domains
      description: |
        Retrieve a list of objects representing the user-specified domains
        associated with a project. Note that this does *not* return the
        domains automatically assigned to a project that appear under
        "Access site" on the user interface.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DomainCreateInput'
      tags:
        - Domain Management
      summary: Add a project domain
      description: |
        Add a single domain to a project.
        If the `ssl` field is left blank without an object containing
        a PEM-encoded SSL certificate, a certificate will
        [be provisioned for you via Let's Encrypt.](https://docs.upsun.com/anchors/routes/https/certificates/)
  /projects/{projectId}/domains/{domainId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: get-projects-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Domain'
      tags:
        - Domain Management
      summary: Get a project domain
      description: |
        Retrieve information about a single user-specified domain
        associated with a project.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DomainPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: update-projects-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Domain Management
      summary: Update a project domain
      description: |
        Update the information associated with a single user-specified
        domain associated with a project.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: delete-projects-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Domain Management
      summary: Delete a project domain
      description: |
        Delete a single user-specified domain associated with a project.
  /projects/{projectId}/environment-types:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-environment-types
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentTypeCollection'
      tags:
        - Environment Type
      summary: Get environment types
      description: List all available environment types
  /projects/{projectId}/environment-types/{environmentTypeId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentTypeId
      operationId: get-environment-type
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentType'
      tags:
        - Environment Type
      summary: Get environment type links
      description: Lists the endpoints used to retrieve info about the environment type.
  /projects/{projectId}/environments:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-environments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentCollection'
      tags:
        - Environment
      summary: Get list of project environments
      description: |
        Retrieve a list of a project's existing environments and the
        information associated with each environment.
  /projects/{projectId}/environments/{environmentId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: get-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
      tags:
        - Environment
      summary: Get an environment
      description: Retrieve the details of a single existing environment.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: update-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Update an environment
      description: Update the details of a single existing environment.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: delete-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Delete an environment
      description: Delete a specified environment.
  /projects/{projectId}/environments/{environmentId}/activate:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: activate-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentActivateInput'
      tags:
        - Environment
      summary: Activate an environment
      description: Set the specified environment's status to active
  /projects/{projectId}/environments/{environmentId}/activities:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityCollection'
      tags:
        - Environment Activity
      summary: Get environment activity log
      description: |
        Retrieve an environment's activity log. This returns a list of object
        with records of actions such as:

        - Commits being pushed to the repository
        - A new environment being branched out from the specified environment
        - A snapshot being created of the specified environment

        The object includes a timestamp of when the action occurred
        (`created_at`), when the action concluded (`updated_at`),
        the current `state` of the action, the action's completion
        percentage (`completion_percent`), and other related information in
        the `payload`.

        The contents of the `payload` varies based on the `type` of the
        activity. For example:

        - An `environment.branch` action's `payload` can contain objects
        representing the `parent` environment and the branching action's
        `outcome`.

        - An `environment.push` action's `payload` can contain objects
        representing the `environment`, the specific `commits` included in
        the push, and the `user` who pushed.
  /projects/{projectId}/environments/{environmentId}/activities/{activityId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: get-projects-environments-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
      tags:
        - Environment Activity
      summary: Get an environment activity log entry
      description: |
        Retrieve a single environment activity entry as specified by an
        `id` returned by the
        [Get environment activities list](#tag/Environment-Activity%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1activities%2Fget)
        endpoint. See the documentation on that endpoint for details about
        the information this endpoint can return.
  /projects/{projectId}/environments/{environmentId}/activities/{activityId}/cancel:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: action-projects-environments-activities-cancel
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Activity
      summary: Cancel an environment activity
      description: |
        Cancel a single activity as specified by an `id` returned by the
        [Get environment activities list](#tag/Environment-Activity%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1activities%2Fget)
        endpoint.

        Please note that not all activities are cancelable.
  /projects/{projectId}/environments/{environmentId}/backup:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: backup-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentBackupInput'
      tags:
        - Environment Backups
      summary: Create backup of environment
      description: |
        Trigger a new backup of an environment to be created. See the
        [Backups](https://docs.upsun.com/anchors/environments/backup/)
        section of the documentation for more information.
  /projects/{projectId}/environments/{environmentId}/backups:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-backups
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BackupCollection'
      tags:
        - Environment Backups
      summary: Get an environment's backup list
      description: |
        Retrieve a list of objects representing backups of this environment.
      x-stability: EXPERIMENTAL
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: create-projects-environments-backups
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BackupCreateInput'
      tags:
        - Environment Backups
      summary: '[Internal] Create an environment backup'
      description: Trigger an environment backup
      x-stability: EXPERIMENTAL
  /projects/{projectId}/environments/{environmentId}/backups/{backupId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: backupId
      operationId: get-projects-environments-backups
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Backup'
      tags:
        - Environment Backups
      summary: Get an environment backup's info
      description: |
        Get the details of a specific backup from an environment using the `id`
        of the entry retrieved by the
        [Get backups list](#tag/Environment-Backups%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1backups%2Fget)
        endpoint.
      x-stability: EXPERIMENTAL
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: backupId
      operationId: delete-projects-environments-backups
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Backups
      summary: Delete an environment backup
      description: |
        Delete a specific backup from an environment using the `id`
        of the entry retrieved by the
        [Get backups list](#tag/Environment-Backups%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1backups%2Fget)
        endpoint.
      x-stability: EXPERIMENTAL
  /projects/{projectId}/environments/{environmentId}/backups/{backupId}/restore:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: backupId
      operationId: restore-backup
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentRestoreInput'
      tags:
        - Environment Backups
      summary: Restore an environment snapshot
      description: |
        Restore a specific backup from an environment using the `id`
        of the entry retrieved by the
        [Get backups list](#tag/Environment-Backups%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1backups%2Fget)
        endpoint.
      x-stability: EXPERIMENTAL
  /projects/{projectId}/environments/{environmentId}/branch:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: branch-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentBranchInput'
      tags:
        - Environment
      summary: Branch an environment
      description: |
        Create a new environment as a branch of the current environment.
  /projects/{projectId}/environments/{environmentId}/deactivate:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: deactivate-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Deactivate an environment
      description: |
        Destroy all services and data running on this environment so that
        only the Git branch remains. The environment can be reactivated
        later at any time; reactivating an environment will sync data
        from the parent environment and redeploy.

        **NOTE: ALL DATA IN THIS ENVIRONMENT WILL BE IRREVOCABLY LOST**
  /projects/{projectId}/environments/{environmentId}/deploy:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: deploy-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentDeployInput'
      tags:
        - Environment
      summary: Deploy an environment
      description: |
        Trigger a controlled [manual deployment](https://docs.upsun.com/learn/overview/build-deploy.html#manual-deployment)
        to release all the staged changes
  /projects/{projectId}/environments/{environmentId}/deployments:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentCollection'
      tags:
        - Deployment
      summary: Get an environment's deployment information
      description: |
        Retrieve the read-only configuration of an environment's deployment.
        The returned information is everything required to
        recreate a project's current deployment.

        More specifically, the objects
        returned by this endpoint contain the configuration derived from the
        repository's YAML configuration file: `.upsun/config.yaml`.

        Additionally, any values deriving from environment variables, the
        domains attached to a project, project access settings, etc. are
        included here.

        This endpoint currently returns a list containing a single deployment
        configuration with an `id` of `current`. This may be subject to change
        in the future.
  /projects/{projectId}/environments/{environmentId}/deployments/{deploymentId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentId
      operationId: get-projects-environments-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Deployment'
      tags:
        - Deployment
      summary: Get a single environment deployment
      description: |
        Retrieve a single deployment configuration with an id of `current`. This may be subject to change in the future.
        Only `current` can be queried.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentSizingPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentId
      operationId: update-projects-environments-deployments
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Deployment
      summary: '[Internal] Update a deployment'
      description: |
        Sizing scenarios for flexible resources projects. It is used to set sizes, disk and instance_count for the webapps, workers or services.
        Change is triggerred by invoking PATCH request on the deployment object with id=`next` with changed values. 
        It is possible to set size of the service by changing its coresponding resource's property `profile_size` as a selector to services's containers profile. Disk can be also changed by updating service's `disk` property.
        For webapps and workers it is possible to enable horizontal scaling by setting it's resource's instance_count property to start or stop additional instances of the service. Overtaken deployment object generates
        new activity that does redeploy with new resources value for the services.
  /projects/{projectId}/environments/{environmentId}/deployments/{deploymentId}/operations:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentId
      operationId: run-operation
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentOperationInput'
      tags:
        - Runtime Operations
      summary: Execute a runtime operation
      description: Execute a runtime operation on a currently deployed environment. This allows you to run one-off commands, such as rebuilding static assets on demand, by defining an `operations` key in a project's `.upsun/config.yaml` configuration. More information on runtime operations is [available in our user documentation](https://docs.upsun.com/anchors/app/runtime-operations/).
  /projects/{projectId}/environments/{environmentId}/deployments/{deploymentId}/topology:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: deploymentId
      operationId: get-projects-environments-deployments-topology
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentTopology'
      tags:
        - EnvironmentTopology
      summary: '[Internal] Get deployment topology'
  /projects/{projectId}/environments/{environmentId}/domains:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DomainCollection'
      tags:
        - Domain Management
      summary: Get a list of environment domains
      description: |
        Retrieve a list of objects representing the user-specified domains
        associated with an environment. Note that this does *not* return the
        `.platformsh.site` subdomains, which are automatically assigned to
        the environment.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: create-projects-environments-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DomainCreateInput'
      tags:
        - Domain Management
      summary: Add an environment domain
      description: |
        Add a single domain to an environment.
        If the environment is not production, the `replacement_for` field
        is required, which binds a new domain to an existing one from a
        production environment.
        If the `ssl` field is left blank without an object containing
        a PEM-encoded SSL certificate, a certificate will
        [be provisioned for you via Let's Encrypt](https://docs.upsun.com/anchors/routes/https/certificates/).
  /projects/{projectId}/environments/{environmentId}/domains/{domainId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: get-projects-environments-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Domain'
      tags:
        - Domain Management
      summary: Get an environment domain
      description: |
        Retrieve information about a single user-specified domain
        associated with an environment.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DomainPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: update-projects-environments-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Domain Management
      summary: Update an environment domain
      description: |
        Update the information associated with a single user-specified
        domain associated with an environment.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: domainId
      operationId: delete-projects-environments-domains
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Domain Management
      summary: Delete an environment domain
      description: |
        Delete a single user-specified domain associated with an environment.
  /projects/{projectId}/environments/{environmentId}/initialize:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: initialize-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentInitializeInput'
      tags:
        - Environment
      summary: Initialize a new environment
      description: |
        Initialize and configure a new environment with an existing repository.
        The payload is the url of a git repository with a profile name:

        ```
        {
            "repository": "git@github.com:platformsh/a-project-template.git@master",
            "profile": "Example Project",
            "files": [
              {
                "mode": 0600,
                "path": "config.json",
                "contents": "XXXXXXXX"
              }
            ]
        }
        ```
        It can optionally carry additional files that will be committed to the
        repository, the POSIX file mode to set on each file, and the base64-encoded
        contents of each file.

        This endpoint can also add a second repository
        URL in the `config` parameter that will be added to the contents of the first.
        This allows you to put your application in one repository and the Upsun
        YAML configuration files in another.
  /projects/{projectId}/environments/{environmentId}/merge:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: merge-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentMergeInput'
      tags:
        - Environment
      summary: Merge an environment
      description: |
        Merge an environment into its parent. This means that code changes
        from the branch environment will be merged into the parent branch, and
        the parent branch will be rebuilt and deployed with the new code changes,
        retaining the existing data in the parent environment.
  /projects/{projectId}/environments/{environmentId}/pause:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: pause-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Pause an environment
      description: |
        Pause an environment, stopping all services and applications (except the router).

        Development environments are often used for a limited time and then abandoned.
        To prevent unnecessary consumption of resources, development environments that
        haven't been redeployed in 14 days are automatically paused.

        You can pause an environment manually at any time using this endpoint. Further
        information is available in our [public documentation](https://docs.upsun.com/anchors/environments/paused/).
  /projects/{projectId}/environments/{environmentId}/redeploy:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: redeploy-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Redeploy an environment
      description: Trigger the redeployment sequence of an environment.
  /projects/{projectId}/environments/{environmentId}/resume:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: resume-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Resume a paused environment
      description: |
        Resume a paused environment, restarting all services and applications.

        Development environments that haven't been used for 14 days will be paused
        automatically. They can be resumed via a redeployment or manually using this
        endpoint or the CLI as described in the [public documentation](https://docs.upsun.com/anchors/environments/paused/).
  /projects/{projectId}/environments/{environmentId}/routes:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-routes
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RouteCollection'
      tags:
        - Routing
      summary: Get list of routes
      description: |
        Retrieve a list of objects containing route definitions for
        a specific environment. The definitions returned by this endpoint
        are those present in an environment's `.upsun/config.yaml` file.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: create-projects-environments-routes
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RouteCreateInput'
      tags:
        - Routing
      summary: '[Internal] Create a new route'
      description: |
        Add a new route to the specified environment. More information about
        how routes are defined can be found in the [Routes](https://docs.upsun.com/anchors/routes/)
        section of the documentation.

        This endpoint modifies an environment's `routes:` section of the `.upsun/config.yaml` file.
        For routes to propagate to child environments, the child environments
        must be synchronized with their parent.
  /projects/{projectId}/environments/{environmentId}/routes/{routeId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: routeId
      operationId: get-projects-environments-routes
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Route'
      tags:
        - Routing
      summary: Get a route's info
      description: |
        Get details of a route from an environment using the `id` of the entry
        retrieved by the [Get environment routes list](#tag/Environment-Routes%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1routes%2Fget)
        endpoint.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RoutePatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: routeId
      operationId: update-projects-environments-routes
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Routing
      summary: '[Internal] Update a route'
      description: |
        Update a route in an environment using the `id` of the entry
        retrieved by the [Get environment routes list](#tag/Environment-Routes%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1routes%2Fget)
        endpoint.

        This endpoint modifies an environment's `.upsun/config.yaml` file.
        For routes to propagate to child environments, the child environments
        must be synchronized with their parent.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: routeId
      operationId: delete-projects-environments-routes
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Routing
      summary: '[Internal] Delete a route'
      description: |
        Remove a route from an environment using the `id` of the entry
        retrieved by the [Get environment routes list](#tag/Environment-Routes%2Fpaths%2F~1projects~1%7BprojectId%7D~1environments~1%7BenvironmentId%7D~1routes%2Fget)
        endpoint.

        This endpoint modifies an environment's `routes:` section of the `.upsun/config.yaml` file.
        For routes to propagate to child environments, the child environments
        must be synchronized with their parent.
  /projects/{projectId}/environments/{environmentId}/settings:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: get-projects-environments-settings
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentSettings'
      tags:
        - Environment Settings
      summary: '[Internal] List environment settings'
      description: List environment settings (for the time being, just Chorus settings).
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentSettingsPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: update-projects-environments-settings
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Settings
      summary: '[Internal] Update environment settings'
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: delete-projects-environments-settings
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Settings
      summary: '[Internal] Delete environment settings'
  /projects/{projectId}/environments/{environmentId}/source-operation:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: run-source-operation
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentSourceOperationInput'
      tags:
        - Source Operations
      summary: Trigger a source operation
      description: |
        This endpoint triggers a source code operation as defined in the `source.operations`
        key in a project's `.upsun/config.yaml` configuration. More information
        on source code operations is
        [available in our user documentation](https://docs.upsun.com/anchors/app/reference/source/operations/).
  /projects/{projectId}/environments/{environmentId}/source-operations:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-source-operations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentSourceOperationCollection'
      tags:
        - Source Operations
      summary: List source operations
      description: |
        Lists all the source operations, defined in `.upsun/config.yaml`, that are available in an environment.
        More information on source code operations is
        [available in our user documentation](https://docs.upsun.com/anchors/app/reference/source/operations/).
  /projects/{projectId}/environments/{environmentId}/synchronize:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: synchronize-environment
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentSynchronizeInput'
      tags:
        - Environment
      summary: Synchronize a child environment with its parent
      description: |
        This synchronizes the code and/or data of an environment with that of
        its parent, then redeploys the environment. Synchronization is only
        possible if a branch has no unmerged commits and it can be fast-forwarded.

        If data synchronization is specified, the data in the environment will
        be overwritten with that of its parent.
  /projects/{projectId}/environments/{environmentId}/variables:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentVariableCollection'
      tags:
        - Environment Variables
      summary: Get list of environment variables
      description: |
        Retrieve a list of objects representing the user-defined variables
        within an environment.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: create-projects-environments-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentVariableCreateInput'
      tags:
        - Environment Variables
      summary: Add an environment variable
      description: |
        Add a variable to an environment. The `value` can be either a string or a JSON
        object (default: string), as specified by the `is_json` boolean flag.
        Additionally, the inheritability of an environment variable can be
        determined through the `is_inheritable` flag (default: true).
        See the [Environment Variables](https://docs.upsun.com/anchors/variables/set/environment/create/)
        section in our documentation for more information.
  /projects/{projectId}/environments/{environmentId}/variables/{variableId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: variableId
      operationId: get-projects-environments-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentVariable'
      tags:
        - Environment Variables
      summary: Get an environment variable
      description: Retrieve a single user-defined environment variable.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EnvironmentVariablePatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: variableId
      operationId: update-projects-environments-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Variables
      summary: Update an environment variable
      description: |
        Update a single user-defined environment variable.
        The `value` can be either a string or a JSON
        object (default: string), as specified by the `is_json` boolean flag.
        Additionally, the inheritability of an environment variable can be
        determined through the `is_inheritable` flag (default: true).
        See the [Variables](https://docs.upsun.com/anchors/variables/)
        section in our documentation for more information.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: variableId
      operationId: delete-projects-environments-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Variables
      summary: Delete an environment variable
      description: Delete a single user-defined environment variable.
  /projects/{projectId}/environments/{environmentId}/versions:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: list-projects-environments-versions
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VersionCollection'
      tags:
        - Environment
      summary: List versions associated with the environment
      description: |
        List versions associated with the `{environmentId}` environment.
        At least one version always exists.
        When multiple versions exist, it means that multiple versions of an app are deployed.
        The deployment target type denotes whether staged deployment is supported.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
      operationId: create-projects-environments-versions
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VersionCreateInput'
      tags:
        - Environment
      summary: Create versions associated with the environment
      description: |
        Create versions associated with the `{environmentId}` environment.
        At least one version always exists.
        When multiple versions exist, it means that multiple versions of an app are deployed.
        The deployment target type denotes whether staged deployment is supported.
  /projects/{projectId}/environments/{environmentId}/versions/{versionId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: versionId
      operationId: get-projects-environments-versions
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Version'
      tags:
        - Environment
      summary: List the version
      description: |
        List the `{versionId}` version.
        A routing percentage for this version may be specified for staged rollouts
        (if the deployment target supports it).
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VersionPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: versionId
      operationId: update-projects-environments-versions
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Update the version
      description: |
        Update the `{versionId}` version.
        A routing percentage for this version may be specified for staged rollouts
        (if the deployment target supports it).
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: environmentId
        - in: path
          required: true
          schema:
            type: string
          name: versionId
      operationId: delete-projects-environments-versions
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment
      summary: Delete the version
      description: |
        Delete the `{versionId}` version.
        A routing percentage for this version may be specified for staged rollouts
        (if the deployment target supports it).
  /projects/{projectId}/git:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects-git
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Mapping'
      tags:
        - Repository
      summary: '[Internal] List of available git endpoints'
      description: Returns a list of available git endpoints.
  /projects/{projectId}/git/blobs:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-git-blobs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlobCollection'
      tags:
        - Repository
      summary: '[Internal] Retrieve a list of blob objects'
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-git-blobs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BlobCreateInput'
      tags:
        - Repository
      summary: '[Internal] Create a new blob'
  /projects/{projectId}/git/blobs/{repositoryBlobId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryBlobId
      operationId: get-projects-git-blobs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Blob'
      tags:
        - Repository
      summary: Get a blob object
      description: |
        Retrieve, by hash, an object representing a blob in the repository
        backing a project. This endpoint allows direct read-only access
        to the contents of files in a repo. It returns the file in the
        `content` field of the response object, encoded according to the
        format in the `encoding` field, e.g. `base64`.
  /projects/{projectId}/git/commits:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-git-commits
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommitCollection'
      tags:
        - Repository
      summary: '[Internal] Retrieve a list of commit objects'
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-git-commits
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommitCreateInput'
      tags:
        - Repository
      summary: '[Internal] Create a new commit'
  /projects/{projectId}/git/commits/{repositoryCommitId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryCommitId
      operationId: get-projects-git-commits
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Commit'
      tags:
        - Repository
      summary: Get a commit object
      description: |
        Retrieve, by hash, an object representing a commit in the repository backing
        a project. This endpoint functions similarly to `git cat-file -p <commit-id>`.
        The returned object contains the hash of the Git tree that it
        belongs to, as well as the ID of parent commits.

        The commit represented by a parent ID can be retrieved using this
        endpoint, while the tree state represented by this commit can
        be retrieved using the
        [Get a tree object](#tag/Git-Repo%2Fpaths%2F~1projects~1%7BprojectId%7D~1git~1trees~1%7BrepositoryTreeId%7D%2Fget)
        endpoint.
  /projects/{projectId}/git/refs:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-git-refs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefCollection'
      tags:
        - Repository
      summary: Get list of repository refs
      description: |
        Retrieve a list of `refs/*` in the repository backing a project.
        This endpoint functions similarly to `git show-ref`, with each
        returned object containing a `ref` field with the ref's name,
        and an object containing the associated commit ID.

        The returned commit ID can be used with the
        [Get a commit object](#tag/Git-Repo%2Fpaths%2F~1projects~1%7BprojectId%7D~1git~1commits~1%7BrepositoryCommitId%7D%2Fget)
        endpoint to retrieve information about that specific commit.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-git-refs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefCreateInput'
      tags:
        - Repository
      summary: '[Internal] Create a new ref'
  /projects/{projectId}/git/refs/{repositoryRefId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryRefId
      operationId: get-projects-git-refs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Ref'
      tags:
        - Repository
      summary: Get a ref object
      description: |
        Retrieve the details of a single `refs` object in the repository
        backing a project. This endpoint functions similarly to
        `git show-ref <pattern>`, although the pattern must be a full ref `id`,
        rather than a matching pattern.

        *NOTE: The `{repositoryRefId}` must be properly escaped.*
        That is, the ref `refs/heads/master` is accessible via
        `/projects/{projectId}/git/refs/heads%2Fmaster`.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryRefId
      operationId: update-projects-git-refs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Repository
      summary: '[Internal] Update a ref'
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryRefId
      operationId: delete-projects-git-refs
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Repository
      summary: '[Internal] Delete a ref'
  /projects/{projectId}/git/tags:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-git-tags
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TagCollection'
      tags:
        - Repository
      summary: '[Internal] Retrive a list of tags in the repository'
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-git-tags
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagCreateInput'
      tags:
        - Repository
      summary: '[Internal] Create a new tag'
  /projects/{projectId}/git/tags/{repositoryTagId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryTagId
      operationId: get-projects-git-tags
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tag'
      tags:
        - Repository
      summary: '[Internal] Get the details of a single tag'
  /projects/{projectId}/git/trees:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-git-trees
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreeCollection'
      tags:
        - Repository
      summary: '[Internal] Retrive a list of trees'
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-git-trees
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TreeCreateInput'
      tags:
        - Repository
      summary: '[Internal] Create a new tree'
  /projects/{projectId}/git/trees/{repositoryTreeId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: repositoryTreeId
      operationId: get-projects-git-trees
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tree'
      tags:
        - Repository
      summary: Get a tree object
      description: |
        Retrieve, by hash, the tree state represented by a commit.
        The returned object's `tree` field contains a list of files and
        directories present in the tree.

        Directories in the tree can be recursively retrieved by this endpoint
        through their hashes. Files in the tree can be retrieved by the
        [Get a blob object](#tag/Git-Repo%2Fpaths%2F~1projects~1%7BprojectId%7D~1git~1blobs~1%7BrepositoryBlobId%7D%2Fget)
        endpoint.
  /projects/{projectId}/integrations:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-integrations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IntegrationCollection'
      tags:
        - Third-Party Integrations
      summary: Get list of existing integrations for a project
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-integrations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IntegrationCreateInput'
      tags:
        - Third-Party Integrations
      summary: Integrate project with a third-party service
  /projects/{projectId}/integrations/{integrationId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
      operationId: get-projects-integrations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Integration'
      tags:
        - Third-Party Integrations
      summary: Get information about an existing third-party integration
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IntegrationPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
      operationId: update-projects-integrations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Third-Party Integrations
      summary: Update an existing third-party integration
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
      operationId: delete-projects-integrations
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Third-Party Integrations
      summary: Delete an existing third-party integration
  /projects/{projectId}/integrations/{integrationId}/activities:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
      operationId: list-projects-integrations-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivityCollection'
      tags:
        - Environment Activity
      summary: '[Internal] Get integration activities'
      description: Get the activity logs for the integration.
  /projects/{projectId}/integrations/{integrationId}/activities/{activityId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: get-projects-integrations-activities
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
      tags:
        - Environment Activity
      summary: '[Internal] Get an integration activity log entry'
      description: |
        Retrieve a single integration activity entry as specified by an
        `id` returned by the Get integration activities list endpoint
  /projects/{projectId}/integrations/{integrationId}/activities/{activityId}/cancel:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: integrationId
        - in: path
          required: true
          schema:
            type: string
          name: activityId
      operationId: action-projects-integrations-activities-cancel
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Environment Activity
      summary: '[Internal] Cancel an integration activity'
      description: |
        Cancel a single activity as specified by an `id` returned by the
        Get integration activity log.

        Please note that not all activities are cancelable.
  /projects/{projectId}/internal_certificates:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-internal-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateCollection'
      tags:
        - Cert Management
      summary: '[Internal] Get list of (internal) SSL certificates'
      description: |
        Retrieve a list of objects representing the (internal) SSL certificates
        associated with a project.
        Internal SSL certificates are signed by the project's own Certificate Authority.
  /projects/{projectId}/internal_certificates/{internalCertificateId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: internalCertificateId
      operationId: get-projects-internal-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Certificate'
      tags:
        - Cert Management
      summary: '[Internal] Get an (internal) SSL certificate'
      description: |
        Retrieve information about a single (internal) SSL certificate
        associated with a project.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: internalCertificateId
      operationId: delete-projects-internal-certificates
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Cert Management
      summary: '[Internal] Delete an (internal) SSL certificate'
      description: |
        Delete a single (internal) SSL certificate associated with a project.
  /projects/{projectId}/provisioners:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-provisioners
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateProvisionerCollection'
      tags:
        - Cert Management
  /projects/{projectId}/provisioners/{certificateProvisionerDocumentId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: certificateProvisionerDocumentId
      operationId: get-projects-provisioners
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CertificateProvisioner'
      tags:
        - Cert Management
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CertificateProvisionerPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: certificateProvisionerDocumentId
      operationId: update-projects-provisioners
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Cert Management
  /projects/{projectId}/settings:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects-settings
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSettings'
      tags:
        - Project Settings
      summary: Get list of project settings
      description: Retrieve the global settings for a project.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectSettingsPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: update-projects-settings
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Settings
      summary: Update a project setting
      description: Update one or more project-level settings.
  /projects/{projectId}/settings/chorus:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects-settings-chorus
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChorusSettings'
      tags:
        - Project Settings
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChorusSettingsPatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: update-projects-settings-chorus
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Settings
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: delete-projects-settings-chorus
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Settings
  /projects/{projectId}/system:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: get-projects-system
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemInformation'
      tags:
        - System Information
      summary: Get information about the Git server.
      description: Output information for the project.
  /projects/{projectId}/system/gc:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: action-projects-system-gc
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - System Information
      summary: '[Internal] Trigger garbage collection on the Git repository'
      description: |
        Triggers a git garbage collection operation which runs a number of
        housekeeping tasks within the repository, such as compressing file
        revisions (to reduce disk space and increase performance), removing
        unreachable objects, packing refs, pruning reflog, rerere metadata,
        or stale working trees.
  /projects/{projectId}/system/restart:
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: action-projects-system-restart
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - System Information
      summary: Restart the Git server
      description: Force the Git server to restart.
  /projects/{projectId}/variables:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: list-projects-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectVariableCollection'
      tags:
        - Project Variables
      summary: Get list of project variables
      description: |
        Retrieve a list of objects representing the user-defined variables
        within a project.
    post:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
      operationId: create-projects-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectVariableCreateInput'
      tags:
        - Project Variables
      summary: Add a project variable
      description: |
        Add a variable to a project. The `value` can be either a string or a JSON
        object (default: string), as specified by the `is_json` boolean flag.
        See the [Variables](https://docs.upsun.com/anchors/variables/set/project/create/)
        section in our documentation for more information.
  /projects/{projectId}/variables/{projectVariableId}:
    get:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: projectVariableId
      operationId: get-projects-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectVariable'
      tags:
        - Project Variables
      summary: Get a project variable
      description: Retrieve a single user-defined project variable.
    patch:
      requestBody:
        description: ''
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectVariablePatch'
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: projectVariableId
      operationId: update-projects-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Variables
      summary: Update a project variable
      description: |
        Update a single user-defined project variable.
        The `value` can be either a string or a JSON
        object (default: string), as specified by the `is_json` boolean flag.
        See the [Variables](https://docs.upsun.com/anchors/variables/set/project/create/)
        section in our documentation for more information.
    delete:
      parameters:
        - in: path
          required: true
          schema:
            type: string
          name: projectId
        - in: path
          required: true
          schema:
            type: string
          name: projectVariableId
      operationId: delete-projects-variables
      responses:
        default:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptedResponse'
      tags:
        - Project Variables
      summary: Delete a project variable
      description: Delete a single user-defined project variable.
  /projects/{projectId}/environments/{environmentId}/autoscaling/settings:
    get:
      tags:
        - Autoscaling
      description: Retrieves Autoscaler settings
      operationId: get-autoscaler-settings
      parameters:
        - name: projectId
          in: path
          description: A string that uniquely identifies the project
          required: true
          schema:
            type: string
        - name: environmentId
          in: path
          description: A string that uniquely identifies the project environment
          required: true
          schema:
            type: string
      responses:
        default:
          description: Autoscaler settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutoscalerSettings'
      summary: Retrieves Autoscaler settings
    post:
      tags:
        - Autoscaling
      description: Updates Autoscaler settings
      operationId: post-autoscaler-settings
      parameters:
        - name: projectId
          in: path
          description: A string that uniquely identifies the project
          required: true
          schema:
            type: string
        - name: environmentId
          in: path
          description: A string that uniquely identifies the project environment
          required: true
          schema:
            type: string
      requestBody:
        description: Settings to update
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AutoscalerSettings'
      responses:
        '200':
          description: Updated Autoscaler settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutoscalerSettings'
      summary: Updates Autoscaler settings
    patch:
      tags:
        - Autoscaling
      description: Modifies Autoscaler settings
      operationId: patch-autoscaler-settings
      parameters:
        - name: projectId
          in: path
          description: A string that uniquely identifies the project
          required: true
          schema:
            type: string
        - name: environmentId
          in: path
          description: A string that uniquely identifies the project environment
          required: true
          schema:
            type: string
      requestBody:
        description: Settings to modify
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AutoscalerSettings'
      responses:
        '200':
          description: Updated Autoscaler settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AutoscalerSettings'
      summary: Modifies Autoscaler settings
  /projects/{projectId}/environments/{environmentId}/autoscaling/alerts:
    post:
      tags:
        - Autoscaling
      description: Sends an Autoscaler alert for processing
      operationId: post-autoscaler-alert
      parameters:
        - name: projectId
          in: path
          description: A string that uniquely identifies the project
          required: true
          schema:
            type: string
        - name: environmentId
          in: path
          description: A string that uniquely identifies the project environment
          required: true
          schema:
            type: string
      requestBody:
        description: Alert to process
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AutoscalerAlertPartial'
      responses:
        '204':
          description: Alert is accepted for processing
          content: {}
      summary: '[Internal] Sends an Autoscaler alert for processing'
  /kyc/{user_id}/score:
    get:
      summary: '[Internal] Get user risk score'
      description: Retrieves risk factors for the user and calculates a score (e.g. for phone verification trigger).
      operationId: get-risk-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
        - schema:
            type: string
            format: date-time
          in: query
          name: token_iat
          required: false
          description: Timestamp extracted from user token. Used to refresh phone_number_verified status when needed.
        - schema:
            type: boolean
          in: query
          name: force_refresh
          description: Whether the phone_number_verified flag should be refreshed. Should be set when KYC is called right after phone verification.
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  risk:
                    type: string
                    description: '"low", "medium" or "high".'
                    example: low
                  phone_number_verified:
                    type: boolean
                    description: Whether the user has successfully verified their phone number.
                  request_verification_staff:
                    type: boolean
                    description: Whether staff verification is required.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/explanation:
    get:
      summary: '[Internal] Get explanation of risk evaluation'
      description: Get verbose explanation of risk score for investigation purposes.
      operationId: get-risk-score-explanation
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  risk:
                    type: object
                    properties:
                      score:
                        type: object
                        properties:
                          risk:
                            type: string
                            description: '"low", "medium" or "high".'
                            example: low
                          phone_number_verified:
                            type: boolean
                            description: Whether the user has successfully verified their phone number.
                            example: true
                          request_verification_staff:
                            type: boolean
                            description: Whether the user will need to reach out to Support to before being allowed to create projects
                            example: false
                          synced_at:
                            type: string
                            format: date-time
                            description: The time the account was last synced
                      explanation:
                        type: array
                        items:
                          type: string
                          description: Verbose description of risk factor interpretation.
                          example: 'User has verified phone number: No further checks'
                  trial-eligibility:
                    type: object
                    properties:
                      trial_eligible:
                        type: boolean
                        description: Whether the user is eligible for a free trial.
                        example: false
                      explanation:
                        type: array
                        items:
                          type: string
                          description: Verbose description of trial eligibility.
                          example: 'Duplicate accounts found - normalized email (38), phone number (29): Not eligible for free trial'
                  normalized_email_count:
                    type: integer
                    description: Amount of accounts found using the same normalized email address
                    example: 38
                  phone_number_count:
                    type: integer
                    description: Amount of accounts found using the same phone number
                    example: 29
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/trial-eligibility:
    get:
      summary: '[Internal] Get free trial eligibility'
      description: Checks whether a user has already had a free trial using duplicate accounts.
      operationId: check-free-trial
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id:
                    type: string
                    format: uuid
                    description: The ID of the analyzed user.
                  trial_eligible:
                    type: boolean
                    description: Whether the user is eligible for a free trial.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/verification:
    get:
      summary: '[Internal] Get staff verification information'
      description: Checks whether a user has been verified by staff, why, when and by whom.
      operationId: get-verification-status
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StaffVerification'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Update user''s staff verification status'
      description: Updates user's staff verification status.
      operationId: update-verification-status
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                verified:
                  type: boolean
                  description: Whether the user should be marked as staff verified.
                notes:
                  type: string
                  description: Reasons user is being verified.
                  example: User unable to receive SMS, but was manually checked and is legit.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StaffVerification'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/suspicious:
    post:
      summary: '[Internal] Update user''s suspicious status'
      description: Updates user's suspicious status.
      operationId: update-suspicious-status
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                suspicious:
                  type: boolean
                  description: Whether the user should be marked as suspicious.
                notes:
                  type: string
                  description: Reasons user is being marked as suspicious.
                  example: Typical email pattern.
                level:
                  type: integer
                  description: 1 - Requires phone verification, 2 - Requires staff verification
                  example: 1
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Whether operation was successful.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/card-testing:
    get:
      summary: '[Internal] Get card testing stats for a specific user'
      description: Get card testing stats for a specific user for a specified period
      operationId: get-card-testing-stats
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  attempts:
                    type: object
                    properties:
                      failure:
                        type: integer
                        description: Amount of rejected attempts to add a card
                      pending:
                        type: integer
                        description: Amount of card attempts which have not been finalized (e.g. pending 3D-Secure)
                      success:
                        type: integer
                        description: Amount of successful attempts to add a card
                  cards:
                    type: object
                    properties:
                      failure:
                        type: integer
                        description: Amount of distinct cards that have been rejected
                      pending:
                        type: integer
                        description: Amount of distinct card attempts which have not been finalized (e.g. pending 3D-Secure)
                      success:
                        type: integer
                        description: Amount of distinct cards successfully added
                  countries:
                    type: integer
                    description: Amount of card countries
                  period:
                    type: string
                    description: The period the stats relate to (daily, weekly, monthly or all-time)
                    example: daily
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/email-score:
    get:
      summary: '[Internal] Get email address risk evaluation'
      description: Get the IPQS based email address evaluation and suggested action for a specific user
      operationId: get-email-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
        - schema:
            type: boolean
          in: query
          name: force_refresh
          description: Whether to request a fresh email score in case none is available.
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  score:
                    type: object
                    properties:
                      action:
                        type: string
                        description: Suggested action (verify, block or none)
                        example: verify
                      reason:
                        type: string
                        description: Reason the lead to suggsted action
                        example: Leaked email
                  info:
                    type: object
                    properties:
                      fraud_score:
                        type: integer
                        description: IPQS Fraud evaluation score (0-100).
                        example: 55
                      valid:
                        type: boolean
                        description: Does this email address appear valid?
                        example: true
                      leaked:
                        type: boolean
                        description: Was this email address associated with a recent database leak from a third party?
                        example: true
                      disposable:
                        type: boolean
                        description: Is this email suspected of belonging to a temporary or disposable mail service? Usually associated with fraudsters and scammers.
                        example: false
                      catchall:
                        type: boolean
                        description: Is this email likely to be a "catch all" where the mail server verifies all emails tested against it as valid?
                        example: false
                      recent_abuse:
                        type: boolean
                        description: This value will indicate if there has been any recently verified abuse across the IPQS network for this email address.
                        example: false
                      first_seen:
                        type: string
                        format: date-time
                        description: The time this email was first analyzed by IPQS.
                      domain_age:
                        type: string
                        format: date-time
                        description: The time this domain was registered.
                      common:
                        type: boolean
                        description: Whether the email address is from a common email provider (such as gmail).
                        example: true
                      known_days:
                        type: integer
                        description: The amount of days the email address was known to IPQS prior to the user signing up.
                        example: 2
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/ip-score:
    get:
      summary: '[Internal] Get ip address risk evaluation'
      description: Get the IPQS based IP address evaluation and suggested action for a specific user
      operationId: get-ip-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
        - schema:
            type: boolean
          in: query
          name: force_refresh
          description: Whether to request a fresh IP score in case none has been requested yet.
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  min_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 5
                    description: Lowest IP risk score received for the account
                  max_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 50
                    description: Highest IP risk score received for the account.
                  avg_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 25
                    description: Average of all IP risk scores received for the account.
                  recent_abuse:
                    type: boolean
                    nullable: true
                    description: Whether IPQS associated any IP addresses as abusive.
                    example: false
                  crawler:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses have been flagged for crawling activity.
                    example: false
                  proxy:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses belong to known proxies.
                    example: false
                  vpn:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses belong to a known VPN.
                    example: false
                  tor:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses have been used in the TOR network.
                    example: false
                  active_vpn:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses currently belong to a known VPN.
                    example: false
                  active_tor:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses are were active in the TOR network at the time they were used.
                    example: false
                  bot_status:
                    type: boolean
                    nullable: true
                    description: Whether any of the associated IP addresses have been flagged for bot activity.
                    example: false
                  num_ips:
                    type: integer
                    minimum: 0
                    example: 22
                    description: The amount of IP addresses with an associated risk score available in the database.
                  high_risk_country:
                    type: boolean
                    nullable: true
                    description: Whether the an IP from a country flagged as high risk was found.
                    example: false
                  abuse_velocity:
                    type: string
                    nullable: true
                    enum:
                      - none
                      - low
                      - medium
                      - high
                  clean:
                    type: boolean
                    description: Whether the overall IP score is clean.
                    example: false
                  score:
                    type: object
                    properties:
                      action:
                        type: string
                        description: Suggested action (verify, block or none)
                        example: verify
                      reason:
                        type: string
                        description: Reason the lead to suggsted action
                        example: Leaked email
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/organization/allow-create:
    get:
      summary: '[Internal] Get organization creation evaluation'
      description: Get whether user is allowed to create an organization based on vendor.
      operationId: get-org-allow
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  uuid:
                    type: string
                    format: uuid
                    description: The ID of the user in question.
                  allow:
                    type: boolean
                    description: Whether the user is allowed to create an organization or not.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/known-customer:
    get:
      summary: '[Internal] Get known customer score'
      description: Get evaluation of whether the customer is new to us or has a previous history.
      operationId: get-known-customer-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  user_id:
                    type: string
                    format: uuid
                    description: The user ID relating to the score.
                  score:
                    type: string
                    enum:
                      - new
                      - trusted
                    description: The score value.
                  reason:
                    type: string
                    description: Score explanation.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{user_id}/related:
    get:
      summary: '[Internal] Get related accounts'
      description: Get related accounts based on shared characteristics
      operationId: get-related-accounts
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/UserID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    description: Related accounts (using same IP, payment credentials, email...).
                    items:
                      type: object
                      description: Related account.
                      properties:
                        user_id:
                          type: string
                          format: uuid
                          description: UUID of the related account.
                        flagged_for_abuse:
                          type: boolean
                          description: Whether the account has been flagged for abuse.
                        match:
                          type: array
                          items:
                            type: string
                            description: Matching attribute.
                            example: ip
                  count:
                    type: integer
                    minimum: 0
                    description: Total amount of related accounts.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/settings/countries:
    get:
      summary: '[Internal] Get country specific settings'
      description: Get country specific fraud settings
      operationId: get-country-settings
      tags:
        - Risk
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/CountrySettings'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Create country specific settings'
      description: Create country specific fraud settings
      operationId: create-country-settings
      tags:
        - Risk
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                country_code:
                  type: string
                  description: 2 digit country code.
                high_risk:
                  type: boolean
                  description: Whether the country is flagged as high risk.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/CountrySettings'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/settings/countries/{country}:
    delete:
      summary: '[Internal] Delete country specific settings'
      description: Delete country specific fraud settings
      operationId: delete-country-settings
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/CountryCode'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: Whether operation was successful.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: '[Internal] Update country specific settings'
      description: Update country specific fraud settings
      operationId: update-country-settings
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/CountryCode'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                high_risk:
                  type: boolean
                  description: Whether the country is flagged as high risk.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/CountrySettings'
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/scores/email:
    get:
      summary: '[Internal] Get email risk scores'
      description: Get IPQS based email risk scores
      operationId: get-email-scores
      tags:
        - Risk
      parameters:
        - schema:
            type: string
            format: date-time
          name: synced_at
          in: query
          required: false
          description: Retrieve score synced after a specific date and time
        - schema:
            type: string
          in: query
          name: after
          required: false
          description: The pagination cursor.
        - schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
          in: query
          name: count
          description: The number of scores to retrieve.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmailScore'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
          headers:
            Link:
              schema:
                type: string
              description: URL to the next page when available.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/scores/users:
    get:
      summary: '[Internal] Get user scores'
      description: Get history of user scores returned by KYC
      operationId: get-user-scores
      tags:
        - Risk
      parameters:
        - schema:
            type: string
            enum:
              - risk
              - email
              - ip
              - trial-eligibility
              - card-testing-hourly
              - card-testing-daily
              - card-testing-weekly
              - card-testing-all_time
          name: filter[score]
          in: query
          required: false
          description: Filter by score type
        - schema:
            type: string
            format: uuid
          name: filter[user_id]
          in: query
          required: false
          description: Filter by user ID.
        - schema:
            type: integer
          name: filter[revision_id][gt]
          in: query
          required: false
          description: Filter by revision ID (greater than).
        - schema:
            type: integer
          name: filter[revision_id][gte]
          in: query
          required: false
          description: Filter by revision ID (greater than or equal).
        - schema:
            type: integer
          name: filter[revision_id][lt]
          in: query
          required: false
          description: Filter by revision ID (lower than).
        - schema:
            type: integer
          name: filter[revision_id][lte]
          in: query
          required: false
          description: Filter by revision ID (lower than or equal).
        - schema:
            type: string
          in: query
          name: after
          required: false
          description: The pagination cursor.
        - schema:
            type: string
          in: query
          name: before
          required: false
          description: The pagination cursor.
        - schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
          in: query
          name: count
          description: The number of scores to retrieve.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/UserScore'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
          headers:
            Link:
              schema:
                type: string
              description: URL to the next page when available.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/scores/organizations:
    get:
      summary: '[Internal] Get organization scores'
      description: Get history of organization scores returned by KYC
      operationId: get-organization-scores
      tags:
        - Risk
      parameters:
        - schema:
            type: string
            enum:
              - payment-profile
              - trial-eligibility
              - payment-score
          name: filter[score]
          in: query
          required: false
          description: Filter by score type.
        - schema:
            type: string
            format: ulid
          name: filter[organization_id]
          in: query
          required: false
          description: Filter by organization ID.
        - schema:
            type: integer
          name: filter[revision_id][gt]
          in: query
          required: false
          description: Filter by revision ID (greater than).
        - schema:
            type: integer
          name: filter[revision_id][gte]
          in: query
          required: false
          description: Filter by revision ID (greater than or equal).
        - schema:
            type: integer
          name: filter[revision_id][lt]
          in: query
          required: false
          description: Filter by revision ID (lower than).
        - schema:
            type: integer
          name: filter[revision_id][lte]
          in: query
          required: false
          description: Filter by revision ID (lower than or equal).
        - schema:
            type: string
          in: query
          name: after
          required: false
          description: The pagination cursor.
        - schema:
            type: string
          in: query
          name: before
          required: false
          description: The pagination cursor.
        - schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
          in: query
          name: count
          description: The number of scores to retrieve.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationScore'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
          headers:
            Link:
              schema:
                type: string
              description: URL to the next page when available.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{organization_id}/risk:
    get:
      summary: '[Internal] Get organization risk score'
      description: Returns risk assessment score for organization.
      operationId: get-org-risk-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/organizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  risk:
                    type: string
                    description: '"low", "medium" or "high".'
                    example: low
                  phone_number_verified:
                    type: boolean
                    description: Whether the organization owner has successfully verified their phone number.
                  credit_card_verified:
                    type: boolean
                    description: Whether the organization has been verified using a credit card.
                  request_verification_staff:
                    type: boolean
                    description: Whether staff verification is required.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{organization_id}/payment-profile:
    get:
      summary: '[Internal] Get organization payment profile'
      description: Get the payment profile of a specific organization.
      operationId: get-payment-profile
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/organizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  organization_id:
                    type: string
                    format: ulid
                    description: The ID of the organization in question.
                  profile:
                    type: string
                    description: Payment profile defining available payment methods.
                    enum:
                      - default
                      - trusted
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/{organization_id}/payment-score:
    get:
      summary: '[Internal] Get organization payment score'
      description: Get the payment score of a specific organization.
      operationId: get-payment-score
      tags:
        - Risk
      parameters:
        - $ref: '#/components/parameters/organizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  min_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 1
                    description: Lowest risk score returned by Stripe.
                  max_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 50
                    description: Highest risk score returned by Stripe.
                  avg_risk:
                    type: integer
                    nullable: true
                    minimum: 0
                    maximum: 100
                    example: 33
                    description: Average of risk scores returned by Stripe.
                  num_disputed:
                    type: integer
                    description: Amount of disputed payments.
                  num_success:
                    type: integer
                    description: Amount of successful payments.
                  num_failed:
                    type: integer
                    description: Amount of failed payments.
        '401':
          description: Unauthorized
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /kyc/trials:
    get:
      summary: '[Internal] List all trials'
      description: Returns a paginated list of trial entities.
      operationId: listTrials
      tags:
        - Trial
      parameters:
        - name: sort
          in: query
          description: Comma-delimited list of fields to sort by. Prefix with '-' for descending.
          required: false
          schema:
            type: string
            example: created_at,-expiration
        - name: page[size]
          in: query
          description: Number of items per page.
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: null
        - name: page[after]
          in: query
          description: Pagination cursor for next page.
          required: false
          schema:
            type: string
        - name: page[before]
          in: query
          required: false
          description: Pagination cursor for previous page.
          schema:
            type: string
        - name: filter[created_at][gt]
          in: query
          required: false
          description: Filter trials created after this datetime.
          schema:
            type: string
            format: date-time
        - name: filter[created_at][lt]
          in: query
          required: false
          description: Filter trials created before this datetime.
          schema:
            type: string
            format: date-time
        - name: filter[updated_at][gt]
          in: query
          required: false
          description: Filter trials updated after this datetime.
          schema:
            type: string
            format: date-time
        - name: filter[updated_at][lt]
          in: query
          required: false
          description: Filter trials updated before this datetime.
          schema:
            type: string
            format: date-time
        - name: filter[expiration][gt]
          in: query
          description: Filter trials expiring after this datetime.
          required: false
          schema:
            type: string
            format: date-time
        - name: filter[expiration][lt]
          in: query
          description: Filter trials expiring before this datetime.
          required: false
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Trial'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
  /organizations/{organization_id}/trial:
    get:
      summary: Get organization trial
      description: Returns trial information for the given organization.
      operationId: getOrganizationTrial
      tags:
        - Trial
      parameters:
        - name: organization_id
          in: path
          required: true
          schema:
            type: string
            format: ulid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  trial:
                    $ref: '#/components/schemas/Trial'
                  _links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current set of items.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Create a new trial'
      description: Creates a new trial entity.
      operationId: createTrial
      tags:
        - Trial
      parameters:
        - name: X-Validate-Eligibility
          description: If set to true, a trial will only be created if a customer did not have prior trials.
          example: true
          in: header
          schema:
            type: boolean
        - name: organization_id
          in: path
          required: true
          schema:
            type: string
            format: ulid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TrialCreate'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  created:
                    type: boolean
                    description: Whether a trial was created.
                  message:
                    type: string
                    description: Reason in case no trial was created.
                    example: Prior trial created by user found.
                  trial:
                    allOf:
                      - type: object
                        nullable: true
                      - $ref: '#/components/schemas/Trial'
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: '[Internal] Update a trial'
      description: Updates an existing trial entity.
      operationId: updateTrial
      tags:
        - Trial
      parameters:
        - name: organization_id
          in: path
          required: true
          schema:
            type: string
            format: ulid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TrialUpdate'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Trial'
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: '[Internal] Delete a trial'
      description: Deletes an existing trial entity.
      operationId: deleteTrial
      tags:
        - Trial
      parameters:
        - name: organization_id
          in: path
          required: true
          schema:
            type: string
            format: ulid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
        '404':
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /platformsh-api/{projectId}/environments/{environmentId}/observability/http-metrics/overview:
    get:
      tags:
        - Http Traffic
      summary: '[Internal] Get HTTP traffic overview with top URLs and time-series metrics'
      description: 'Returns HTTP traffic analytics with top URLs ranked by impact (response time × request count), aggregated metrics (average, median, p96 response times in milliseconds), status code distributions, and time-series data. Use top_urls_count parameter to control result size (default: 10, max: 100). Response includes per-URL metrics grouped by "METHOD-URL" keys (e.g., "GET-https://example.com/api/products") and timestamped traffic data with request/response sizes in bytes.'
      operationId: http_metrics_overview
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: top_urls_count
          in: query
          description: 'Number of top URLs to return (default: 10, max: 100)'
          required: false
          schema:
            type: integer
            default: null
            maximum: 100
            minimum: 1
            example: 20
      responses:
        '200':
          description: HTTP traffic overview retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - _environment_type
                  - _branch_machine_name
                  - _top_urls_count
                  - data
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 300
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1704067200
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1704153600
                  _project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  _environment_type:
                    description: Environment type
                    type: string
                    enum:
                      - production
                      - staging
                      - development
                    example: production
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: main
                  _top_urls_count:
                    description: Number of top URLs included in response
                    type: integer
                    example: 10
                  data:
                    description: HTTP traffic data containing URL statistics and time-series information
                    properties:
                      urls:
                        description: Top URLs ranked by impact (response time × request count). Object keys use "METHOD-URL" format (e.g., "GET-https://example.com/api/products") as unique identifiers.
                        type: object
                        example:
                          GET-https://example.com/api/products:
                            url: https://example.com/api/products
                            method: GET
                            impact: 15234.67
                            average: 245.3
                            p_50: 198.5
                            p_96: 512.8
                            count: 62143
                          GET-https://example.com/api/users/{id}:
                            url: https://example.com/api/users/{id}
                            method: GET
                            impact: 8921.44
                            average: 178.2
                            p_50: 142.1
                            p_96: 389.3
                            count: 50073
                          POST-https://example.com/api/orders:
                            url: https://example.com/api/orders
                            method: POST
                            impact: 6543.21
                            average: 312.5
                            p_50: 267.8
                            p_96: 678.4
                            count: 20945
                        additionalProperties:
                          required:
                            - url
                            - method
                            - impact
                            - average
                            - p_50
                            - p_96
                            - count
                          properties:
                            url:
                              description: Request URL
                              type: string
                              example: https://example.com/api/products
                            method:
                              description: HTTP method
                              type: string
                              enum:
                                - GET
                                - POST
                                - PUT
                                - PATCH
                                - DELETE
                                - HEAD
                                - OPTIONS
                              example: GET
                            impact:
                              description: Performance impact score (ms × count)
                              type: number
                              format: float
                              example: 15234.67
                            average:
                              description: Average response time in milliseconds
                              type: number
                              format: float
                              example: 245.3
                            p_50:
                              description: Median (50th percentile) response time in milliseconds
                              type: number
                              format: float
                              example: 198.5
                            p_96:
                              description: 96th percentile response time in milliseconds
                              type: number
                              format: float
                              example: 512.8
                            count:
                              description: Total number of requests
                              type: integer
                              example: 62143
                          type: object
                      timelines:
                        description: Time-series HTTP traffic metrics
                        type: array
                        items:
                          required:
                            - timestamp
                          properties:
                            timestamp:
                              description: Data point timestamp
                              type: integer
                              example: 1704067200
                            request_size:
                              description: Total request payload size in bytes
                              type: integer
                              example: 524288
                            response_size:
                              description: Total response payload size in bytes
                              type: integer
                              example: 2097152
                            urls:
                              description: Per-URL metrics at this timestamp. Object keys use "METHOD-URL" format (e.g., "GET-https://example.com/api/products") as unique identifiers.
                              type: object
                              example:
                                GET-https://example.com/api/products:
                                  count: 1543
                                  impact: 378.45
                                GET-https://example.com/api/users/{id}:
                                  count: 1247
                                  impact: 221.87
                                POST-https://example.com/api/orders:
                                  count: 523
                                  impact: 163.44
                              additionalProperties:
                                required:
                                  - count
                                  - impact
                                properties:
                                  count:
                                    description: Request count for this URL
                                    type: integer
                                    example: 1543
                                  impact:
                                    description: Performance impact score
                                    type: number
                                    format: float
                                    example: 378.45
                                type: object
                            codes:
                              description: HTTP status code distribution
                              required:
                                - UNKNOWN
                                - 1XX
                                - 2XX
                                - 3XX
                                - 4XX
                                - 5XX
                              properties:
                                UNKNOWN:
                                  description: Count of unknown/unclassified status codes
                                  type: integer
                                  example: 0
                                1XX:
                                  description: Count of informational responses (100-199)
                                  type: integer
                                  example: 0
                                2XX:
                                  description: Count of successful responses (200-299)
                                  type: integer
                                  example: 58234
                                3XX:
                                  description: Count of redirect responses (300-399)
                                  type: integer
                                  example: 1245
                                4XX:
                                  description: Count of client error responses (400-499)
                                  type: integer
                                  example: 847
                                5XX:
                                  description: Count of server error responses (500-599)
                                  type: integer
                                  example: 23
                              type: object
                              additionalProperties: false
                          type: object
                          additionalProperties: false
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/http-metrics/overview-experiment:
    get:
      tags:
        - Http Traffic
      summary: '[Internal] Get HTTP traffic overview with top URLs and time-series metrics'
      description: 'Returns HTTP traffic analytics with top URLs ranked by impact (response time × request count), aggregated metrics (average, median, p96 response times in milliseconds), status code distributions, and time-series data. Use top_urls_count parameter to control result size (default: 10, max: 100). Response includes per-URL metrics grouped by "METHOD-URL" keys (e.g., "GET-https://example.com/api/products") and timestamped traffic data with request/response sizes in bytes.'
      operationId: http_metrics_overview_experiment
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: top_urls_count
          in: query
          description: 'Number of top URLs to return (default: 10, max: 100)'
          required: false
          schema:
            type: integer
            default: null
            maximum: 100
            minimum: 1
            example: 20
      responses:
        '200':
          description: HTTP traffic overview retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - _environment_type
                  - _branch_machine_name
                  - _top_urls_count
                  - data
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 300
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1704067200
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1704153600
                  _project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  _environment_type:
                    description: Environment type
                    type: string
                    enum:
                      - production
                      - staging
                      - development
                    example: production
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: main
                  _top_urls_count:
                    description: Number of top URLs included in response
                    type: integer
                    example: 10
                  data:
                    description: HTTP traffic data containing URL statistics and time-series information
                    properties:
                      urls:
                        description: Top URLs ranked by impact (response time × request count). Object keys use "METHOD-URL" format (e.g., "GET-https://example.com/api/products") as unique identifiers.
                        type: object
                        example:
                          GET-https://example.com/api/products:
                            url: https://example.com/api/products
                            method: GET
                            impact: 15234.67
                            average: 245.3
                            p_50: 198.5
                            p_96: 512.8
                            count: 62143
                          GET-https://example.com/api/users/{id}:
                            url: https://example.com/api/users/{id}
                            method: GET
                            impact: 8921.44
                            average: 178.2
                            p_50: 142.1
                            p_96: 389.3
                            count: 50073
                          POST-https://example.com/api/orders:
                            url: https://example.com/api/orders
                            method: POST
                            impact: 6543.21
                            average: 312.5
                            p_50: 267.8
                            p_96: 678.4
                            count: 20945
                        additionalProperties:
                          required:
                            - url
                            - method
                            - impact
                            - average
                            - p_50
                            - p_96
                            - count
                          properties:
                            url:
                              description: Request URL
                              type: string
                              example: https://example.com/api/products
                            method:
                              description: HTTP method
                              type: string
                              enum:
                                - GET
                                - POST
                                - PUT
                                - PATCH
                                - DELETE
                                - HEAD
                                - OPTIONS
                              example: GET
                            impact:
                              description: Performance impact score (ms × count)
                              type: number
                              format: float
                              example: 15234.67
                            average:
                              description: Average response time in milliseconds
                              type: number
                              format: float
                              example: 245.3
                            p_50:
                              description: Median (50th percentile) response time in milliseconds
                              type: number
                              format: float
                              example: 198.5
                            p_96:
                              description: 96th percentile response time in milliseconds
                              type: number
                              format: float
                              example: 512.8
                            count:
                              description: Total number of requests
                              type: integer
                              example: 62143
                          type: object
                      timelines:
                        description: Time-series HTTP traffic metrics
                        type: array
                        items:
                          required:
                            - timestamp
                          properties:
                            timestamp:
                              description: Data point timestamp
                              type: integer
                              example: 1704067200
                            request_size:
                              description: Total request payload size in bytes
                              type: integer
                              example: 524288
                            response_size:
                              description: Total response payload size in bytes
                              type: integer
                              example: 2097152
                            urls:
                              description: Per-URL metrics at this timestamp. Object keys use "METHOD-URL" format (e.g., "GET-https://example.com/api/products") as unique identifiers.
                              type: object
                              example:
                                GET-https://example.com/api/products:
                                  count: 1543
                                  impact: 378.45
                                GET-https://example.com/api/users/{id}:
                                  count: 1247
                                  impact: 221.87
                                POST-https://example.com/api/orders:
                                  count: 523
                                  impact: 163.44
                              additionalProperties:
                                required:
                                  - count
                                  - impact
                                properties:
                                  count:
                                    description: Request count for this URL
                                    type: integer
                                    example: 1543
                                  impact:
                                    description: Performance impact score
                                    type: number
                                    format: float
                                    example: 378.45
                                type: object
                            codes:
                              description: HTTP status code distribution
                              required:
                                - UNKNOWN
                                - 1XX
                                - 2XX
                                - 3XX
                                - 4XX
                                - 5XX
                              properties:
                                UNKNOWN:
                                  description: Count of unknown/unclassified status codes
                                  type: integer
                                  example: 0
                                1XX:
                                  description: Count of informational responses (100-199)
                                  type: integer
                                  example: 0
                                2XX:
                                  description: Count of successful responses (200-299)
                                  type: integer
                                  example: 58234
                                3XX:
                                  description: Count of redirect responses (300-399)
                                  type: integer
                                  example: 1245
                                4XX:
                                  description: Count of client error responses (400-499)
                                  type: integer
                                  example: 847
                                5XX:
                                  description: Count of server error responses (500-599)
                                  type: integer
                                  example: 23
                              type: object
                              additionalProperties: false
                          type: object
                          additionalProperties: false
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/logs/overview:
    get:
      tags:
        - Logs
      summary: '[Internal] Get logs overview with time-series severity distribution and available filters'
      description: Returns aggregated log entries with time-series severity distribution (emergency, alert, critical, error, warning, notice, info, debug) and available filter fields. Response includes per-timestamp severity counts and field metadata (distinct_values, type, top values with counts) for building filter UIs. Use for monitoring application health and error patterns.
      operationId: logs_overview
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: severities[]
          in: query
          description: Filter by severity levels. Can be specified multiple times for multiple values (e.g., ?severities[]=ERROR&severities[]=CRITICAL). Use severities_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - EMERGENCY
                - ALERT
                - CRITICAL
                - ERROR
                - WARNING
                - NOTICE
                - INFO
                - DEBUG
              example: ERROR
        - name: severities_mode
          in: query
          description: Filter mode for severities parameter. "1" (additive) includes only specified severities. "-1" (subtractive, default) excludes specified severities and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: services[]
          in: query
          description: Filter by service names. Can be specified multiple times for multiple values (e.g., ?services[]=app&services[]=database). Use services_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app
        - name: services_mode
          in: query
          description: Filter mode for services parameter. "1" (additive) includes only specified services. "-1" (subtractive, default) excludes specified services and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: instances[]
          in: query
          description: Filter by instance identifiers. Can be specified multiple times for multiple values (e.g., ?instances[]=app.0&instances[]=app.1). Use instances_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app.0
        - name: instances_mode
          in: query
          description: Filter mode for instances parameter. "1" (additive) includes only specified instances. "-1" (subtractive, default) excludes specified instances and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: hosts[]
          in: query
          description: Filter by host names. Can be specified multiple times for multiple values (e.g., ?hosts[]=web-0&hosts[]=web-1). Use hosts_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: web-0
        - name: hosts_mode
          in: query
          description: Filter mode for hosts parameter. "1" (additive) includes only specified hosts. "-1" (subtractive, default) excludes specified hosts and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: commands[]
          in: query
          description: Filter by command names. Can be specified multiple times for multiple values (e.g., ?commands[]=start&commands[]=deploy). Use commands_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: start
        - name: commands_mode
          in: query
          description: Filter mode for commands parameter. "1" (additive) includes only specified commands. "-1" (subtractive, default) excludes specified commands and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: units[]
          in: query
          description: Filter by systemd unit names. Can be specified multiple times for multiple values (e.g., ?units[]=php-fpm&units[]=nginx). Use units_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: php-fpm
        - name: units_mode
          in: query
          description: Filter mode for units parameter. "1" (additive) includes only specified units. "-1" (subtractive, default) excludes specified units and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: container_names[]
          in: query
          description: Filter by container names. Can be specified multiple times for multiple values (e.g., ?container_names[]=app_container). Use container_names_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app_container
        - name: container_names_mode
          in: query
          description: Filter mode for container_names parameter. "1" (additive) includes only specified container names. "-1" (subtractive, default) excludes specified container names and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
      responses:
        '200':
          description: Logs overview retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - _branch_machine_name
                  - data
                  - filters
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 300
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1704067200
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1704153600
                  _project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: main
                  data:
                    type: array
                    items:
                      required:
                        - timestamp
                      properties:
                        timestamp:
                          type: integer
                        values:
                          type: array
                          items:
                            required:
                              - severity
                              - count
                            properties:
                              severity:
                                type: string
                                enum:
                                  - EMERGENCY
                                  - ALERT
                                  - CRITICAL
                                  - ERROR
                                  - WARNING
                                  - NOTICE
                                  - INFO
                                  - DEBUG
                              count:
                                type: integer
                            type: object
                            additionalProperties: false
                      type: object
                      additionalProperties: false
                  filters:
                    required:
                      - max_applicable_filters
                    properties:
                      fields:
                        type: object
                        example:
                          severity:
                            distinct_values: 3
                            type: string
                            values:
                              - value: INFO
                                count: 297
                              - value: ERROR
                                count: 2
                        additionalProperties:
                          properties:
                            distinct_values:
                              type: integer
                            type:
                              type: string
                              example: string
                            values:
                              type: array
                              items:
                                properties:
                                  value:
                                    type: string
                                  count:
                                    type: integer
                                type: object
                                additionalProperties: false
                          type: object
                      max_applicable_filters:
                        type: integer
                        example: 45
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/logs/query:
    get:
      tags:
        - Logs
      summary: '[Internal] Query detailed log entries with cursor-based pagination and filtering'
      description: Returns paginated log entries with full details (timestamp, severity, service, instance, host, command, container name, message body). Supports cursor-based pagination (ULID format), sort order (asc/desc), and field filtering (severity, service, custom fields). Use cursor from pagination.next_cursor for next page. Maximum 100 entries per page.
      operationId: logs_query
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: ulid
          in: query
          description: Pagination cursor (ULID format) to retrieve next page of results
          required: false
          schema:
            type: string
            format: ulid
            example: 01HXYZ123456789ABCDEFGHIJK
        - name: order
          in: query
          description: 'Sort order for log entries (default: desc for newest first)'
          required: false
          schema:
            type: string
            default: null
            enum:
              - asc
              - desc
            example: desc
        - name: limit
          in: query
          description: 'Maximum number of log entries to return per page (default: 100, max: 1000)'
          required: false
          schema:
            type: integer
            default: null
            maximum: 1000
            minimum: 1
            example: 100
        - name: severities[]
          in: query
          description: Filter by severity levels. Can be specified multiple times for multiple values (e.g., ?severities[]=ERROR&severities[]=CRITICAL). Use severities_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - EMERGENCY
                - ALERT
                - CRITICAL
                - ERROR
                - WARNING
                - NOTICE
                - INFO
                - DEBUG
              example: ERROR
        - name: severities_mode
          in: query
          description: Filter mode for severities parameter. "1" (additive) includes only specified severities. "-1" (subtractive, default) excludes specified severities and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: services[]
          in: query
          description: Filter by service names. Can be specified multiple times for multiple values (e.g., ?services[]=app&services[]=database). Use services_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app
        - name: services_mode
          in: query
          description: Filter mode for services parameter. "1" (additive) includes only specified services. "-1" (subtractive, default) excludes specified services and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: instances[]
          in: query
          description: Filter by instance identifiers. Can be specified multiple times for multiple values (e.g., ?instances[]=app.0&instances[]=app.1). Use instances_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app.0
        - name: instances_mode
          in: query
          description: Filter mode for instances parameter. "1" (additive) includes only specified instances. "-1" (subtractive, default) excludes specified instances and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: hosts[]
          in: query
          description: Filter by host names. Can be specified multiple times for multiple values (e.g., ?hosts[]=web-0&hosts[]=web-1). Use hosts_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: web-0
        - name: hosts_mode
          in: query
          description: Filter mode for hosts parameter. "1" (additive) includes only specified hosts. "-1" (subtractive, default) excludes specified hosts and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: commands[]
          in: query
          description: Filter by command names. Can be specified multiple times for multiple values (e.g., ?commands[]=start&commands[]=deploy). Use commands_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: start
        - name: commands_mode
          in: query
          description: Filter mode for commands parameter. "1" (additive) includes only specified commands. "-1" (subtractive, default) excludes specified commands and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: units[]
          in: query
          description: Filter by systemd unit names. Can be specified multiple times for multiple values (e.g., ?units[]=php-fpm&units[]=nginx). Use units_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: php-fpm
        - name: units_mode
          in: query
          description: Filter mode for units parameter. "1" (additive) includes only specified units. "-1" (subtractive, default) excludes specified units and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
        - name: container_names[]
          in: query
          description: Filter by container names. Can be specified multiple times for multiple values (e.g., ?container_names[]=app_container). Use container_names_mode to control inclusion/exclusion behavior.
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app_container
        - name: container_names_mode
          in: query
          description: Filter mode for container_names parameter. "1" (additive) includes only specified container names. "-1" (subtractive, default) excludes specified container names and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
      responses:
        '200':
          description: Successfully retrieved log entries
          content:
            application/json:
              schema:
                properties:
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1704067200
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1704153600
                  _order:
                    description: Sort order applied
                    type: string
                    enum:
                      - DESC
                      - ASC
                    example: desc
                  _project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: main
                  _cursor:
                    description: Cursor for next page (if more results available)
                    type: string
                    format: ulid
                    example: 01HXYZ987654321ZYXWVUTSRQP
                  data:
                    type: array
                    items:
                      properties:
                        ulid:
                          type: string
                          format: ulid
                          example: 01HXYZ123456789ABCDEFGHIJK
                        datetime:
                          type: string
                          format: date-time
                        severity:
                          type: string
                          enum:
                            - EMERGENCY
                            - ALERT
                            - CRITICAL
                            - ERROR
                            - WARNING
                            - NOTICE
                            - INFO
                            - DEBUG
                        service:
                          type: string
                        instance:
                          type: string
                        host:
                          type: string
                        command:
                          type: string
                        unit:
                          type: string
                        container_name:
                          type: string
                        content:
                          type: string
                        metadata:
                          type: object
                      type: object
                      additionalProperties: false
                  filters:
                    properties:
                      fields:
                        type: object
                        example:
                          severity:
                            distinct_values: 3
                            type: string
                            values:
                              - value: INFO
                                count: 297
                              - value: ERROR
                                count: 2
                        additionalProperties:
                          properties:
                            distinct_values:
                              type: integer
                            type:
                              type: string
                              example: string
                            values:
                              type: array
                              items:
                                properties:
                                  value:
                                    type: string
                                  count:
                                    type: integer
                                type: object
                                additionalProperties: false
                          type: object
                      max_applicable_filters:
                        type: integer
                        example: 45
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/resources/overview:
    get:
      tags:
        - Resources
      summary: '[Internal] Get time-series resource metrics with statistical aggregations'
      description: 'Returns time-series resource utilization data for all services. Each timestamp includes per-service metrics: CPU (cores), memory (bytes), swap (bytes), pressure indicators (0.0-1.0), and per-mountpoint disk/inode usage. All metrics include statistical aggregations: min, max, avg, stddev, and percentiles (p50, p95-p99). Service names and mountpoint paths are dynamic. Aggregation values are nullable when insufficient data exists.'
      operationId: resources_overview
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: service
          in: query
          description: Filter by specific service name (optional)
          required: false
          schema:
            type: string
            example: app
        - name: services[]
          in: query
          description: Filter results to specific services. Can be specified multiple times for multiple services. When omitted, all services are included by default. Use services_mode to control inclusion/exclusion behavior. Specify parameter multiple times for multiple values (e.g., ?services[]=app&services[]=database).
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app
        - name: services_mode
          in: query
          description: Filter mode for services parameter. "1" (additive) includes only specified services. "-1" (subtractive, default) excludes specified services and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
      responses:
        '200':
          description: Resource metrics retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - data
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 300
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1704067200
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1704153600
                  _project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  data:
                    description: Array of timestamped data points, each containing resource metrics grouped by service name
                    type: array
                    items:
                      required:
                        - timestamp
                      properties:
                        timestamp:
                          description: Data point timestamp (Unix timestamp in seconds)
                          type: integer
                          example: 1704067200
                        services:
                          description: 'Object with service names as keys (dynamic, e.g., "app", "database"). Each service contains: cpu_used, cpu_limit, memory_used, memory_limit, swap_used, swap_limit, memory_pressure, cpu_pressure, io_pressure, irq_pressure, and mountpoints. All metrics except limits include min, max, avg, stddev, p50, p95-p99 aggregations (nullable).'
                          type: object
                          example:
                            app:
                              cpu_used:
                                min: 0.12
                                max: 1.85
                                avg: 0.45
                                stddev: 0.32
                                p50: 0.42
                                p95: 1.23
                                p96: 1.34
                                p97: 1.45
                                p98: 1.62
                                p99: 1.78
                              cpu_limit:
                                max: 2
                              memory_used:
                                min: 536870912
                                max: 715827883
                                avg: 612892672
                                stddev: 45000000
                                p50: 605000000
                                p95: 690000000
                                p96: 695000000
                                p97: 700000000
                                p98: 708000000
                                p99: 712000000
                              memory_limit:
                                max: 1073741824
                              swap_used:
                                min: 0
                                max: 4194304
                                avg: 1048576
                                stddev: 850000
                                p50: 950000
                                p95: 3200000
                                p96: 3400000
                                p97: 3600000
                                p98: 3900000
                                p99: 4100000
                              swap_limit:
                                max: 536870912
                              memory_pressure:
                                min: 0
                                max: 0.15
                                avg: 0.03
                                stddev: 0.02
                                p50: 0.02
                                p95: 0.12
                                p96: 0.13
                                p97: 0.14
                                p98: 0.145
                                p99: 0.148
                              cpu_pressure:
                                min: 0
                                max: 0.08
                                avg: 0.01
                                stddev: 0.01
                                p50: 0.01
                                p95: 0.05
                                p96: 0.06
                                p97: 0.065
                                p98: 0.07
                                p99: 0.075
                              io_pressure:
                                min: 0
                                max: 0.22
                                avg: 0.05
                                stddev: 0.04
                                p50: 0.04
                                p95: 0.18
                                p96: 0.19
                                p97: 0.2
                                p98: 0.21
                                p99: 0.215
                              irq_pressure:
                                min: 0
                                max: 0.01
                                avg: 0.001
                                stddev: 0.002
                                p50: 0
                                p95: 0.008
                                p96: 0.009
                                p97: 0.0095
                                p98: 0.0097
                                p99: 0.0099
                              mountpoints:
                                '':
                                  disk_used:
                                    min: 3087007744
                                    max: 3221225472
                                    avg: 3154116608
                                    stddev: 35000000
                                    p50: 3150000000
                                    p95: 3210000000
                                    p96: 3215000000
                                    p97: 3217000000
                                    p98: 3219000000
                                    p99: 3220000000
                                  disk_limit:
                                    max: 10737418240
                                  inodes_used:
                                    min: 45000
                                    max: 52000
                                    avg: 48500
                                    stddev: 1500
                                    p50: 48400
                                    p95: 51200
                                    p96: 51400
                                    p97: 51600
                                    p98: 51800
                                    p99: 51900
                                  inodes_limit:
                                    max: 655360
                                /tmp:
                                  disk_used:
                                    min: 524288
                                    max: 2097152
                                    avg: 1310720
                                    stddev: 400000
                                    p50: 1300000
                                    p95: 1900000
                                    p96: 1950000
                                    p97: 2000000
                                    p98: 2050000
                                    p99: 2080000
                                  disk_limit:
                                    max: 1073741824
                                  inodes_used:
                                    min: 120
                                    max: 245
                                    avg: 182
                                    stddev: 25
                                    p50: 180
                                    p95: 230
                                    p96: 235
                                    p97: 238
                                    p98: 242
                                    p99: 244
                                  inodes_limit:
                                    max: 65536
                            database:
                              cpu_used:
                                min: 0.08
                                max: 2.45
                                avg: 0.62
                                stddev: 0.48
                                p50: 0.55
                                p95: 1.85
                                p96: 2.02
                                p97: 2.15
                                p98: 2.28
                                p99: 2.38
                              cpu_limit:
                                max: 4
                              memory_used:
                                min: 1073741824
                                max: 1610612736
                                avg: 1342177280
                                stddev: 120000000
                                p50: 1320000000
                                p95: 1550000000
                                p96: 1570000000
                                p97: 1585000000
                                p98: 1598000000
                                p99: 1606000000
                              memory_limit:
                                max: 2147483648
                              swap_used:
                                min: 0
                                max: 8388608
                                avg: 2097152
                                stddev: 1800000
                                p50: 1900000
                                p95: 6500000
                                p96: 7100000
                                p97: 7500000
                                p98: 7900000
                                p99: 8200000
                              swap_limit:
                                max: 1073741824
                              memory_pressure:
                                min: 0
                                max: 0.25
                                avg: 0.06
                                stddev: 0.05
                                p50: 0.05
                                p95: 0.2
                                p96: 0.21
                                p97: 0.22
                                p98: 0.23
                                p99: 0.24
                              cpu_pressure:
                                min: 0
                                max: 0.12
                                avg: 0.02
                                stddev: 0.02
                                p50: 0.02
                                p95: 0.09
                                p96: 0.1
                                p97: 0.105
                                p98: 0.11
                                p99: 0.115
                              io_pressure:
                                min: 0
                                max: 0.45
                                avg: 0.12
                                stddev: 0.09
                                p50: 0.1
                                p95: 0.35
                                p96: 0.38
                                p97: 0.4
                                p98: 0.42
                                p99: 0.44
                              irq_pressure:
                                min: 0
                                max: 0.02
                                avg: 0.003
                                stddev: 0.004
                                p50: 0.002
                                p95: 0.015
                                p96: 0.017
                                p97: 0.018
                                p98: 0.019
                                p99: 0.0195
                              mountpoints:
                                '':
                                  disk_used:
                                    min: 8589934592
                                    max: 9663676416
                                    avg: 9126805504
                                    stddev: 250000000
                                    p50: 9100000000
                                    p95: 9550000000
                                    p96: 9580000000
                                    p97: 9610000000
                                    p98: 9640000000
                                    p99: 9660000000
                                  disk_limit:
                                    max: 21474836480
                                  inodes_used:
                                    min: 125000
                                    max: 145000
                                    avg: 135000
                                    stddev: 4500
                                    p50: 134500
                                    p95: 142800
                                    p96: 143400
                                    p97: 144000
                                    p98: 144500
                                    p99: 144800
                                  inodes_limit:
                                    max: 1310720
                          additionalProperties:
                            properties:
                              cpu_used:
                                description: 'CPU usage in cores. Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    description: Minimum CPU cores used
                                    type: number
                                    format: float
                                    example: 0.12
                                    nullable: true
                                  max:
                                    description: Maximum CPU cores used
                                    type: number
                                    format: float
                                    example: 1.85
                                    nullable: true
                                  avg:
                                    description: Average CPU cores used
                                    type: number
                                    format: float
                                    example: 0.45
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of CPU cores used
                                    type: number
                                    format: float
                                    example: 0.32
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) CPU cores used
                                    type: number
                                    format: float
                                    example: 0.42
                                    nullable: true
                                  p95:
                                    description: 95th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.23
                                    nullable: true
                                  p96:
                                    description: 96th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.34
                                    nullable: true
                                  p97:
                                    description: 97th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.45
                                    nullable: true
                                  p98:
                                    description: 98th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.62
                                    nullable: true
                                  p99:
                                    description: 99th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.78
                                    nullable: true
                                type: object
                              cpu_limit:
                                description: CPU limit in cores. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum CPU limit in cores
                                    type: number
                                    format: float
                                    example: 2
                                    nullable: true
                                type: object
                              memory_used:
                                description: 'Memory usage in bytes. Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    description: Minimum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 536870912
                                    nullable: true
                                  max:
                                    description: Maximum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 715827883
                                    nullable: true
                                  avg:
                                    description: Average memory bytes used
                                    type: number
                                    format: float
                                    example: 612892672
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of memory bytes used
                                    type: number
                                    format: float
                                    example: 45000000
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) memory bytes used
                                    type: number
                                    format: float
                                    example: 605000000
                                    nullable: true
                                  p95:
                                    description: 95th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 690000000
                                    nullable: true
                                  p96:
                                    description: 96th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 695000000
                                    nullable: true
                                  p97:
                                    description: 97th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 700000000
                                    nullable: true
                                  p98:
                                    description: 98th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 708000000
                                    nullable: true
                                  p99:
                                    description: 99th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 712000000
                                    nullable: true
                                type: object
                              memory_limit:
                                description: Memory limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum memory limit in bytes
                                    type: integer
                                    format: int64
                                    example: 1073741824
                                    nullable: true
                                type: object
                              swap_used:
                                description: 'Swap usage in bytes. Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    description: Minimum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 0
                                    nullable: true
                                  max:
                                    description: Maximum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 4194304
                                    nullable: true
                                  avg:
                                    description: Average swap bytes used
                                    type: number
                                    format: float
                                    example: 1048576
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of swap bytes used
                                    type: number
                                    format: float
                                    example: 850000
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) swap bytes used
                                    type: number
                                    format: float
                                    example: 950000
                                    nullable: true
                                  p95:
                                    description: 95th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3200000
                                    nullable: true
                                  p96:
                                    description: 96th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3400000
                                    nullable: true
                                  p97:
                                    description: 97th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3600000
                                    nullable: true
                                  p98:
                                    description: 98th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3900000
                                    nullable: true
                                  p99:
                                    description: 99th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 4100000
                                    nullable: true
                                type: object
                              swap_limit:
                                description: Swap limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum swap limit in bytes
                                    type: integer
                                    format: int64
                                    example: 536870912
                                    nullable: true
                                type: object
                              memory_pressure:
                                description: 'Memory pressure stall indicator (0.0-1.0). Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.15
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.03
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.02
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.02
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.12
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.13
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.14
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.145
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.148
                                    nullable: true
                                type: object
                              cpu_pressure:
                                description: 'CPU pressure stall indicator (0.0-1.0). Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.08
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.05
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.06
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.065
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.07
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.075
                                    nullable: true
                                type: object
                              io_pressure:
                                description: 'I/O pressure stall indicator (0.0-1.0). Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.22
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.05
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.04
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.04
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.18
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.19
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.2
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.21
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.215
                                    nullable: true
                                type: object
                              irq_pressure:
                                description: 'IRQ pressure stall indicator (0.0-1.0). Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.001
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.002
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.008
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.009
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.0095
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.0097
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.0099
                                    nullable: true
                                type: object
                              mountpoints:
                                description: 'Object with mountpoint paths as keys (dynamic, e.g., "", "/tmp", "/mnt"). Each mountpoint contains: disk_used, disk_limit, inodes_used, inodes_limit. All metrics except limits include min, max, avg, stddev, p50, p95-p99 aggregations (nullable).'
                                type: object
                                additionalProperties:
                                  properties:
                                    disk_used:
                                      description: 'Disk usage in bytes. Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                      properties:
                                        min:
                                          description: Minimum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 3087007744
                                          nullable: true
                                        max:
                                          description: Maximum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 3221225472
                                          nullable: true
                                        avg:
                                          description: Average disk bytes used
                                          type: number
                                          format: float
                                          example: 3154116608
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of disk bytes used
                                          type: number
                                          format: float
                                          example: 35000000
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) disk bytes used
                                          type: number
                                          format: float
                                          example: 3150000000
                                          nullable: true
                                        p95:
                                          description: 95th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3210000000
                                          nullable: true
                                        p96:
                                          description: 96th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3215000000
                                          nullable: true
                                        p97:
                                          description: 97th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3217000000
                                          nullable: true
                                        p98:
                                          description: 98th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3219000000
                                          nullable: true
                                        p99:
                                          description: 99th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3220000000
                                          nullable: true
                                      type: object
                                    disk_limit:
                                      description: Disk limit in bytes. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum disk limit in bytes
                                          type: integer
                                          format: int64
                                          example: 10737418240
                                          nullable: true
                                      type: object
                                    inodes_used:
                                      description: 'Inode usage count. Includes statistical aggregations (all nullable): min, max, avg, stddev, p50, p95, p96, p97, p98, p99'
                                      properties:
                                        min:
                                          description: Minimum inodes used
                                          type: integer
                                          example: 45000
                                          nullable: true
                                        max:
                                          description: Maximum inodes used
                                          type: integer
                                          example: 52000
                                          nullable: true
                                        avg:
                                          description: Average inodes used
                                          type: number
                                          format: float
                                          example: 48500
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of inodes used
                                          type: number
                                          format: float
                                          example: 1500
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) inodes used
                                          type: number
                                          format: float
                                          example: 48400
                                          nullable: true
                                        p95:
                                          description: 95th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51200
                                          nullable: true
                                        p96:
                                          description: 96th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51400
                                          nullable: true
                                        p97:
                                          description: 97th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51600
                                          nullable: true
                                        p98:
                                          description: 98th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51800
                                          nullable: true
                                        p99:
                                          description: 99th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51900
                                          nullable: true
                                      type: object
                                    inodes_limit:
                                      description: Inode limit count. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum inodes limit
                                          type: integer
                                          example: 655360
                                          nullable: true
                                      type: object
                                  type: object
                            type: object
                      type: object
                type: object
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/resources/summary:
    get:
      tags:
        - Resources
      summary: '[Internal] Get aggregated resource metrics per service instance'
      description: Returns per-instance resource statistics aggregated over the time range. Filter results using aggs[] (min, max, avg, stddev, p50, p95-p99) and types[] (cpu, memory, swap, disk, inodes, pressure metrics). Response grouped by service name then instance ID (e.g., "app.0", "database.1"). All aggregations nullable when insufficient data exists.
      operationId: resources_summary
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1764083002
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1764083092
        - name: aggs[]
          in: query
          description: 'Statistical aggregations to include in the response. Can be specified multiple times. Available values: avg, stddev, max, min, p50, p95, p96, p97, p98, p99. Specify parameter multiple times for multiple values (e.g., ?aggs[]=avg&aggs[]=p50).'
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - avg
                - stddev
                - max
                - min
                - p50
                - p95
                - p96
                - p97
                - p98
                - p99
        - name: types[]
          in: query
          description: 'Metric types to include in the response. Can be specified multiple times. Available values: cpu, memory, disk, inodes, swap, memory_pressure, cpu_pressure, io_pressure, irq_pressure. Specify parameter multiple times for multiple values (e.g., ?types[]=cpu&types[]=memory).'
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - cpu
                - memory
                - disk
                - inodes
                - swap
                - memory_pressure
                - cpu_pressure
                - io_pressure
                - irq_pressure
        - name: services[]
          in: query
          description: Filter results to specific services. Can be specified multiple times for multiple services. When omitted, all services are included by default. Use services_mode to control inclusion/exclusion behavior. Specify parameter multiple times for multiple values (e.g., ?services[]=app&services[]=database).
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              example: app
        - name: services_mode
          in: query
          description: Filter mode for services parameter. "1" (additive) includes only specified services. "-1" (subtractive, default) excludes specified services and includes all others.
          required: false
          schema:
            type: string
            default: null
            enum:
              - '1'
              - '-1'
            example: '1'
      responses:
        '200':
          description: Successfully retrieved resource summary with per-service-instance aggregations
          content:
            application/json:
              schema:
                required:
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - _branch_machine_name
                  - data
                properties:
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1764083002
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1764083092
                  _project_id:
                    description: Project identifier
                    type: string
                    example: ipgkccaem4s7y
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: staging
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: staging-5em2ouy
                  data:
                    description: Resource summary data organized by service and instance
                    properties:
                      services:
                        description: Resource metrics grouped by service name. Service names are dynamic and vary based on customer configuration (e.g., "admin-pipeline", "clickhouse", "app", "database"). Each service contains one or more instances with full statistical aggregations for all requested metric types.
                        type: object
                        example:
                          app:
                            app.0:
                              cpu_used:
                                min: 0.12
                                max: 1.85
                                avg: 0.45
                                stddev: 0.32
                                p50: 0.42
                                p95: 1.23
                                p96: 1.34
                                p97: 1.45
                                p98: 1.62
                                p99: 1.78
                              cpu_limit:
                                max: 2
                              memory_used:
                                min: 536870912
                                max: 715827883
                                avg: 612892672
                                stddev: 45000000
                                p50: 605000000
                                p95: 690000000
                                p96: 695000000
                                p97: 700000000
                                p98: 708000000
                                p99: 712000000
                              memory_limit:
                                max: 1073741824
                              swap_used:
                                min: 0
                                max: 4194304
                                avg: 1048576
                                stddev: 850000
                                p50: 950000
                                p95: 3200000
                                p96: 3400000
                                p97: 3600000
                                p98: 3900000
                                p99: 4100000
                              swap_limit:
                                max: 536870912
                              memory_pressure:
                                min: 0
                                max: 0.15
                                avg: 0.03
                                stddev: 0.02
                                p50: 0.02
                                p95: 0.12
                                p96: 0.13
                                p97: 0.14
                                p98: 0.145
                                p99: 0.148
                              cpu_pressure:
                                min: 0
                                max: 0.08
                                avg: 0.01
                                stddev: 0.01
                                p50: 0.01
                                p95: 0.05
                                p96: 0.06
                                p97: 0.065
                                p98: 0.07
                                p99: 0.075
                              io_pressure:
                                min: 0
                                max: 0.22
                                avg: 0.05
                                stddev: 0.04
                                p50: 0.04
                                p95: 0.18
                                p96: 0.19
                                p97: 0.2
                                p98: 0.21
                                p99: 0.215
                              irq_pressure:
                                min: 0
                                max: 0.01
                                avg: 0.001
                                stddev: 0.002
                                p50: 0
                                p95: 0.008
                                p96: 0.009
                                p97: 0.0095
                                p98: 0.0097
                                p99: 0.0099
                              mountpoints:
                                '':
                                  disk_used:
                                    min: null
                                    max: null
                                    avg: null
                                    stddev: null
                                    p50: null
                                    p95: null
                                    p96: null
                                    p97: null
                                    p98: null
                                    p99: null
                                  disk_limit:
                                    max: null
                                  inodes_used:
                                    min: null
                                    max: null
                                    avg: null
                                    stddev: null
                                    p50: null
                                    p95: null
                                    p96: null
                                    p97: null
                                    p98: null
                                    p99: null
                                  inodes_limit:
                                    max: null
                                /tmp:
                                  disk_used:
                                    min: 147197952
                                    max: 147197952
                                    avg: 147197952
                                    stddev: null
                                    p50: 147197952
                                    p95: 147197952
                                    p96: 147197952
                                    p97: 147197952
                                    p98: 147197952
                                    p99: 147197952
                                  disk_limit:
                                    max: 17169383424
                                  inodes_used:
                                    min: 2244
                                    max: 2244
                                    avg: 2244
                                    stddev: null
                                    p50: 2244
                                    p95: 2244
                                    p96: 2244
                                    p97: 2244
                                    p98: 2244
                                    p99: 2244
                                  inodes_limit:
                                    max: 8388608
                          clickhouse:
                            clickhouse.0:
                              cpu_used:
                                min: 0.88
                                max: 0.88
                                avg: 0.88
                                stddev: null
                                p50: 0.88
                                p95: 0.88
                                p96: 0.88
                                p97: 0.88
                                p98: 0.88
                                p99: 0.88
                              cpu_limit:
                                max: 16
                              memory_used:
                                min: 1415147520
                                max: 1415147520
                                avg: 1415147520
                                stddev: null
                                p50: 1415147520
                                p95: 1415147520
                                p96: 1415147520
                                p97: 1415147520
                                p98: 1415147520
                                p99: 1415147520
                              memory_limit:
                                max: 34359738368
                              swap_used:
                                min: 223432704
                                max: 223432704
                                avg: 223432704
                                stddev: null
                                p50: 223432704
                                p95: 223432704
                                p96: 223432704
                                p97: 223432704
                                p98: 223432704
                                p99: 223432704
                              swap_limit:
                                max: 536870912
                              memory_pressure:
                                min: 0
                                max: 0
                                avg: 0
                                stddev: null
                                p50: 0
                                p95: 0
                                p96: 0
                                p97: 0
                                p98: 0
                                p99: 0
                              cpu_pressure:
                                min: 0.08
                                max: 0.08
                                avg: 0.08
                                stddev: null
                                p50: 0.08
                                p95: 0.08
                                p96: 0.08
                                p97: 0.08
                                p98: 0.08
                                p99: 0.08
                              io_pressure:
                                min: 0.12
                                max: 0.12
                                avg: 0.12
                                stddev: null
                                p50: 0.12
                                p95: 0.12
                                p96: 0.12
                                p97: 0.12
                                p98: 0.12
                                p99: 0.12
                              irq_pressure:
                                min: 0
                                max: 0
                                avg: 0
                                stddev: null
                                p50: 0
                                p95: 0
                                p96: 0
                                p97: 0
                                p98: 0
                                p99: 0
                              mountpoints:
                                '':
                                  disk_used:
                                    min: null
                                    max: null
                                    avg: null
                                    stddev: null
                                    p50: null
                                    p95: null
                                    p96: null
                                    p97: null
                                    p98: null
                                    p99: null
                                  disk_limit:
                                    max: null
                                  inodes_used:
                                    min: null
                                    max: null
                                    avg: null
                                    stddev: null
                                    p50: null
                                    p95: null
                                    p96: null
                                    p97: null
                                    p98: null
                                    p99: null
                                  inodes_limit:
                                    max: null
                                /mnt:
                                  disk_used:
                                    min: 608173674496
                                    max: 608173674496
                                    avg: 608173674496
                                    stddev: null
                                    p50: 608173674496
                                    p95: 608173674496
                                    p96: 608173674496
                                    p97: 608173674496
                                    p98: 608173674496
                                    p99: 608173674496
                                  disk_limit:
                                    max: 1056876748800
                                  inodes_used:
                                    min: 495287
                                    max: 495287
                                    avg: 495287
                                    stddev: null
                                    p50: 495287
                                    p95: 495287
                                    p96: 495287
                                    p97: 495287
                                    p98: 495287
                                    p99: 495287
                                  inodes_limit:
                                    max: 65536000
                                /tmp:
                                  disk_used:
                                    min: 76398592
                                    max: 76398592
                                    avg: 76398592
                                    stddev: null
                                    p50: 76398592
                                    p95: 76398592
                                    p96: 76398592
                                    p97: 76398592
                                    p98: 76398592
                                    p99: 76398592
                                  disk_limit:
                                    max: 17169383424
                                  inodes_used:
                                    min: 11
                                    max: 11
                                    avg: 11
                                    stddev: null
                                    p50: 11
                                    p95: 11
                                    p96: 11
                                    p97: 11
                                    p98: 11
                                    p99: 11
                                  inodes_limit:
                                    max: 8388608
                        additionalProperties:
                          description: Service-level container with one or more instance names as keys (e.g., "app.0", "clickhouse.0", "database.1")
                          type: object
                          additionalProperties:
                            description: Instance-level metrics with statistical aggregations. Instance identifiers are dynamic and vary based on service scaling.
                            properties:
                              cpu_used:
                                description: CPU cores used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum CPU cores used
                                    type: number
                                    format: float
                                    example: 0.12
                                    nullable: true
                                  max:
                                    description: Maximum CPU cores used
                                    type: number
                                    format: float
                                    example: 1.85
                                    nullable: true
                                  avg:
                                    description: Average CPU cores used
                                    type: number
                                    format: float
                                    example: 0.45
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of CPU cores used
                                    type: number
                                    format: float
                                    example: 0.32
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) CPU cores used
                                    type: number
                                    format: float
                                    example: 0.42
                                    nullable: true
                                  p95:
                                    description: 95th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.23
                                    nullable: true
                                  p96:
                                    description: 96th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.34
                                    nullable: true
                                  p97:
                                    description: 97th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.45
                                    nullable: true
                                  p98:
                                    description: 98th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.62
                                    nullable: true
                                  p99:
                                    description: 99th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 1.78
                                    nullable: true
                                type: object
                              cpu_limit:
                                description: CPU limit in cores. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum CPU limit in cores
                                    type: number
                                    format: float
                                    example: 2
                                    nullable: true
                                type: object
                              memory_used:
                                description: Memory bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 536870912
                                    nullable: true
                                  max:
                                    description: Maximum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 715827883
                                    nullable: true
                                  avg:
                                    description: Average memory bytes used
                                    type: number
                                    format: float
                                    example: 612892672
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of memory bytes used
                                    type: number
                                    format: float
                                    example: 45000000
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) memory bytes used
                                    type: number
                                    format: float
                                    example: 605000000
                                    nullable: true
                                  p95:
                                    description: 95th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 690000000
                                    nullable: true
                                  p96:
                                    description: 96th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 695000000
                                    nullable: true
                                  p97:
                                    description: 97th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 700000000
                                    nullable: true
                                  p98:
                                    description: 98th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 708000000
                                    nullable: true
                                  p99:
                                    description: 99th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 712000000
                                    nullable: true
                                type: object
                              memory_limit:
                                description: Memory limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum memory limit in bytes
                                    type: integer
                                    format: int64
                                    example: 1073741824
                                    nullable: true
                                type: object
                              swap_used:
                                description: Swap bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 0
                                    nullable: true
                                  max:
                                    description: Maximum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 4194304
                                    nullable: true
                                  avg:
                                    description: Average swap bytes used
                                    type: number
                                    format: float
                                    example: 1048576
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of swap bytes used
                                    type: number
                                    format: float
                                    example: 850000
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) swap bytes used
                                    type: number
                                    format: float
                                    example: 950000
                                    nullable: true
                                  p95:
                                    description: 95th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3200000
                                    nullable: true
                                  p96:
                                    description: 96th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3400000
                                    nullable: true
                                  p97:
                                    description: 97th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3600000
                                    nullable: true
                                  p98:
                                    description: 98th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 3900000
                                    nullable: true
                                  p99:
                                    description: 99th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 4100000
                                    nullable: true
                                type: object
                              swap_limit:
                                description: Swap limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum swap limit in bytes
                                    type: integer
                                    format: int64
                                    example: 536870912
                                    nullable: true
                                type: object
                              memory_pressure:
                                description: Memory pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.15
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.03
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.02
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.02
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.12
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.13
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.14
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.145
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.148
                                    nullable: true
                                type: object
                              cpu_pressure:
                                description: CPU pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.08
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.05
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.06
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.065
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.07
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.075
                                    nullable: true
                                type: object
                              io_pressure:
                                description: I/O pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.22
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.05
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.04
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.04
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.18
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.19
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.2
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.21
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.215
                                    nullable: true
                                type: object
                              irq_pressure:
                                description: IRQ pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.01
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.001
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: 0.002
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.008
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.009
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.0095
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.0097
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.0099
                                    nullable: true
                                type: object
                              mountpoints:
                                description: Disk usage statistics for filesystem mountpoints. Mountpoint paths are dynamic and vary based on service configuration (e.g., "" for root, "/tmp", "/mnt"). Each mountpoint provides disk and inode usage with statistical aggregations.
                                type: object
                                additionalProperties:
                                  properties:
                                    disk_used:
                                      description: Disk bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                      properties:
                                        min:
                                          description: Minimum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 3087007744
                                          nullable: true
                                        max:
                                          description: Maximum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 3221225472
                                          nullable: true
                                        avg:
                                          description: Average disk bytes used
                                          type: number
                                          format: float
                                          example: 3154116608
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of disk bytes used
                                          type: number
                                          format: float
                                          example: 35000000
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) disk bytes used
                                          type: number
                                          format: float
                                          example: 3150000000
                                          nullable: true
                                        p95:
                                          description: 95th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3210000000
                                          nullable: true
                                        p96:
                                          description: 96th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3215000000
                                          nullable: true
                                        p97:
                                          description: 97th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3217000000
                                          nullable: true
                                        p98:
                                          description: 98th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3219000000
                                          nullable: true
                                        p99:
                                          description: 99th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 3220000000
                                          nullable: true
                                      type: object
                                    disk_limit:
                                      description: Disk limit in bytes. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum disk limit in bytes
                                          type: integer
                                          format: int64
                                          example: 10737418240
                                          nullable: true
                                      type: object
                                    inodes_used:
                                      description: Inodes used with statistical aggregations. Values may be null when insufficient data is available.
                                      properties:
                                        min:
                                          description: Minimum inodes used
                                          type: integer
                                          example: 45000
                                          nullable: true
                                        max:
                                          description: Maximum inodes used
                                          type: integer
                                          example: 52000
                                          nullable: true
                                        avg:
                                          description: Average inodes used
                                          type: number
                                          format: float
                                          example: 48500
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of inodes used
                                          type: number
                                          format: float
                                          example: 1500
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) inodes used
                                          type: number
                                          format: float
                                          example: 48400
                                          nullable: true
                                        p95:
                                          description: 95th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51200
                                          nullable: true
                                        p96:
                                          description: 96th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51400
                                          nullable: true
                                        p97:
                                          description: 97th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51600
                                          nullable: true
                                        p98:
                                          description: 98th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51800
                                          nullable: true
                                        p99:
                                          description: 99th percentile inodes used
                                          type: number
                                          format: float
                                          example: 51900
                                          nullable: true
                                      type: object
                                    inodes_limit:
                                      description: Inode limit count. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum inodes limit
                                          type: integer
                                          example: 655360
                                          nullable: true
                                      type: object
                                  type: object
                            type: object
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/resources/service/{service}:
    get:
      tags:
        - Resources
      summary: '[Internal] Get time-series resource metrics for a specific service'
      description: Returns time-series resource data for one service. Each timestamp contains per-instance metrics. Filter results using aggs[] (min, max, avg, stddev, p50, p95-p99) and types[] (cpu, memory, swap, disk, inodes, pressure metrics). Response grouped by timestamp then instance ID (e.g., "app.0"). All aggregations nullable when insufficient data exists.
      operationId: resources_by_service
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: service
          in: path
          description: The service name to retrieve metrics for (e.g., "app", "database", "admin-pipeline--kafka-profile-payloads")
          required: true
          schema:
            type: string
            example: app
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
        - name: aggs[]
          in: query
          description: 'Statistical aggregations to include in the response. Can be specified multiple times. Available values: avg, stddev, max, min, p50, p95, p96, p97, p98, p99. Specify parameter multiple times for multiple values (e.g., ?aggs[]=avg&aggs[]=p50).'
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - avg
                - stddev
                - max
                - min
                - p50
                - p95
                - p96
                - p97
                - p98
                - p99
        - name: types[]
          in: query
          description: 'Metric types to include in the response. Can be specified multiple times. Available values: cpu, memory, disk, inodes, swap, memory_pressure, cpu_pressure, io_pressure, irq_pressure. Specify parameter multiple times for multiple values (e.g., ?types[]=cpu&types[]=memory).'
          required: false
          style: form
          explode: true
          schema:
            type: array
            items:
              type: string
              enum:
                - cpu
                - memory
                - disk
                - inodes
                - swap
                - memory_pressure
                - cpu_pressure
                - io_pressure
                - irq_pressure
      responses:
        '200':
          description: Successfully retrieved service-specific resource metrics with time-series data
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _project_id
                  - _environment_id
                  - _branch_machine_name
                  - _service
                  - data
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 60
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1764083002
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1764083092
                  _project_id:
                    description: Project identifier
                    type: string
                    example: ipgkccaem4s7y
                  _environment_id:
                    description: Environment identifier
                    type: string
                    example: staging
                  _branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: staging-5em2ouy
                  _service:
                    description: Service name
                    type: string
                    example: admin-pipeline--kafka-profile-payloads
                  data:
                    description: Time-series resource utilization data organized by timestamp with instance-level metrics
                    type: array
                    items:
                      required:
                        - timestamp
                      properties:
                        timestamp:
                          description: Data point timestamp (Unix timestamp in seconds)
                          type: integer
                          example: 1764083040
                        instances:
                          description: Resource metrics grouped by instance name. Instance names are dynamic and vary based on service scaling (e.g., "admin-pipeline--kafka-profile-payloads.0", "app.0", "database.1"). This property may be absent if no data is available for the timestamp.
                          type: object
                          additionalProperties:
                            description: Instance-level metrics with statistical aggregations. Instance identifiers are dynamic and vary based on service scaling.
                            properties:
                              cpu_used:
                                description: CPU cores used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  max:
                                    description: Maximum CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  avg:
                                    description: Average CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of CPU cores used
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  p95:
                                    description: 95th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  p96:
                                    description: 96th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  p97:
                                    description: 97th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  p98:
                                    description: 98th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                  p99:
                                    description: 99th percentile CPU cores used
                                    type: number
                                    format: float
                                    example: 0.016
                                    nullable: true
                                type: object
                              cpu_limit:
                                description: CPU limit in cores. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum CPU limit in cores
                                    type: number
                                    format: float
                                    example: 0.25
                                    nullable: true
                                type: object
                              memory_used:
                                description: Memory bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 128819200
                                    nullable: true
                                  max:
                                    description: Maximum memory bytes used
                                    type: integer
                                    format: int64
                                    example: 128819200
                                    nullable: true
                                  avg:
                                    description: Average memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of memory bytes used
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  p95:
                                    description: 95th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  p96:
                                    description: 96th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  p97:
                                    description: 97th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  p98:
                                    description: 98th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                  p99:
                                    description: 99th percentile memory bytes used
                                    type: number
                                    format: float
                                    example: 128819200
                                    nullable: true
                                type: object
                              memory_limit:
                                description: Memory limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum memory limit in bytes
                                    type: integer
                                    format: int64
                                    example: 671088640
                                    nullable: true
                                type: object
                              swap_used:
                                description: Swap bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    description: Minimum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 0
                                    nullable: true
                                  max:
                                    description: Maximum swap bytes used
                                    type: integer
                                    format: int64
                                    example: 0
                                    nullable: true
                                  avg:
                                    description: Average swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  stddev:
                                    description: Standard deviation of swap bytes used
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    description: Median (50th percentile) swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    description: 95th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p96:
                                    description: 96th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p97:
                                    description: 97th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p98:
                                    description: 98th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p99:
                                    description: 99th percentile swap bytes used
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                type: object
                              swap_limit:
                                description: Swap limit in bytes. Contains only max (nullable)
                                properties:
                                  max:
                                    description: Maximum swap limit in bytes
                                    type: integer
                                    format: int64
                                    example: 536870912
                                    nullable: true
                                type: object
                              memory_pressure:
                                description: Memory pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                type: object
                              cpu_pressure:
                                description: CPU pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0.229667
                                    nullable: true
                                type: object
                              io_pressure:
                                description: I/O pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                type: object
                              irq_pressure:
                                description: IRQ pressure stall indicator (0.0-1.0) with statistical aggregations. Values may be null when insufficient data is available.
                                properties:
                                  min:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  max:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  avg:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  stddev:
                                    type: number
                                    format: float
                                    example: null
                                    nullable: true
                                  p50:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p95:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p96:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p97:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p98:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                  p99:
                                    type: number
                                    format: float
                                    example: 0
                                    nullable: true
                                type: object
                              mountpoints:
                                description: Disk usage statistics for filesystem mountpoints. Mountpoint paths are dynamic and vary based on service configuration (e.g., "" for root, "/tmp", "/mnt"). Each mountpoint provides disk and inode usage with statistical aggregations.
                                type: object
                                additionalProperties:
                                  properties:
                                    disk_used:
                                      description: Disk bytes used with statistical aggregations. Values may be null when insufficient data is available.
                                      properties:
                                        min:
                                          description: Minimum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 197959680
                                          nullable: true
                                        max:
                                          description: Maximum disk bytes used
                                          type: integer
                                          format: int64
                                          example: 197959680
                                          nullable: true
                                        avg:
                                          description: Average disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of disk bytes used
                                          type: number
                                          format: float
                                          example: null
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        p95:
                                          description: 95th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        p96:
                                          description: 96th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        p97:
                                          description: 97th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        p98:
                                          description: 98th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                        p99:
                                          description: 99th percentile disk bytes used
                                          type: number
                                          format: float
                                          example: 197959680
                                          nullable: true
                                      type: object
                                    disk_limit:
                                      description: Disk limit in bytes. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum disk limit in bytes
                                          type: integer
                                          format: int64
                                          example: 17169383424
                                          nullable: true
                                      type: object
                                    inodes_used:
                                      description: Inodes used with statistical aggregations. Values may be null when insufficient data is available.
                                      properties:
                                        min:
                                          description: Minimum inodes used
                                          type: integer
                                          example: 2245
                                          nullable: true
                                        max:
                                          description: Maximum inodes used
                                          type: integer
                                          example: 2245
                                          nullable: true
                                        avg:
                                          description: Average inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        stddev:
                                          description: Standard deviation of inodes used
                                          type: number
                                          format: float
                                          example: null
                                          nullable: true
                                        p50:
                                          description: Median (50th percentile) inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        p95:
                                          description: 95th percentile inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        p96:
                                          description: 96th percentile inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        p97:
                                          description: 97th percentile inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        p98:
                                          description: 98th percentile inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                        p99:
                                          description: 99th percentile inodes used
                                          type: number
                                          format: float
                                          example: 2245
                                          nullable: true
                                      type: object
                                    inodes_limit:
                                      description: Inode limit count. Contains only max (nullable)
                                      properties:
                                        max:
                                          description: Maximum inodes limit
                                          type: integer
                                          example: 8388608
                                          nullable: true
                                      type: object
                                  type: object
                            type: object
                      type: object
                type: object
                additionalProperties: false
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability/server/caches:
    get:
      tags:
        - Blackfire Monitoring
      summary: '[Internal] Get PHP server cache usage metrics with OPcache, APCu, and realpath cache statistics'
      description: Returns time-series PHP cache usage ratios (0.0-1.0) for OPcache memory, OPcache interned strings buffer (ISB), APCu memory, realpath cache, and PCRE cache. Includes hit rate ratios (0.0-1.0) for APCu and OPcache. Data points may be sparse when metrics are unchanged. Filtered by agent ID and execution contexts (web, cli, etc.).
      operationId: php_server_caches
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
        - name: from
          in: query
          description: Start timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704067200
        - name: to
          in: query
          description: End timestamp for the time range (Unix timestamp in seconds)
          required: true
          schema:
            type: integer
            format: int64
            example: 1704153600
      responses:
        '200':
          description: PHP server cache metrics retrieved successfully
          content:
            application/json:
              schema:
                required:
                  - _grain
                  - _from
                  - _to
                  - _agent
                  - _contexts
                  - _contexts_mode
                  - data
                properties:
                  _grain:
                    description: Data granularity in seconds
                    type: integer
                    example: 2
                  _from:
                    description: Query start timestamp
                    type: integer
                    example: 1764083002
                  _to:
                    description: Query end timestamp
                    type: integer
                    example: 1764083092
                  _agent:
                    description: Blackfire agent UUID filter
                    type: string
                    format: uuid
                    example: 4b5266a2-fd71-468b-bf05-87b342079cbf
                  _contexts:
                    description: Execution context filters (e.g., "web", "cli")
                    type: array
                    items:
                      type: string
                      enum:
                        - web
                        - cli
                    example:
                      - web
                  _contexts_mode:
                    description: Context filter mode
                    type: string
                    enum:
                      - additive
                      - exclusive
                    example: additive
                  data:
                    description: Time-series cache usage metrics. Data points without metrics indicate no data collected at that timestamp.
                    type: array
                    items:
                      required:
                        - timestamp
                      properties:
                        timestamp:
                          description: Data point timestamp (Unix timestamp in seconds)
                          type: integer
                          example: 1764083014
                        opcache_usage:
                          description: OPcache memory usage ratio (0.0-1.0, where 1.0 = 100% full)
                          type: number
                          format: float
                          example: 0.308
                          nullable: true
                        opcache_isb_usage:
                          description: OPcache interned strings buffer usage ratio (0.0-1.0)
                          type: number
                          format: float
                          example: 0.629
                          nullable: true
                        apcu_usage:
                          description: APCu memory usage ratio (0.0-1.0)
                          type: number
                          format: float
                          example: 0.008
                          nullable: true
                        realpath_usage:
                          description: Realpath cache usage ratio (0.0-1.0)
                          type: number
                          format: float
                          example: 0.109
                          nullable: true
                        pcre_usage:
                          description: PCRE (Perl Compatible Regular Expressions) cache usage ratio (0.0-1.0)
                          type: number
                          format: float
                          example: 0.304
                          nullable: true
                        apcu_hitrate:
                          description: APCu cache hit rate ratio (0.0-1.0, where 1.0 = 100% hits)
                          type: number
                          format: float
                          example: 0.999
                          nullable: true
                        opcache_hitrate:
                          description: OPcache hit rate ratio (0.0-1.0, where 1.0 = 100% hits)
                          type: number
                          format: float
                          example: 0.9998
                          nullable: true
                      type: object
                type: object
              example:
                _grain: 2
                _from: 1764083002
                _to: 1764083092
                _agent: 4b5266a2-fd71-468b-bf05-87b342079cbf
                _contexts:
                  - web
                _contexts_mode: additive
                data:
                  - timestamp: 1764083002
                  - timestamp: 1764083014
                    opcache_usage: 0.308
                    opcache_isb_usage: 0.629
                    apcu_usage: 0.008
                    realpath_usage: 0.109
                    pcre_usage: 0.304
                    apcu_hitrate: 0.999
                    opcache_hitrate: 0.9998
                  - timestamp: 1764083024
                    opcache_usage: 0.308
                    opcache_isb_usage: 0.629
                    apcu_usage: 0.008
                    realpath_usage: 0.105
                    pcre_usage: 0.313
                    apcu_hitrate: 0.999
                    opcache_hitrate: 0.9998
        '400':
          description: Bad request - Invalid parameters. Please consult the API documentation to fix the request parameters.
          content:
            application/json:
              schema:
                required:
                  - type
                  - title
                  - status
                  - violations
                properties:
                  type:
                    description: RFC 2616 reference URL identifying the error type
                    type: string
                    format: uri
                    example: https://tools.ietf.org/html/rfc2616#section-1
                  title:
                    description: Human-readable summary of the validation error
                    type: string
                    example: Please ensure parameters are correct.
                  status:
                    description: HTTP status code
                    type: integer
                    example: 400
                  violations:
                    description: Map of parameter names to their validation errors. Each parameter can have multiple error messages.
                    type: object
                    example:
                      grain:
                        - Grain can not be larger than the selection windows.
                      from:
                        - The from timestamp must be in the past.
                      to:
                        - The to timestamp must be greater than the from timestamp.
                    additionalProperties:
                      type: array
                      items:
                        type: string
                type: object
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
        '499':
          description: Too much data fetched - The query is attempting to retrieve too much data. Please narrow down the query by reducing the time range or adding more specific filters to retrieve less data.
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: Too much data fetched
                  message:
                    type: string
                    example: Please reduce the time range or add more filters to narrow down the query
                type: object
  /platformsh-api/{projectId}/environments/{environmentId}/observability:
    get:
      tags:
        - Logs
        - Http Traffic
        - Resources
        - Blackfire Monitoring
      summary: '[Internal] Get observability API entrypoint with HATEOAS navigation and retention policies'
      description: Returns API entrypoint with hypermedia links to all observability endpoints (resources, logs, HTTP traffic, continuous profiling, server metrics) following HATEOAS principles. Includes data retention policies per metric type (retention_period, max_range, recommended_default_range in minutes), environment metadata (project_id, environment_id, environment_type, vendor), and per-service resource links. Use _links for API navigation.
      operationId: observability_entrypoint
      parameters:
        - name: projectId
          in: path
          description: The unique identifier of the Upsun project
          required: true
          schema:
            type: string
            pattern: '[a-z0-9]+'
            example: abc123def456
        - name: environmentId
          in: path
          description: The environment identifier
          required: true
          schema:
            type: string
            pattern: .+
            example: main
      responses:
        '200':
          description: Observability entrypoint retrieved successfully
          content:
            application/json:
              schema:
                properties:
                  message:
                    description: Welcome message
                    type: string
                    example: bonjour, monde!
                  project_id:
                    description: Project identifier
                    type: string
                    example: abc123def456
                  branch_machine_name:
                    description: Branch machine name
                    type: string
                    example: main
                  environment_id:
                    description: Environment identifier
                    type: string
                    example: main
                  environment_type:
                    description: Environment type classification
                    type: string
                    enum:
                      - production
                      - staging
                      - development
                    example: production
                  vendor:
                    description: Platform vendor identifier
                    type: string
                    enum:
                      - upsun
                      - platformsh
                    example: upsun
                  psh_user_identifier:
                    description: Authenticated user identifier
                    type: string
                    example: user@example.com
                  _links:
                    description: HATEOAS navigation links to all observability endpoints
                    properties:
                      _self:
                        description: Link to this entrypoint resource
                        properties:
                          href:
                            description: URL to this resource
                            type: string
                            format: uri
                            example: /platformsh-api/abc123def456/environments/main/observability
                        type: object
                        additionalProperties: false
                      resources_by_service:
                        description: Per-service resource metrics endpoints with service names as keys
                        type: object
                        example:
                          app:
                            name: app
                            href: /platformsh-api/abc123def456/environments/main/observability/resources/service/app
                          database:
                            name: database
                            href: /platformsh-api/abc123def456/environments/main/observability/resources/service/database
                        additionalProperties:
                          properties:
                            name:
                              description: Service name
                              type: string
                              example: app
                            href:
                              description: URL to service metrics endpoint
                              type: string
                              format: uri
                              example: /platformsh-api/abc123def456/environments/main/observability/resources/service/app
                          type: object
                      resources_overview:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      resources_summary:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      php_server_caches:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      logs_query:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      logs_overview:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      http_metrics_overview:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      http_metrics_overview_experiment:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      console_sandbox_access:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      conprof_applications:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      conprof_application_filters:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      conprof_timeline:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                      conprof_flamegraph:
                        properties:
                          href:
                            type: string
                            format: uri
                        type: object
                        additionalProperties: false
                    type: object
                    additionalProperties: false
                  retention:
                    description: 'DEPRECATED: Data retention periods in minutes per resource type. Use data_retention instead.'
                    properties:
                      resources:
                        type: integer
                        example: 43200
                      logs:
                        type: integer
                        example: 43200
                      http_traffic:
                        type: integer
                        example: 43200
                      continuous_profiling:
                        type: integer
                        example: 80640
                    type: object
                    additionalProperties: false
                  data_retention:
                    description: Data retention policies per metric type with periods in minutes
                    properties:
                      _unit:
                        description: Time unit for all retention values
                        type: string
                        example: minute
                      _unit_in_seconds:
                        description: Unit conversion to seconds
                        type: integer
                        example: 60
                      resources:
                        description: Resource metrics retention policy in minutes
                        properties:
                          retention_period:
                            description: Data storage duration in minutes
                            type: integer
                            example: 43200
                          max_range:
                            description: Maximum query time range in minutes
                            type: integer
                            example: 43200
                          recommended_default_range:
                            description: Recommended default query time range in minutes, for user interfaces
                            type: integer
                            example: 43200
                        type: object
                        additionalProperties: false
                      logs:
                        description: Logs retention policy in minutes
                        properties:
                          retention_period:
                            description: Data storage duration in minutes
                            type: integer
                            example: 43200
                          max_range:
                            description: Maximum query time range in minutes
                            type: integer
                            example: 43200
                          recommended_default_range:
                            description: Recommended default query time range in minutes, for user interfaces
                            type: integer
                            example: 43200
                        type: object
                        additionalProperties: false
                      http_traffic:
                        description: HTTP traffic retention policy in minutes
                        properties:
                          retention_period:
                            description: Data storage duration in minutes
                            type: integer
                            example: 43200
                          max_range:
                            description: Maximum query time range in minutes
                            type: integer
                            example: 43200
                          recommended_default_range:
                            description: Recommended default query time range in minutes, for user interfaces
                            type: integer
                            example: 43200
                        type: object
                        additionalProperties: false
                      continuous_profiling:
                        description: Continuous profiling retention policy in minutes
                        properties:
                          retention_period:
                            description: Data storage duration in minutes
                            type: integer
                            example: 43200
                          max_range:
                            description: Maximum query time range in minutes
                            type: integer
                            example: 43200
                          recommended_default_range:
                            description: Recommended default query time range in minutes, for user interfaces
                            type: integer
                            example: 43200
                        type: object
                        additionalProperties: false
                    type: object
                    additionalProperties: false
                type: object
                additionalProperties: false
        '403':
          description: Forbidden - Access denied due to insufficient permissions, or the requested project/environment does not exist (to prevent information disclosure)
  /ref/organizations:
    get:
      summary: List referenced organizations
      description: Retrieves a list of organizations referenced by a trusted service. Clients cannot construct the URL themselves. The correct URL will be provided in the HAL links of another API response, in the <code>_links</code> object with a key like <code>ref:organizations:0</code>.
      operationId: list-referenced-orgs
      tags:
        - References
      parameters:
        - schema:
            type: string
          in: query
          name: in
          description: The list of comma-separated organization IDs generated by a trusted service.
          required: true
        - schema:
            type: string
          in: query
          name: sig
          description: The signature of this request generated by a trusted service.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                description: A map of referenced organizations indexed by the organization ID.
                additionalProperties:
                  $ref: '#/components/schemas/OrganizationReference'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/{user_id}/organizations:
    get:
      summary: User organizations
      description: Retrieves organizations that the specified user is a member of.
      operationId: list-user-orgs
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/UserID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[vendor]
          description: |
            Allows filtering by `vendor` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[status]
          description: |
            Allows filtering by `status` using one or more operators.<br>
            Defaults to `filter[status][in]=active,restricted,suspended`.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `name`, `label`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Organization'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations:
    get:
      summary: List organizations
      description: Non-admin users will only see organizations they are members of.
      operationId: list-orgs
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: |
            Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[owner_id]
          description: Allows filtering by `owner_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[name]
          description: Allows filtering by `name` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[label]
          description: Allows filtering by `label` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[netsuite_id]
          description: '[Internal] Allows filtering by `netsuite_id` using one or more operators.'
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[vendor]
          description: |
            Allows filtering by `vendor` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[capabilities]
          description: Allows filtering by `capabilites` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/ArrayFilter'
        - in: query
          name: filter[status]
          description: |
            Allows filtering by `status` using one or more operators.<br>
            Defaults to `filter[status][in]=active,restricted,suspended`.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `name`, `label`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Organization'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: Create organization
      description: Creates a new organization.
      operationId: create-org
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - label
              properties:
                type:
                  type: string
                  description: The type of the organization.
                  enum:
                    - fixed
                    - flexible
                owner_id:
                  type: string
                  format: uuid
                  description: ID of the owner.
                name:
                  type: string
                  description: A unique machine name representing the organization.
                label:
                  type: string
                  description: The human-readable label of the organization.
                country:
                  type: string
                  description: The organization country (2-letter country code).
                  maxLength: 2
                capabilities:
                  type: array
                  description: '[Internal] The organization capabilities.'
                  items:
                    type: string
                  uniqueItems: true
                netsuite_id:
                  type: string
                  description: '[Internal] The Netsuite ID.'
                billing_account_id:
                  type: string
                  description: '[Internal] The Billing Account ID.'
                billing_legacy:
                  type: boolean
                  description: '[Internal] Whether the account is billed with the legacy system.'
                security_contact:
                  type: string
                  format: email
                  description: The security contact email address for the organization.
                notes:
                  type: string
                  description: '[Internal] The internal notes for the organization.'
                status:
                  type: string
                  description: '[Internal] The status of the organization.'
                  enum:
                    - active
                    - restricted
                    - suspended
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}:
    get:
      summary: Get organization
      description: Retrieves the specified organization.
      operationId: get-org
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update organization
      description: Updates the specified organization.
      operationId: update-org
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: A unique machine name representing the organization.
                label:
                  type: string
                  description: The human-readable label of the organization.
                country:
                  type: string
                  description: The organization country (2-letter country code).
                  maxLength: 2
                capabilities:
                  type: array
                  description: '[Internal] The organization capabilities.'
                  items:
                    type: string
                  uniqueItems: true
                vendor:
                  type: string
                  description: '[Internal] The vendor.'
                netsuite_id:
                  type: string
                  description: '[Internal] The Netsuite ID.'
                billing_account_id:
                  type: string
                  description: '[Internal] The Billing Account ID.'
                billing_legacy:
                  type: boolean
                  description: '[Internal] Whether the account is billed with the legacy system.'
                security_contact:
                  type: string
                  format: email
                  description: The security contact email address for the organization.
                notes:
                  type: string
                  description: '[Internal] The internal notes for the organization.'
                status:
                  type: string
                  description: '[Internal] The status of the organization.'
                  enum:
                    - active
                    - restricted
                    - suspended
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete organization
      description: Deletes the specified organization.
      operationId: delete-org
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: force
          description: '[Internal] Skip additional checks and force deletion.'
          schema:
            type: boolean
        - in: query
          name: skip_billing
          description: '[Internal] Skip deleting the billing data in Accounts.'
          schema:
            type: boolean
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/transfer:
    post:
      summary: '[Internal] Transfer organization'
      description: Transfers the organization to different owner.
      operationId: transfer-org
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - owner_id
              properties:
                owner_id:
                  type: string
                  format: uuid
                  description: ID of the owner.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/debug-access:
    get:
      summary: '[Internal] Debug organization access'
      description: Outputs member access info from Auth and Organizations, and whether it matches.
      operationId: debug-org-access
      tags:
        - Organizations
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  grants:
                    type: object
                    properties:
                      auth:
                        type: object
                        description: The member grants on Auth.
                      orgs:
                        type: object
                        description: The member grants on Orgs.
                  match:
                    type: boolean
                    description: Whether the grants match.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/mfa-enforcement:
    get:
      summary: Get organization MFA settings
      description: Retrieves MFA settings for the specified organization.
      operationId: get-org-mfa-enforcement
      tags:
        - MFA
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMFAEnforcement'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/mfa-enforcement/enable:
    post:
      summary: Enable organization MFA enforcement
      description: Enables MFA enforcement for the specified organization.
      operationId: enable-org-mfa-enforcement
      tags:
        - MFA
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/mfa-enforcement/disable:
    post:
      summary: Disable organization MFA enforcement
      description: Disables MFA enforcement for the specified organization.
      operationId: disable-org-mfa-enforcement
      tags:
        - MFA
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/mfa/remind:
    post:
      summary: Send MFA reminders to organization members
      description: Sends a reminder about setting up MFA to the specified organization members.
      operationId: send-org-mfa-reminders
      tags:
        - MFA
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user_ids:
                  type: array
                  description: The organization members.
                  items:
                    type: string
                    format: uuid
                    description: The ID of the user.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    code:
                      type: integer
                      description: An HTTP-like status code referring to the result of the operation for the specific user.
                    message:
                      type: string
                      description: A human-readable message describing the result of the operation for the specific user
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/recalculate-usage:
    post:
      summary: '[Internal] Recalculates the usage and member levels for the organization.'
      description: Recalculates the usage and member levels for the specified organization.
      operationId: recalculate-org-usage
      tags:
        - Internal
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '202':
          description: Accepted
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organization-members:
    get:
      summary: '[Internal] List all organization members'
      description: Retrieves a list of members across all organizations.
      operationId: list-all-org-members
      tags:
        - Organizations
      parameters:
        - in: query
          name: filter[permissions]
          description: Allows filtering by `permissions` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/ArrayFilter'
        - in: query
          name: filter[created_at]
          description: Allows filtering by `created_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationMember'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/members:
    get:
      summary: List organization members
      description: Accessible to organization owners and members with the "manage members" permission.
      operationId: list-org-members
      tags:
        - Organization Members
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: filter[permissions]
          description: Allows filtering by `permissions` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/ArrayFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationMember'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: Create organization member
      description: Creates a new organization member.
      operationId: create-org-member
      tags:
        - Organization Members
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - user_id
              properties:
                user_id:
                  type: string
                  format: uuid
                  description: ID of the user.
                permissions:
                  $ref: '#/components/schemas/Permissions'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMember'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/members/{user_id}:
    get:
      summary: Get organization member
      description: Retrieves the specified organization member.
      operationId: get-org-member
      tags:
        - Organization Members
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/UserID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMember'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update organization member
      description: Updates the specified organization member.
      operationId: update-org-member
      tags:
        - Organization Members
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/UserID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                permissions:
                  $ref: '#/components/schemas/Permissions'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMember'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete organization member
      description: Deletes the specified organization member.
      operationId: delete-org-member
      tags:
        - Organization Members
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/UserID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/address:
    get:
      summary: Get address
      description: Retrieves the address for the specified organization.
      operationId: get-org-address
      tags:
        - Profiles
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Address'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update address
      description: Updates the address for the specified organization.
      operationId: update-org-address
      tags:
        - Profiles
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Address'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Address'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/invoices:
    get:
      summary: List invoices
      description: Retrieves a list of invoices for the specified organization.
      operationId: list-org-invoices
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/filter_invoice_status'
        - $ref: '#/components/parameters/filter_invoice_type'
        - $ref: '#/components/parameters/filter_order_id'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/all'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Invoice'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/invoices/{invoice_id}:
    get:
      summary: Get invoice
      description: Retrieves an invoice for the specified organization.
      operationId: get-org-invoice
      tags:
        - Invoices
      parameters:
        - $ref: '#/components/parameters/InvoiceID'
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invoice'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/profile:
    get:
      summary: Get profile
      description: Retrieves the profile for the specified organization.
      operationId: get-org-profile
      tags:
        - Profiles
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update profile
      description: Updates the profile for the specified organization.
      operationId: update-org-profile
      tags:
        - Profiles
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                default_catalog:
                  type: string
                  description: The URL of a catalog file which overrides the default.
                project_options_url:
                  type: string
                  format: uri
                  description: The URL of an organization-wide project options file.
                company_name:
                  type: string
                  description: The company name.
                customer_type:
                  type: string
                  description: The customer type of this account.
                  enum:
                    - indvidual
                    - company
                    - government
                vat_number:
                  type: string
                  description: The VAT number of the company.
                billing_contact:
                  type: string
                  format: email
                  description: The e-mail address of a contact to whom billing notices will be sent.
                account_tier:
                  type: string
                  description: '[Internal] The account tier.'
                agency_partner_tier:
                  type: string
                  description: '[Internal] The agency partner tier.'
                salesperson:
                  type: string
                  format: uuid
                  description: '[Internal] The user ID of a Platform.sh sales representative.'
                internal_contact:
                  type: array
                  description: '[Internal] The user IDs of internal contacts.'
                  items:
                    type: string
                    format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/payment-source:
    get:
      summary: '[Internal] Get payment source'
      description: Retrieves the payment source for the specified organization.
      operationId: get-org-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  payment_source:
                    $ref: '#/components/schemas/PaymentSource'
                  _links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current payment source.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Create payment source'
      description: Creates a payment source for the specified organization.
      operationId: create-org-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - token
                - type
              properties:
                token:
                  type: string
                  description: The source ID or token received from Stripe API.
                type:
                  type: string
                  description: The payment source type.
                email:
                  type: string
                  description: The email which will be associated to the Stripe customer. Defaults to user's email.
                chargeable:
                  type: boolean
                  description: Whether the provided credit card can be charged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentSource'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: '[Internal] Update payment source'
      description: Updates the payment source for the specified organization.
      operationId: update-org-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                chargeable:
                  type: boolean
                  description: Whether the provided credit card can be charged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentSource'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: '[Internal] Delete payment source'
      description: Deletes a payment source for the specified organization.
      operationId: delete-org-payment-source
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/payment-source/allowed:
    get:
      summary: '[Internal] List allowed payment sources'
      description: Retrieves the list of allowed payment sources for the specified organization.
      operationId: list-org-allowed-payment-sources
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PaymentSourceType'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/payment-source/intent:
    post:
      summary: '[Internal] Create payment intent'
      description: Creates a payment intent for the specified organization.
      operationId: create-org-payment-intent
      tags:
        - Payments
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  client_secret:
                    type: string
                    description: Payment intent client secret token.
                  public_key:
                    type: string
                    description: Stripe API public key.
                  automatic_payment_methods:
                    type: boolean
                    description: Whether Stripe automatic payment methods are enabled.
                  messages:
                    type: array
                    description: Array of message IDs.
                    items:
                      type: string
                      description: Message identifier.
                      enum:
                        - sepa_info
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/orders:
    get:
      summary: List orders
      description: Retrieves orders for the specified organization.
      operationId: list-org-orders
      tags:
        - Orders
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/filter_order_status'
        - $ref: '#/components/parameters/filter_order_total'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/mode'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Order'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/orders/{order_id}:
    get:
      summary: Get order
      description: Retrieves an order for the specified organization.
      operationId: get-org-order
      tags:
        - Orders
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/OrderID'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/mode'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/orders/{order_id}/authorize:
    post:
      summary: Create confirmation credentials for for 3D-Secure
      description: Creates confirmation credentials for payments that require online authorization
      operationId: create-authorization-credentials
      tags:
        - Orders
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/OrderID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: Payment authorization credentials, if the payment is pending
          content:
            application/json:
              schema:
                type: object
                properties:
                  redirect_to_url:
                    type: object
                    description: URL information to complete the payment.
                    properties:
                      return_url:
                        type: string
                        description: Return URL after payment completion.
                      url:
                        type: string
                        description: URL for payment finalization.
                  type:
                    type: string
                    description: Required payment action type.
        '400':
          description: Bad Request when no authorization is required.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/records/plan:
    get:
      summary: List plan records
      description: Retrieves plan records for the specified organization.
      operationId: list-org-plan-records
      tags:
        - Records
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/filter_subscription_id'
        - $ref: '#/components/parameters/filter_subscription_plan'
        - $ref: '#/components/parameters/record_status'
        - $ref: '#/components/parameters/record_start'
        - $ref: '#/components/parameters/record_end'
        - $ref: '#/components/parameters/record_started_at'
        - $ref: '#/components/parameters/record_ended_at'
        - $ref: '#/components/parameters/page'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/PlanRecords'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/records/usage:
    get:
      summary: List usage records
      description: Retrieves usage records for the specified organization.
      operationId: list-org-usage-records
      tags:
        - Records
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/filter_subscription_id'
        - $ref: '#/components/parameters/record_usage_group'
        - $ref: '#/components/parameters/record_start'
        - $ref: '#/components/parameters/record_started_at'
        - $ref: '#/components/parameters/page'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Usage'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/estimate:
    get:
      summary: Estimate the price of a new subscription
      operationId: estimate-new-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: plan
          description: The plan type of the subscription.
          required: true
          schema:
            type: string
        - in: query
          name: environments
          description: The maximum number of environments which can be provisioned on the project.
          required: true
          schema:
            type: integer
        - in: query
          name: storage
          description: The total storage available to each environment, in MiB.
          required: true
          schema:
            type: integer
        - in: query
          name: user_licenses
          description: The number of user licenses.
          required: true
          schema:
            type: integer
        - in: query
          name: format
          description: The format of the estimation output.
          required: false
          schema:
            type: string
            enum:
              - formatted
              - complex
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstimationObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/can-create:
    get:
      summary: Checks if the user is able to create a new project.
      operationId: can-create-new-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                properties:
                  can_create:
                    description: Boolean result of the check.
                    type: boolean
                  message:
                    description: Details in case of negative check result.
                    type: string
                  required_action:
                    description: Required action impending project creation.
                    type: object
                    nullable: true
                    properties:
                      action:
                        description: Machine readable definition of requirement.
                        type: string
                      type:
                        description: Specification of the type of action.
                        type: string
                type: object
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/estimate:
    get:
      summary: Estimate the price of a subscription
      operationId: estimate-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: plan
          description: The plan type of the subscription.
          required: true
          schema:
            type: string
        - in: query
          name: environments
          description: The maximum number of environments which can be provisioned on the project.
          schema:
            type: integer
        - in: query
          name: storage
          description: The total storage available to each environment, in MiB.
          schema:
            type: integer
        - in: query
          name: user_licenses
          description: The number of user licenses.
          schema:
            type: integer
        - in: query
          name: format
          description: The format of the estimation output.
          schema:
            type: string
            enum:
              - formatted
              - complex
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstimationObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/flex-calc:
    get:
      summary: '[Internal] Estimate the price of a fixed subscription as if it were owned by a flexible org.'
      operationId: flex-calc-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: format
          description: The format of the estimation output.
          schema:
            type: string
            enum:
              - formatted
              - complex
        - in: query
          name: include_org_costs
          description: Whether to include an estimate of flexible organization costs and discounts.
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FlexCalcObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/caps:
    get:
      summary: '[Internal] Get the environment caps'
      description: Retrieves the environment caps of a project.
      operationId: get-environment-caps
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CapsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      summary: '[Internal] Create a new environment cap'
      description: Creates a new environment cap for the given project.
      operationId: create-environment-cap
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - name
              properties:
                type:
                  type: string
                  enum:
                    - env-type
                  description: The type of caps (only env-type is supported at the moment).
                name:
                  type: string
                  description: The name of the caps.
                storage:
                  type: integer
                  description: The total storage available to each environment, in MiB.
                environments:
                  type: integer
                  description: The maximum number of environments allowed for this type.
                memory:
                  type: number
                  description: The total memory available to each environment, in GiB.
                cpu:
                  type: number
                  description: The total cpu available to each environment.
                resource_preset:
                  $ref: '#/components/schemas/ResourcePreset'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/caps/{caps_type}/{env_type}:
    get:
      summary: '[Internal] Get an environment type cap'
      operationId: get-environment-type-cap
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/CapsType'
        - $ref: '#/components/parameters/EnvType'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CapsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: '[Internal] Update an environment cap'
      description: Updates an environment cap for the given project.
      operationId: update-environment-cap
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/CapsType'
        - $ref: '#/components/parameters/EnvType'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - name
              properties:
                type:
                  type: string
                  enum:
                    - env-type
                  description: The type of caps (only env-type is supported at the moment).
                name:
                  type: string
                  description: The name of the caps.
                storage:
                  type: integer
                  description: The total storage available to each environment, in MiB.
                environments:
                  type: integer
                  description: The maximum number of environments allowed for this type.
                memory:
                  type: number
                  description: The total memory available to each environment, in GiB.
                cpu:
                  type: number
                  description: The total cpu available to each environment.
                resource_preset:
                  $ref: '#/components/schemas/ResourcePreset'
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: '[Internal] Delete and environment cap'
      description: Deletes the specified environment cap.
      operationId: delete-environment-cap
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/CapsType'
        - $ref: '#/components/parameters/EnvType'
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/caps/{caps_type}:
    get:
      summary: '[Internal] Get all the environment caps of a project'
      operationId: get-environement-cap-by-type
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/CapsType'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CapsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/current_usage:
    get:
      summary: Get current usage for a subscription
      operationId: get-org-subscription-current-usage
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
        - in: query
          name: usage_groups
          description: A list of usage groups to retrieve current usage for.
          schema:
            type: string
        - in: query
          name: include_not_charged
          description: Whether to include not charged usage groups.
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionCurrentUsageObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/subscriptions/{subscription_id}/addons:
    get:
      summary: List addons for a subscription
      operationId: list-subscription-addons
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionAddonsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/vouchers:
    get:
      summary: List vouchers
      description: Retrieves vouchers for the specified organization.
      operationId: list-org-vouchers
      tags:
        - Vouchers
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/voucher_list'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/vouchers/apply:
    post:
      summary: Apply voucher
      description: Applies a voucher for the specified organization, and refreshes the currently open order.
      operationId: apply-org-voucher
      tags:
        - Vouchers
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - code
              properties:
                code:
                  type: string
                  description: The voucher code.
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/estimate:
    get:
      summary: Estimate total spend
      description: Estimates the total spend for the specified organization.
      operationId: estimate-org
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationEstimationObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/addons:
    get:
      summary: Get add-ons
      description: Retrieves information about the add-ons for an organization.
      operationId: get-org-addons
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationAddonsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
    patch:
      summary: '[Internal] Update add-ons'
      description: Updates the add-ons for an organization.
      operationId: update-org-addons
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                support_level:
                  type: string
                  enum:
                    - ''
                    - standard
                  description: The support level for the organization.
                user_management:
                  type: string
                  enum:
                    - standard
                    - advanced
                  description: The user management level for the organization.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationAddonsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/dunning-actions:
    get:
      summary: '[Internal] List scheduled dunning actions'
      description: Retrieves a list of all scheduled dunning actions for an organization.
      operationId: list-org-dunning-actions
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationdunningActionsObject'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/alerts/billing:
    get:
      summary: Get billing alert configuration
      description: Retrieves billing alert configuration for the specified organization.
      operationId: get-org-billing-alert-config
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationAlertConfig'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
    patch:
      summary: Update billing alert configuration
      description: Updates billing alert configuration for the specified organization.
      operationId: update-org-billing-alert-config
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                active:
                  type: boolean
                  description: Whether the billing alert should be active or not.
                config:
                  type: object
                  description: The configuration for billing alerts.
                  properties:
                    threshold:
                      type: integer
                      description: The amount after which a billing alert should be triggered.
                    mode:
                      type: string
                      description: The mode in which the alert is triggered.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationAlertConfig'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/alerts/subscriptions/{subscription_id}/usage:
    get:
      summary: Get usage alerts
      description: Retrieves current and available usage alerts.
      operationId: get-subscription-usage-alerts
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  current:
                    type: array
                    description: The list of currently set usage alerts.
                    items:
                      $ref: '#/components/schemas/UsageAlert'
                  available:
                    type: array
                    description: The list of available usage alerts.
                    items:
                      $ref: '#/components/schemas/UsageAlert'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      summary: Update usage alerts.
      description: Updates usage alerts for a subscription.
      operationId: update-subscription-usage-alerts
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                alerts:
                  type: array
                  description: The list of alerts to update.
                  items:
                    type: object
                    description: An alert object.
                    properties:
                      id:
                        type: string
                        description: The usage alert identifier.
                      active:
                        type: boolean
                        description: Whether the alert is activated.
                      config:
                        type: object
                        description: The configuration for the usage alerts.
                        properties:
                          threshold:
                            type: integer
                            description: The amount after which an alert should be triggered.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  current:
                    type: array
                    description: The list of currently set usage alerts.
                    items:
                      $ref: '#/components/schemas/UsageAlert'
                  available:
                    type: array
                    description: The list of available usage alerts.
                    items:
                      $ref: '#/components/schemas/UsageAlert'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/banners:
    get:
      summary: '[Internal] List banners'
      description: Retrieves a list of banners for the specified organization.
      operationId: list-org-banners
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    description: The list of banners.
                    items:
                      $ref: '#/components/schemas/OrganizationBanner'
                  count:
                    type: integer
                    description: Total number of banners.
                  _links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current resource.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /organizations/{organization_id}/discounts:
    get:
      summary: List organization discounts
      description: Retrieves all applicable discounts granted to the specified organization.
      operationId: list-org-discounts
      tags:
        - Discounts
      parameters:
        - $ref: '#/components/parameters/OrganizationIDName'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Discount'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/prepayment:
    get:
      summary: Get organization prepayment information
      description: Retrieves prepayment information for the specified organization, if applicable.
      operationId: get-org-prepayment-info
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  prepayment:
                    $ref: '#/components/schemas/PrepaymentObject'
                  _links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current resource.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
                      transactions:
                        type: object
                        description: Link to the prepayment transactions resource.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /organizations/{organization_id}/prepayment/transactions:
    get:
      summary: List organization prepayment transactions
      description: Retrieves a list of prepayment transactions for the specified organization, if applicable.
      operationId: list-org-prepayment-transactions
      tags:
        - Organization Management
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  transactions:
                    type: array
                    items:
                      $ref: '#/components/schemas/PrepaymentTransactionObject'
                  _links:
                    type: object
                    properties:
                      self:
                        type: object
                        description: Link to the current set of items.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
                      previous:
                        type: object
                        description: Link to the previous set of items.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
                      next:
                        type: object
                        description: Link to the next set of items.
                        properties:
                          href:
                            type: string
                            description: URL of the link
                      prepayment:
                        type: object
                        description: Link to the prepayment resource.
                        properties:
                          href:
                            type: string
                            description: URL of the link.
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Not Found
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
      x-vendor: upsun
  /events:
    get:
      summary: '[Internal] List events'
      description: Retrieves a list of events recorded by the Organizations service.
      operationId: list-events
      tags:
        - Internal
      parameters:
        - in: query
          name: filter[internal_id]
          description: Allows filtering by `internal_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/NumericFilter'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[timestamp]
          description: Allows filtering by `timestamp` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 300
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `timestamp`.
          schema:
            type: string
            example: '-timestamp'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationEvent'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /usage:
    get:
      summary: '[Internal] List usage'
      description: Retrieves a list of usage recorded by the Organizations service.
      operationId: list-usage
      tags:
        - Internal
      parameters:
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[timestamp]
          description: Allows filtering by `timestamp` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 300
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `timestamp`.
          schema:
            type: string
            example: '-timestamp'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationUsage'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /maintenance-mode:
    get:
      summary: '[Internal] Get maintenance mode status'
      description: Retrieves the maintenance mode status for the Organizations service.
      operationId: get-maintenance-mode-status
      tags:
        - Internal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    description: The status of the miantenance mode.
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /maintenance-mode/enable:
    post:
      summary: '[Internal] Enable maintenance mode'
      description: Enables maintenance mode for the Organizations service.
      operationId: enable-maintenance-mode
      tags:
        - Internal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    description: The status of the miantenance mode.
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /maintenance-mode/disable:
    post:
      summary: '[Internal] Disable maintenance mode'
      description: Disables maintenance mode for the Organizations service.
      operationId: disable-maintenance-mode
      tags:
        - Internal
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    description: The status of the miantenance mode.
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Forbidden
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Error'
  /locate/{project_id}:
    get:
      summary: '[Internal] Locate project'
      description: Retrieves the region and organization for the specified project.
      operationId: locate-project
      tags:
        - Project Discovery
      parameters:
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: The ID of the project.
                  region:
                    type: string
                    description: The machine name of the region where the project is located.
                  endpoint:
                    type: string
                    description: The region-specific project API endpoint.
                  subscription_id:
                    type: string
                    description: The ID of the subscription.
                  organization_id:
                    type: string
                    format: ulid
                    nullable: true
                    description: '[Internal] The ID of the organization. Only present for internal requests.'
                additionalProperties: false
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organization-projects:
    get:
      summary: '[Internal] List all projects'
      description: Retrieves a list of projects across organizations.
      operationId: list-all-org-projects
      tags:
        - Organization Projects
      parameters:
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[subscription_id]
          description: Allows filtering by `subscription_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[vendor]
          description: |
            Allows filtering by `vendor` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[region]
          description: Allows filtering by `region` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[title]
          description: Allows filtering by `title` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[plan]
          description: Allows filtering by `plan` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[locked]
          description: Allows filtering by `locked` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/BooleanFilter'
        - in: query
          name: filter[agency_site]
          description: Allows filtering by `agency_site` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/BooleanFilter'
        - in: query
          name: filter[dedicated_tag]
          description: Allows filtering by `dedicated_tag` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[billing_account_id]
          description: Allows filtering by `billing_account_id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[status]
          description: Allows filtering by `status` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: filter[created_at]
          description: Allows filtering by `created_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `id`, `region`, `title`, `type`, `plan`, `status`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationProject'
                  facets:
                    $ref: '#/components/schemas/ProjectFacets'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
                additionalProperties: false
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects:
    get:
      summary: List projects
      description: Retrieves a list of projects for the specified organization.
      operationId: list-org-projects
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[title]
          description: Allows filtering by `title` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[status]
          description: Allows filtering by `status` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: filter[created_at]
          description: Allows filtering by `created_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `id`, `region`, `title`, `type`, `plan`, `status`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of items across pages.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrganizationProject'
                  facets:
                    $ref: '#/components/schemas/ProjectFacets'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
                additionalProperties: false
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: Create project
      description: Creates a new project in the specified organization.
      operationId: create-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - region
              properties:
                organization_id:
                  $ref: '#/components/schemas/OrganizationID'
                region:
                  $ref: '#/components/schemas/RegionID'
                title:
                  $ref: '#/components/schemas/ProjectTitle'
                type:
                  $ref: '#/components/schemas/ProjectType'
                plan:
                  $ref: '#/components/schemas/ProjectPlan'
                default_branch:
                  $ref: '#/components/schemas/ProjectDefaultBranch'
                options_url:
                  $ref: '#/components/schemas/ProjectOptionsURL'
                options_custom:
                  $ref: '#/components/schemas/ProjectOptionsCustom'
                cse_notes:
                  allOf:
                    - $ref: '#/components/schemas/ProjectCSENotes'
                support_tier:
                  allOf:
                    - $ref: '#/components/schemas/SupportTier'
                dedicated_tag:
                  allOf:
                    - $ref: '#/components/schemas/ProjectDedicatedTag'
                fastly_service_ids:
                  description: '[Internal] Fastly service IDs for the project.'
                  type: array
                  items:
                    type: string
                edgee_org_id:
                  allOf:
                    - $ref: '#/components/schemas/EdgeeOrgID'
                edgee_project_id:
                  allOf:
                    - $ref: '#/components/schemas/EdgeeProjectID'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /organizations/{organization_id}/projects/{project_id}:
    get:
      summary: Get project
      description: Retrieves the specified project.
      operationId: get-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: Update project
      description: Updates the specified project.
      operationId: update-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  $ref: '#/components/schemas/ProjectTitle'
                plan:
                  $ref: '#/components/schemas/ProjectPlan'
                type:
                  allOf:
                    - $ref: '#/components/schemas/ProjectType'
                timezone:
                  $ref: '#/components/schemas/ProjectTimeZone'
                cse_notes:
                  allOf:
                    - $ref: '#/components/schemas/ProjectCSENotes'
                agency_site:
                  allOf:
                    - $ref: '#/components/schemas/AgencySite'
                support_tier:
                  allOf:
                    - $ref: '#/components/schemas/SupportTier'
                dedicated_tag:
                  allOf:
                    - $ref: '#/components/schemas/ProjectDedicatedTag'
                fastly_service_ids:
                  description: '[Internal] Fastly service IDs for the project.'
                  type: array
                  items:
                    type: string
                edgee_org_id:
                  allOf:
                    - $ref: '#/components/schemas/EdgeeOrgID'
                edgee_project_id:
                  allOf:
                    - $ref: '#/components/schemas/EdgeeProjectID'
                billing_account_id:
                  allOf:
                    - $ref: '#/components/schemas/BillingAccountID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete project
      description: Deletes the specified project.
      operationId: delete-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /organizations/{organization_id}/projects/{project_id}/suspend:
    post:
      summary: '[Internal] Suspend project'
      description: Suspends the specified active project.
      operationId: suspend-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/resume:
    post:
      summary: '[Internal] Reume project'
      description: Resumes the specified suspended project.
      operationId: resume-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/lock:
    post:
      summary: '[Internal] Lock project'
      description: Locks the specified project.
      operationId: lock-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/unlock:
    post:
      summary: '[Internal] Unlock project'
      description: Unlocks the specified project.
      operationId: unlock-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/sync:
    post:
      summary: '[Internal] Sync project'
      description: Pushes information about the specified project to its git server.
      operationId: sync-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationProject'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/transfer:
    post:
      summary: '[Internal] Transfer project'
      description: Transfers the specified project to another organization.
      operationId: transfer-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - organization_id
              properties:
                organization_id:
                  type: string
                  format: ulid
                  description: The ID of the organization.
                keep_users:
                  type: boolean
                  description: Whether the project's users should be retained (and added to the destination organization).
      responses:
        '202':
          description: Accepted
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/clone:
    post:
      summary: '[Internal] Clone project'
      description: Requests the cloning of the specified project.
      operationId: clone-org-project
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  $ref: '#/components/schemas/ProjectTitle'
                region:
                  type: string
                  description: The machine name of the region where the project is to be cloned.
                exclude_envs:
                  type: array
                  items:
                    type: string
                  description: The environment names which needs to be excluded.
                include_envs:
                  type: array
                  items:
                    type: string
                  description: The environment names which needs to be included.
                skip_migrate_access:
                  type: boolean
                  description: Whether to skip the access migration.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectClone'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/addons:
    get:
      summary: '[Internal] List project add-ons'
      description: Retrieves the specified project's add-ons.
      operationId: list-org-project-addons
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - in: query
          name: filter[id]
          description: Allows filtering by `id` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[status]
          description: Allows filtering by `status` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[updated_at]
          description: Allows filtering by `updated_at` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/DateTimeFilter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectAddonList'
              examples:
                list:
                  summary: List add-ons with metadata
                  value:
                    count: 2
                    items:
                      - id: abc
                        project_id: p1
                        type: environments
                        status: active
                        quantity: 3
                        title: Extra environment(s)
                        unit: count
                        allowed_values:
                          - 3
                          - 6
                          - 9
                        _links:
                          self:
                            href: /organizations/o1/projects/p1/addons/abc
                      - id: def
                        project_id: p1
                        type: backups
                        status: active
                        sku: PLATFORM_FEATURE_BACKUPS_ADVANCED
                        title: Backup Advanced
                        allowed_values:
                          - PLATFORM_FEATURE_BACKUPS_ADVANCED
                          - PLATFORM_FEATURE_BACKUPS_PREMIUM
                        _links:
                          self:
                            href: /organizations/o1/projects/p1/addons/def
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: '[Internal] Create project add-on'
      description: Creates a new project add-on.
      operationId: create-org-project-addon
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectAddonRequest'
            examples:
              storage:
                summary: Create storage addon
                value:
                  type: storage
                  quantity: 1024
              backups:
                summary: Create backups addon
                value:
                  type: backups
                  sku: PLATFORM_FEATURE_BACKUPS_ADVANCED
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectAddon'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /organizations/{organization_id}/projects/{project_id}/addons/{addon_id}:
    get:
      summary: '[Internal] Get project add-on'
      description: Retrieves the specified project's add-on.
      operationId: get-org-project-addon
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/ProjectAddonID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectAddon'
              examples:
                get:
                  summary: Get add-on with metadata
                  value:
                    id: abc
                    project_id: p1
                    type: storage
                    status: active
                    quantity: 2048
                    title: Extra storage
                    unit: MB
                    allowed_values:
                      - 1024
                      - 2048
                      - 3072
                    _links:
                      self:
                        href: /organizations/o1/projects/p1/addons/abc
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update project add-on'
      description: Updates the specified project's add-on.
      operationId: update-org-project-addon
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/ProjectAddonID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProjectAddonRequest'
            examples:
              storage:
                summary: Update storage addon quantity
                value:
                  quantity: 2048
              backups:
                summary: Update backups addon SKU
                value:
                  sku: PLATFORM_FEATURE_BACKUPS_PREMIUM
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectAddon'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete project add-on'
      description: Deletes the specified project's add-on.
      operationId: delete-org-project-addon
      tags:
        - Add-ons
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/ProjectAddonID'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/cdn:
    get:
      summary: '[Internal] List project CDNs'
      description: Retrieves the specified project's CDNs.
      operationId: list-org-project-cdns
      tags:
        - Edge
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: Total number of CDNs.
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/CDN'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
                additionalProperties: false
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: '[Internal] Create project CDN'
      description: Creates a new project CDN.
      operationId: create-org-project-cdn
      tags:
        - Edge
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - environment
                - domains
              properties:
                environment:
                  $ref: '#/components/schemas/CdnEnvironment'
                service_name:
                  $ref: '#/components/schemas/CdnServiceName'
                backend_hostname:
                  $ref: '#/components/schemas/CdnBackendHostname'
                sni_hostname:
                  $ref: '#/components/schemas/CdnSNIHostname'
                domains:
                  $ref: '#/components/schemas/CdnDomains'
                comment:
                  $ref: '#/components/schemas/CdnComment'
                skip_token_setup:
                  $ref: '#/components/schemas/CdnSkipTokenSetup'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CDN'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
  /organizations/{organization_id}/projects/{project_id}/cdn/{cdn_id}:
    get:
      summary: '[Internal] Get project CDN'
      description: Retrieves the specified project's CDN.
      operationId: get-org-project-cdn
      tags:
        - Edge
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/CdnID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CDN'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update project CDN'
      description: Updates the specified project's CDN.
      operationId: update-org-project-cdn
      tags:
        - Edge
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/CdnID'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                backend_hostname:
                  $ref: '#/components/schemas/CdnBackendHostname'
                sni_hostname:
                  $ref: '#/components/schemas/CdnSNIHostname'
                domains:
                  $ref: '#/components/schemas/CdnDomains'
                comment:
                  $ref: '#/components/schemas/CdnComment'
                rotate_tokens:
                  $ref: '#/components/schemas/CdnRotateTokens'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CDN'
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CDN'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete project CDN'
      description: Deletes the specified project's CDN.
      operationId: delete-org-project-cdn
      tags:
        - Edge
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/CdnID'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/metrics/carbon:
    get:
      summary: Query project carbon emissions metrics for an entire organization
      description: Queries the carbon emission data for all projects owned by the specified organiation.
      operationId: query-organiation-carbon
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/to'
        - $ref: '#/components/parameters/interval'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationCarbon'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/projects/{project_id}/metrics/carbon:
    get:
      summary: Query project carbon emissions metrics
      description: Queries the carbon emission data for the specified project using the supplied parameters.
      operationId: query-project-carbon
      tags:
        - Organization Projects
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/ProjectID'
        - $ref: '#/components/parameters/from'
        - $ref: '#/components/parameters/to'
        - $ref: '#/components/parameters/interval'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectCarbon'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/subscriptions:
    get:
      summary: List subscriptions
      description: Retrieves subscriptions for the specified organization.
      operationId: list-org-subscriptions
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
        - $ref: '#/components/parameters/subscription_status'
        - $ref: '#/components/parameters/id'
        - $ref: '#/components/parameters/project_id'
        - $ref: '#/components/parameters/project_title'
        - $ref: '#/components/parameters/region'
        - $ref: '#/components/parameters/updated_at'
        - $ref: '#/components/parameters/page_size'
        - $ref: '#/components/parameters/page_before'
        - $ref: '#/components/parameters/page_after'
        - $ref: '#/components/parameters/subscription_sort'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/Subscription'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: Create subscription
      description: Creates a subscription for the specified organization.
      operationId: create-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - project_region
              properties:
                plan:
                  $ref: '#/components/schemas/ProjectPlan'
                project_region:
                  type: string
                  description: The machine name of the region where the project is located. Cannot be changed after project creation.
                project_title:
                  type: string
                  description: The name given to the project. Appears as the title in the UI.
                options_url:
                  type: string
                  description: The URL of the project options file.
                options_custom:
                  $ref: '#/components/schemas/ProjectOptionsCustom'
                default_branch:
                  type: string
                  description: The default Git branch name for the project.
                environments:
                  type: integer
                  description: The maximum number of active environments on the project.
                storage:
                  type: integer
                  description: The total storage available to each environment, in MiB. Only multiples of 1024 are accepted as legal values.
                project_notes:
                  type: string
                  description: '[Internal] The CSE notes for this project.'
                support_tier:
                  $ref: '#/components/schemas/SupportTier'
                enterprise_tag:
                  type: string
                  description: '[Internal] The enterprise application identifier associated with this project.'
                agency_site:
                  $ref: '#/components/schemas/AgencySite'
                hipaa:
                  $ref: '#/components/schemas/HIPAA'
                edgee_org_id:
                  $ref: '#/components/schemas/EdgeeOrgID'
                edgee_project_id:
                  $ref: '#/components/schemas/EdgeeProjectID'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/subscriptions/{subscription_id}:
    get:
      summary: Get subscription
      description: Retrieves a subscription for the specified organization.
      operationId: get-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: Update subscription
      description: Updates a subscription for the specified organization.
      operationId: update-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                project_title:
                  $ref: '#/components/schemas/ProjectTitle'
                plan:
                  $ref: '#/components/schemas/ProjectPlan'
                timezone:
                  $ref: '#/components/schemas/ProjectTimeZone'
                environments:
                  type: integer
                  description: The maximum number of environments which can be provisioned on the project.
                storage:
                  type: integer
                  description: The total storage available to each environment, in MiB.
                big_dev:
                  type: string
                  description: The development environment plan.
                big_dev_service:
                  type: string
                  description: The development service plan.
                backups:
                  type: string
                  description: The backups plan.
                observability_suite:
                  type: string
                  description: The observability suite option.
                blackfire:
                  type: string
                  description: The Blackfire integration option.
                continuous_profiling:
                  type: string
                  description: The Blackfire continuous profiling option.
                project_support_level:
                  type: string
                  description: The project uptime option.
                project_notes:
                  type: string
                  description: '[Internal] The CSE notes for this project.'
                support_tier:
                  $ref: '#/components/schemas/SupportTier'
                enterprise_tag:
                  type: string
                  description: '[Internal] The enterprise application identifier associated with this project.'
                agency_site:
                  type: boolean
                  description: '[Internal] Whether the project is marked as as agency site.'
                hipaa:
                  type: string
                  description: '[Internal] The HIPAA option.'
                edgee_org_id:
                  $ref: '#/components/schemas/EdgeeOrgID'
                edgee_project_id:
                  $ref: '#/components/schemas/EdgeeProjectID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: Delete subscription
      description: Deletes a subscription for the specified organization.
      operationId: delete-org-subscription
      tags:
        - Subscriptions
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/SubscriptionID'
        - $ref: '#/components/parameters/Vendor'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/options:
    post:
      summary: '[Internal] Create project option'
      description: Creates a new project option.
      operationId: create-project-option
      tags:
        - Project Options
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ProjectOptionsConfig'
                - type: object
                  properties:
                    type:
                      $ref: '#/components/schemas/OptionsType'
                    name:
                      $ref: '#/components/schemas/OptionsName'
                    vendor:
                      type: string
                      description: The vendor for the project options.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectOptions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    get:
      summary: '[Internal] List project options'
      description: Retrieves a list of all defined project options.
      operationId: list-project-options
      tags:
        - Project Options
      parameters:
        - in: query
          name: filter[type]
          description: Allows filtering by `type` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[name]
          description: Allows filtering by `name` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `id`, `name`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/ProjectOptions'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/options/{options_id}:
    get:
      summary: '[Internal] Get project option'
      description: Retrieves the specified project option.
      operationId: get-project-option
      tags:
        - Project Options
      parameters:
        - $ref: '#/components/parameters/OptionsID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectOptions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update project option'
      description: Updates the specified project option.
      operationId: update-project-option
      tags:
        - Project Options
      parameters:
        - $ref: '#/components/parameters/OptionsID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProjectOptionsConfig'
      responses:
        '200':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectOptions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete project option'
      description: Deletes the specified project option.
      operationId: delete-project-option
      tags:
        - Project Options
      parameters:
        - $ref: '#/components/parameters/OptionsID'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /regions:
    get:
      summary: List regions
      description: Retrieves a list of available regions.
      operationId: list-regions
      tags:
        - Regions
      parameters:
        - in: query
          name: filter[available]
          description: Allows filtering by `available` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[private]
          description: Allows filtering by `private` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: filter[zone]
          description: Allows filtering by `zone` using one or more operators.
          style: deepObject
          explode: true
          schema:
            $ref: '#/components/schemas/StringFilter'
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `id`, `created_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  regions:
                    type: array
                    items:
                      $ref: '#/components/schemas/Region'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: '[Internal] Create region'
      description: Creates a new region.
      operationId: create-region
      tags:
        - Regions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - id
                - label
                - selection_label
                - project_label
                - timezone
                - available
                - private
                - endpoint
                - code
                - datacenter
              properties:
                id:
                  $ref: '#/components/schemas/RegionID'
                label:
                  $ref: '#/components/schemas/RegionLabel'
                zone:
                  $ref: '#/components/schemas/RegionZone'
                selection_label:
                  $ref: '#/components/schemas/RegionSelectionLabel'
                project_label:
                  $ref: '#/components/schemas/RegionProjectLabel'
                timezone:
                  $ref: '#/components/schemas/RegionTimezone'
                available:
                  $ref: '#/components/schemas/RegionAvailable'
                private:
                  $ref: '#/components/schemas/RegionPrivate'
                endpoint:
                  $ref: '#/components/schemas/RegionEndpoint'
                code:
                  $ref: '#/components/schemas/RegionCode'
                provider:
                  $ref: '#/components/schemas/RegionProvider'
                datacenter:
                  $ref: '#/components/schemas/RegionDataCenter'
                envimpact:
                  $ref: '#/components/schemas/RegionEnvImpact'
                compliance:
                  $ref: '#/components/schemas/RegionCompliance'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /regions/{region_id}:
    get:
      summary: Get region
      description: Retrieves the specified region.
      operationId: get-region
      tags:
        - Regions
      parameters:
        - $ref: '#/components/parameters/RegionID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update region'
      description: Updates the specified region.
      operationId: update-region
      tags:
        - Regions
      parameters:
        - $ref: '#/components/parameters/RegionID'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                available:
                  $ref: '#/components/schemas/RegionAvailable'
                private:
                  $ref: '#/components/schemas/RegionPrivate'
                label:
                  $ref: '#/components/schemas/RegionLabel'
                hipaa:
                  $ref: '#/components/schemas/RegionHipaa'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Region'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete region'
      description: Deletes the specified region.
      operationId: delete-region
      tags:
        - Regions
      parameters:
        - $ref: '#/components/parameters/RegionID'
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /data-centers:
    get:
      summary: '[Internal] List data centers'
      description: Retrieves a list of available data centers.
      operationId: list-data-centers
      tags:
        - Data Centers
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DataCenter'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      summary: '[Internal] Create data center'
      description: Creates a new data center.
      operationId: create-data-center
      tags:
        - Data Centers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - label
                - logo
                - location
                - provider
                - zone
                - carbon_intensity
                - green
              properties:
                name:
                  $ref: '#/components/schemas/DataCenterName'
                label:
                  $ref: '#/components/schemas/DataCenterLabel'
                logo:
                  $ref: '#/components/schemas/DataCenterLogo'
                location:
                  $ref: '#/components/schemas/DataCenterLocation'
                provider:
                  $ref: '#/components/schemas/DataCenterProvider'
                zone:
                  $ref: '#/components/schemas/DataCenterZone'
                carbon_intensity:
                  $ref: '#/components/schemas/DataCenterCarbonIntensity'
                green:
                  $ref: '#/components/schemas/DataCenterGreen'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataCenter'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /data-centers/{data_center_name}:
    get:
      summary: '[Internal] Get data center'
      description: Retrieves the specified data center.
      operationId: get-data-center
      tags:
        - Data Centers
      parameters:
        - $ref: '#/components/parameters/DataCenterName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataCenter'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update data center'
      description: Updates the specified data center.
      operationId: update-data-center
      tags:
        - Data Centers
      parameters:
        - $ref: '#/components/parameters/DataCenterName'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  $ref: '#/components/schemas/DataCenterLabel'
                logo:
                  $ref: '#/components/schemas/DataCenterLogo'
                location:
                  $ref: '#/components/schemas/DataCenterLocation'
                provider:
                  $ref: '#/components/schemas/DataCenterProvider'
                zone:
                  $ref: '#/components/schemas/DataCenterZone'
                carbon_intensity:
                  $ref: '#/components/schemas/DataCenterCarbonIntensity'
                green:
                  $ref: '#/components/schemas/DataCenterGreen'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DataCenter'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete data center'
      description: Deletes the specified data center.
      operationId: delete-data-center
      tags:
        - Data Centers
      parameters:
        - $ref: '#/components/parameters/DataCenterName'
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/catalog:
    post:
      summary: '[Internal] Create catalog'
      description: Creates a new catalog.
      operationId: create-catalog
      tags:
        - Catalogs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CatalogRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    get:
      summary: '[Internal] List catalogs'
      description: Retrieves a list of all catalogs
      operationId: list-catalogs
      tags:
        - Catalogs
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Catalog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/catalog/{id}:
    get:
      summary: '[Internal] Get catalog'
      description: Retrieves the specified catalog.
      operationId: get-catalog
      tags:
        - Catalogs
      parameters:
        - $ref: '#/components/parameters/CatalogID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update catalog'
      description: Updates the specified catalog.
      operationId: update-catalog
      tags:
        - Catalogs
      parameters:
        - $ref: '#/components/parameters/CatalogID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CatalogRequest'
      responses:
        '200':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Catalog'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete catalog'
      description: Deletes the specified catalog.
      operationId: delete-catalog
      tags:
        - Catalogs
      parameters:
        - $ref: '#/components/parameters/CatalogID'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/wizard:
    post:
      summary: '[Internal] Create wizard'
      description: Creates a new wizard.
      operationId: create-wizard
      tags:
        - Wizards
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Name of the template.
                steps:
                  $ref: '#/components/schemas/WizardSteps'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Wizard'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    get:
      summary: '[Internal] List wizards'
      description: Retrieves a list of all wizards.
      operationId: list-wizards
      tags:
        - Wizards
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Wizard'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /setup/wizard/{name}:
    get:
      summary: '[Internal] Get wizard'
      description: Retrieves a wizard for the specified template.
      operationId: get-wizard
      tags:
        - Wizards
      parameters:
        - $ref: '#/components/parameters/TemplateName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Wizard'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update wizard'
      description: Updates the wizard for the specified template.
      operationId: update-wizard
      tags:
        - Wizards
      parameters:
        - $ref: '#/components/parameters/TemplateName'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WizardSteps'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Wizard'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: '[Internal] Delete wizard'
      description: Deletes the wizard for the specified template.
      operationId: delete-wizard
      tags:
        - Wizards
      parameters:
        - $ref: '#/components/parameters/TemplateName'
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/setup/options:
    get:
      summary: '[Internal] List project options for an organization'
      description: Retrieves a list of project options for the specified organization.
      operationId: get-org-project-options
      tags:
        - Project Options
      parameters:
        - in: query
          name: plan
          description: Specifies the plan.
          schema:
            type: string
        - in: query
          name: template
          description: Specifies the template URL.
          schema:
            type: string
        - in: query
          name: organization
          description: Specifies the organization option name.
          schema:
            type: string
        - $ref: '#/components/parameters/OrganizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectOptionsAggregated'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: '[Internal] Update project options for an organization'
      description: Update project options for the specified organization.
      operationId: update-org-project-options
      tags:
        - Project Options
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - options
              properties:
                options:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/setup/catalog:
    get:
      summary: '[Internal] Get catalog for an organization'
      description: Retrieves the catalog for the specified organization.
      operationId: get-org-catalog
      tags:
        - Catalogs
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CatalogTemplate'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /organizations/{organization_id}/setup/wizard/{name}:
    get:
      summary: '[Internal] Get wizard for an organization'
      description: Retrieves a wizard for the specified organization and template.
      operationId: get-org-wizard
      tags:
        - Wizards
      parameters:
        - $ref: '#/components/parameters/OrganizationID'
        - $ref: '#/components/parameters/TemplateName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  steps:
                    type: array
                    items:
                      $ref: '#/components/schemas/Steps'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /ref/projects:
    get:
      summary: List referenced projects
      description: Retrieves a list of projects referenced by a trusted service. Clients cannot construct the URL themselves. The correct URL will be provided in the HAL links of another API response, in the <code>_links</code> object with a key like <code>ref:projects:0</code>.
      operationId: list-referenced-projects
      tags:
        - References
      parameters:
        - schema:
            type: string
          in: query
          name: in
          description: The list of comma-separated project IDs generated by a trusted service.
          required: true
        - schema:
            type: string
          in: query
          name: sig
          description: The signature of this request generated by a trusted service.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                description: A map of referenced projects indexed by the organization ID.
                additionalProperties:
                  $ref: '#/components/schemas/ProjectReference'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /ref/regions:
    get:
      summary: List referenced regions
      description: Retrieves a list of regions referenced by a trusted service. Clients cannot construct the URL themselves. The correct URL will be provided in the HAL links of another API response, in the <code>_links</code> object with a key like <code>ref:regions:0</code>.
      operationId: list-referenced-regions
      tags:
        - References
      parameters:
        - schema:
            type: string
          in: query
          name: in
          description: The list of comma-separated region IDs generated by a trusted service.
          required: true
        - schema:
            type: string
          in: query
          name: sig
          description: The signature of this request generated by a trusted service.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                description: A map of referenced projects indexed by the organization ID.
                additionalProperties:
                  $ref: '#/components/schemas/RegionReference'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /projects/{project_id}/team-access:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
    get:
      summary: List team access for a project
      description: Returns a list of items representing the project access.
      operationId: list-project-team-access
      tags:
        - Team Access
      parameters:
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 200
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `granted_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeamProjectAccess'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      summary: Grant team access to a project
      description: Grants one or more team access to a specific project.
      operationId: grant-project-team-access
      tags:
        - Team Access
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  team_id:
                    type: string
                    description: ID of the team.
                required:
                  - team_id
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /projects/{project_id}/team-access/{team_id}:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
      - $ref: '#/components/parameters/TeamID'
    get:
      summary: Get team access for a project
      description: Retrieves the team's permissions for the current project.
      operationId: get-project-team-access
      tags:
        - Team Access
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamProjectAccess'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: Remove team access for a project
      description: Removes the team from the current project.
      operationId: remove-project-team-access
      tags:
        - Team Access
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /projects/{project_id}/user-access:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
    get:
      summary: List user access for a project
      description: Returns a list of items representing the project access.
      operationId: list-project-user-access
      tags:
        - User Access
      parameters:
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 200
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `granted_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/UserProjectAccess'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      summary: Grant user access to a project
      description: Grants one or more users access to a specific project.
      operationId: grant-project-user-access
      tags:
        - User Access
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  user_id:
                    type: string
                    description: ID of the user.
                  permissions:
                    $ref: '#/components/schemas/ProjectPermissions'
                  auto_add_member:
                    type: boolean
                    description: If the specified user is not a member of the project's organization, add it automatically.
                required:
                  - user_id
                  - permissions
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /projects/{project_id}/user-access/{user_id}:
    parameters:
      - $ref: '#/components/parameters/ProjectID'
      - $ref: '#/components/parameters/UserID'
    get:
      summary: Get user access for a project
      description: Retrieves the user's permissions for the current project.
      operationId: get-project-user-access
      tags:
        - User Access
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProjectAccess'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: Update user access for a project
      description: Updates the user's permissions for the current project.
      operationId: update-project-user-access
      tags:
        - User Access
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - permissions
              properties:
                permissions:
                  $ref: '#/components/schemas/ProjectPermissions'
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: Remove user access for a project
      description: Removes the user from the current project.
      operationId: remove-project-user-access
      tags:
        - User Access
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /users/{user_id}/project-access:
    parameters:
      - $ref: '#/components/parameters/UserID'
    get:
      summary: List project access for a user
      description: Returns a list of items representing the user's project access.
      operationId: list-user-project-access
      tags:
        - User Access
      parameters:
        - in: query
          name: filter[organization_id]
          description: Allows filtering by `organization_id`.
          schema:
            type: string
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 200
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `project_title`, `granted_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/UserProjectAccess'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      summary: Grant project access to a user
      description: Adds the user to one or more specified projects.
      operationId: grant-user-project-access
      tags:
        - User Access
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  project_id:
                    type: string
                    description: ID of the project.
                  permissions:
                    $ref: '#/components/schemas/ProjectPermissions'
                required:
                  - project_id
                  - permissions
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /users/{user_id}/project-access/{project_id}:
    parameters:
      - $ref: '#/components/parameters/UserID'
      - $ref: '#/components/parameters/ProjectID'
    get:
      summary: Get project access for a user
      description: Retrieves the user's permissions for the current project.
      operationId: get-user-project-access
      tags:
        - User Access
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserProjectAccess'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      summary: Update project access for a user
      description: Updates the user's permissions for the current project.
      operationId: update-user-project-access
      tags:
        - User Access
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - permissions
              properties:
                permissions:
                  $ref: '#/components/schemas/ProjectPermissions'
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: Remove project access for a user
      description: Removes the user from the current project.
      operationId: remove-user-project-access
      tags:
        - User Access
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /teams/{team_id}/project-access:
    parameters:
      - $ref: '#/components/parameters/TeamID'
    get:
      summary: List project access for a team
      description: Returns a list of items representing the team's project access.
      operationId: list-team-project-access
      tags:
        - Team Access
      parameters:
        - in: query
          name: page[size]
          description: Determines the number of items to show.
          schema:
            type: integer
            minimum: 1
            maximum: 200
            default: null
        - in: query
          name: page[before]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: page[after]
          description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
          schema:
            type: string
        - in: query
          name: sort
          description: |
            Allows sorting by a single field.<br>
            Use a dash ("-") to sort descending.<br>
            Supported fields: `project_title`, `granted_at`, `updated_at`.
          schema:
            type: string
            example: '-updated_at'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TeamProjectAccess'
                  _links:
                    $ref: '#/components/schemas/ListLinks'
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      summary: Grant project access to a team
      description: Adds the team to one or more specified projects.
      operationId: grant-team-project-access
      tags:
        - Team Access
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  project_id:
                    type: string
                    description: ID of the project.
                required:
                  - project_id
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  /teams/{team_id}/project-access/{project_id}:
    parameters:
      - $ref: '#/components/parameters/TeamID'
      - $ref: '#/components/parameters/ProjectID'
    get:
      summary: Get project access for a team
      description: Retrieves the team's permissions for the current project.
      operationId: get-team-project-access
      tags:
        - Team Access
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamProjectAccess'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      summary: Remove project access for a team
      description: Removes the team from the current project.
      operationId: remove-team-project-access
      tags:
        - Team Access
      responses:
        '204':
          description: No Content
        '400':
          $ref: '#/components/responses/BadRequest'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  /health:
    get:
      summary: '[Internal] Health check'
      description: Checks the health of the service.
      operationId: health-check
      tags:
        - Health
      parameters:
        - in: query
          name: full
          description: Whether to return full health status.
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Health'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Health'
components:
  schemas:
    Alert:
      description: The alert object.
      properties:
        id:
          description: The identification of the alert type.
          type: string
        active:
          description: Whether the alert is currently active.
          type: boolean
        alerts_sent:
          description: The amount of alerts of this type that have been sent so far.
          type: integer
        last_alert_at:
          description: The time the last alert has been sent.
          type: string
          format: date-time
        updated_at:
          description: The time the alert has last been updated.
          type: string
          format: date-time
        config:
          description: The alert type specific configuration.
          type: object
      type: object
    LineItem:
      description: A line item in an order.
      properties:
        type:
          description: The type of line item.
          type: string
          enum:
            - project_plan
            - project_feature
            - project_subtotal
            - organization_plan
            - organization_feature
            - organization_subtotal
        license_id:
          description: The associated subscription identifier.
          type: number
          nullable: true
        project_id:
          description: The associated project identifier.
          type: string
          nullable: true
        product:
          description: Display name of the line item product.
          type: string
        sku:
          description: The line item product SKU.
          type: string
        total:
          description: Total price as a decimal.
          type: number
        total_formatted:
          description: Total price, formatted with currency.
          type: string
        components:
          description: The price components for the line item, keyed by type.
          type: object
          additionalProperties:
            $ref: '#/components/schemas/LineItemComponent'
        exclude_from_invoice:
          description: Line item should not be considered billable.
          type: boolean
      type: object
    LineItemComponent:
      description: A price component for a line item.
      properties:
        amount:
          description: The price as a decimal.
          type: number
        amount_formatted:
          description: The price formatted with currency.
          type: string
        display_title:
          description: The display title for the component.
          type: string
        currency:
          description: The currency code for the component.
          type: string
      type: object
    Address:
      description: The address of the user.
      properties:
        country:
          description: Two-letter country codes are used to represent countries and states
          type: string
          format: ISO ALPHA-2
        name_line:
          description: The full name of the user
          type: string
        premise:
          description: Premise (i.e. Apt, Suite, Bldg.)
          type: string
        sub_premise:
          description: Sub Premise (i.e. Suite, Apartment, Floor, Unknown.
          type: string
        thoroughfare:
          description: The address of the user
          type: string
        administrative_area:
          description: The administrative area of the user address
          type: string
          format: ISO ALPHA-2
        sub_administrative_area:
          description: The sub-administrative area of the user address
          type: string
        locality:
          description: The locality of the user address
          type: string
        dependent_locality:
          description: The dependant_locality area of the user address
          type: string
        postal_code:
          description: The postal code area of the user address
          type: string
      type: object
    Components:
      description: The components of the project
      properties:
        voucher/vat/baseprice:
          description: stub
          type: object
      type: object
    Transaction:
      description: The transaction object
      properties:
        id:
          description: The ID of the transaction.
          type: string
        owner:
          description: The UUID of the owner.
          type: string
          format: uuid
        order_id:
          description: The id of the order associated to the transaction.
          type: integer
        payment_method:
          description: The type of the payment method.
          type: string
        message:
          description: The transaction message.
          type: string
        status:
          description: The status of the transaction.
          type: string
          enum:
            - success
            - failure
        remote_id:
          description: The remote identifier for this transaction.
          type: string
        remote_status:
          description: The status of the transaction at the payment provider.
          type: string
          enum:
            - paid
            - card_declined
            - succeeded
            - expired_card
            - incorrect_number
        amount:
          description: The transaction amount.
          type: integer
        currency:
          description: The currency of the transaction.
          type: string
        created:
          description: The time when the transaction was created.
          type: string
          format: date-time
        updated:
          description: The time when the transaction was updated.
          type: string
          format: date-time
      type: object
    Discount:
      description: The discount object.
      properties:
        id:
          description: The ID of the organization discount.
          type: integer
        organization_id:
          description: The ULID of the organization the discount applies to.
          type: string
        type:
          description: The machine name of the discount type.
          type: string
          enum:
            - allowance
            - startup
            - enterprise
        type_label:
          description: The label of the discount type.
          type: string
        status:
          description: The status of the discount.
          type: string
          enum:
            - inactive
            - active
            - expired
            - deactivated
        commitment:
          description: The minimum commitment associated with the discount (if applicable).
          properties:
            months:
              description: Commitment period length in months.
              type: integer
            amount:
              description: Commitment amounts.
              properties:
                monthly:
                  $ref: '#/components/schemas/CurrencyAmount'
                commitment_period:
                  $ref: '#/components/schemas/CurrencyAmount'
                contract_total:
                  $ref: '#/components/schemas/CurrencyAmount'
              type: object
            net:
              description: Net commitment amounts (discount deducted).
              properties:
                monthly:
                  $ref: '#/components/schemas/CurrencyAmount'
                commitment_period:
                  $ref: '#/components/schemas/CurrencyAmount'
                contract_total:
                  $ref: '#/components/schemas/CurrencyAmount'
              type: object
          type: object
          nullable: true
        total_months:
          description: The contract length in months (if applicable).
          type: integer
          nullable: true
        discount:
          description: Discount value per relevant time periods.
          properties:
            monthly:
              $ref: '#/components/schemas/CurrencyAmount'
            commitment_period:
              $ref: '#/components/schemas/CurrencyAmountNullable'
            contract_total:
              $ref: '#/components/schemas/CurrencyAmountNullable'
          type: object
        config:
          description: The discount type specific configuration.
          type: object
        start_at:
          description: The start time of the discount period.
          type: string
          format: date-time
        end_at:
          description: The end time of the discount period (if applicable).
          type: string
          format: date-time
          nullable: true
      type: object
    CurrencyAmount:
      description: Currency amount with detailed components.
      properties:
        formatted:
          description: Formatted currency value.
          type: string
        amount:
          description: Plain amount.
          type: number
          format: float
        currency_code:
          description: Currency code.
          type: string
        currency_symbol:
          description: Currency symbol.
          type: string
      type: object
    CurrencyAmountNullable:
      description: Currency amount with detailed components.
      properties:
        formatted:
          description: Formatted currency value.
          type: string
        amount:
          description: Plain amount.
          type: number
          format: float
        currency_code:
          description: Currency code.
          type: string
        currency_symbol:
          description: Currency symbol.
          type: string
      type: object
      nullable: true
    Prepayment:
      description: Prepayment info for an organization.
      properties:
        organization_id:
          description: The ULID of the organization the prepayment applies to.
          type: string
        balance:
          description: Remaining prepayment complex balance
          type: object
        last_updated_at:
          description: The datetime the prepayment was last updated.
          type: string
          format: date-time
          nullable: true
        sufficient:
          description: Is the prepaid balance sufficient enough to pay the estimated upcoming order?
          type: boolean
        fallback:
          description: Fallback payment method
          type: string
          nullable: true
      type: object
    OwnerInfo:
      description: Project owner information that can be exposed to collaborators.
      properties:
        type:
          description: Type of the owner, usually 'user'.
          type: string
        username:
          description: The username of the owner.
          type: string
        display_name:
          description: The full name of the owner.
          type: string
      type: object
    SSHKey:
      description: The ssh key object.
      properties:
        key_id:
          description: The ID of the public key.
          type: integer
        uid:
          description: The internal user ID.
          type: integer
        fingerprint:
          description: The fingerprint of the public key.
          type: string
        title:
          description: The title of the public key.
          type: string
        value:
          description: The actual value of the public key.
          type: string
        changed:
          description: The time of the last key modification (ISO 8601)
          type: string
      type: object
    Region:
      description: The hosting region.
      properties:
        id:
          description: The ID of the region.
          type: string
        label:
          description: The human-readable name of the region.
          type: string
        zone:
          description: Geographical zone of the region
          type: string
        selection_label:
          description: The label to display when choosing between regions for new projects.
          type: string
        project_label:
          description: The label to display on existing projects.
          type: string
        timezone:
          description: Default timezone of the region
          type: string
        available:
          description: Indicator whether or not this region is selectable during the checkout. Not available regions will never show up during checkout.
          type: boolean
        private:
          description: Indicator whether or not this platform is for private use only.
          type: boolean
        endpoint:
          description: Link to the region API endpoint.
          type: string
        provider:
          description: Information about the region provider.
          properties:
            name:
              type: string
            logo:
              type: string
          type: object
        datacenter:
          description: Information about the region provider data center.
          properties:
            name:
              type: string
            label:
              type: string
            location:
              type: string
          type: object
        environmental_impact:
          description: Information about the region provider's environmental impact.
          properties:
            zone:
              type: string
            carbon_intensity:
              type: string
            green:
              type: boolean
          type: object
      type: object
    ProjectCaps:
      description: '[Internal] The project caps.'
      properties:
        envName:
          description: The environment type name.
          type: string
        capsType:
          description: The environment caps type.
          type: string
        resource_preset:
          description: The cap size resource preset.
          type: string
        storage:
          description: The maximum storage allowed for each environment.
          type: integer
        environments:
          description: The maximum number of environments in a project.
          type: integer
        resources:
          description: The resource object.
          properties:
            cpu:
              description: The maximum amount of cpu for a single environment.
              type: number
            memory:
              description: The maximum amount of memory for a single environment.
              type: integer
          type: object
        created_at:
          description: The creation date of the environment caps.
          type: string
          format: date-time
        updated_at:
          description: The update date the environment caps.
          type: string
          format: date-time
        _links:
          $ref: '#/components/schemas/HalLinks'
      type: object
    CapsSize:
      description: '[Internal] The project caps size.'
      properties:
        id:
          description: The cap size id.
          type: integer
        name:
          description: The cap size name.
          type: string
        type:
          description: The cap size type.
          type: string
        cpu:
          description: The maximum cpu allowed for each environment.
          type: number
        memory:
          description: The maximum amount of memory allowed for each environment.
          type: integer
        created_at:
          description: The creation date of the environment caps.
          type: string
          format: date-time
        updated_at:
          description: The update date the environment caps.
          type: string
          format: date-time
        _links:
          $ref: '#/components/schemas/HalLinks'
      type: object
    Subscription:
      description: The subscription object.
      properties:
        id:
          description: The internal ID of the subscription.
          type: string
        status:
          description: The status of the subscription.
          type: string
          enum:
            - requested
            - provisioning failure
            - provisioning
            - active
            - suspended
            - deleted
        created_at:
          description: The date and time when the subscription was created.
          type: string
          format: date-time
        updated_at:
          description: The date and time when the subscription was last updated.
          type: string
          format: date-time
        owner:
          description: The UUID of the owner.
          type: string
          format: uuid
        owner_info:
          $ref: '#/components/schemas/OwnerInfo'
        vendor:
          description: The machine name of the vendor the subscription belongs to.
          type: string
        plan:
          description: The plan type of the subscription.
          type: string
        environments:
          description: The number of environments which can be provisioned on the project.
          type: integer
        storage:
          description: The total storage available to each environment, in MiB. Only multiples of 1024 are accepted as legal values.
          type: integer
        user_licenses:
          description: The number of chargeable users who currently have access to the project. Manage this value by adding and removing users through the Platform project API. Staff and billing/administrative contacts can be added to a project for no charge. Contact support for questions about user licenses.
          type: integer
        project_id:
          description: The unique ID string of the project.
          type: string
        project_endpoint:
          description: The project API endpoint for the project.
          type: string
        project_title:
          description: The name given to the project. Appears as the title in the UI.
          type: string
        project_region:
          description: The machine name of the region where the project is located. Cannot be changed after project creation.
          type: string
        project_region_label:
          description: The human-readable name of the region where the project is located.
          type: string
        project_notes:
          description: '[Internal] The CSE Notes.'
          type: string
        project_ui:
          description: The URL for the project's user interface.
          type: string
        project_options:
          $ref: '#/components/schemas/ProjectOptions'
        options_url:
          description: '[Internal] The URL of the project options file provided, if provided.'
          type: string
        enterprise_tag:
          description: '[Internal] The enterprise application identifier associated with this project.'
          type: string
        agency_site:
          description: True if the project is an agency site.
          type: boolean
        invoiced:
          description: Whether the subscription is invoiced.
          type: boolean
        support_tier:
          description: '[Internal] The support tier for this subscription.'
          type: string
        hipaa:
          description: Whether the project is marked as HIPAA.
          type: boolean
        is_trial_plan:
          description: Whether the project is currently on a trial plan.
          type: boolean
        services:
          description: Details of the attached services.
          type: array
          items:
            description: Details of a service
            type: object
        locked:
          description: '[Internal] Whether the subscription is locked from suspension - used for internal and partner subscriptions.'
          type: boolean
        green:
          description: Whether the subscription is considered green (on a green region, belonging to a green vendor) for billing purposes.
          type: boolean
      type: object
    ProjectOptions:
      description: The project options object.
      properties:
        defaults:
          description: The initial values applied to the project.
          properties:
            settings:
              description: The project settings.
              type: object
            variables:
              description: The project variables.
              type: object
            access:
              description: The project access list.
              type: object
            capabilities:
              description: The project capabilities.
              type: object
          type: object
        enforced:
          description: The enforced values applied to the project.
          properties:
            settings:
              description: The project settings.
              type: object
            capabilities:
              description: The project capabilities.
              type: object
          type: object
        regions:
          description: The available regions.
          type: array
          items:
            type: string
        plans:
          description: The available plans.
          type: array
          items:
            type: string
        billing:
          description: The billing settings.
          type: object
      type: object
    SubscriptionCurrentUsageObject:
      description: A subscription's usage group current usage object.
      properties:
        cpu_app:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        storage_app_services:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        memory_app:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        cpu_services:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        memory_services:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        backup_storage:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        build_cpu:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        build_memory:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        egress_bandwidth:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        ingress_requests:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        logs_fwd_content_size:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        fastly_bandwidth:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
        fastly_requests:
          $ref: '#/components/schemas/UsageGroupCurrentUsageProperties'
      type: object
    UsageGroupCurrentUsageProperties:
      description: Current usage info for a usage group.
      properties:
        title:
          description: The title of the usage group.
          type: string
        type:
          description: The usage group type.
          type: boolean
        current_usage:
          description: The value of current usage for the group.
          type: number
        current_usage_formatted:
          description: The formatted value of current usage for the group.
          type: string
        not_charged:
          description: Whether the group is not charged for the subscription.
          type: boolean
        free_quantity:
          description: The amount of free usage for the group.
          type: number
        free_quantity_formatted:
          description: The formatted amount of free usage for the group.
          type: string
        daily_average:
          description: The daily average usage calculated for the group.
          type: number
        daily_average_formatted:
          description: The formatted daily average usage calculated for the group.
          type: string
      type: object
    Pricebook:
      description: '[Internal] A pricebook for an organization.'
      properties:
        id:
          description: The ULID of the organization.
          type: string
        pricebook_source:
          description: The source of the pricebook (default, tier, organization).
          type: string
        currency:
          description: The currency of products in the pricebook.
          type: string
        products:
          description: Custom price overrides for products (by SKU).
          type: object
      type: object
    TierPricebook:
      description: '[Internal] A pricebook for a tier.'
      properties:
        id:
          description: The machine name of the tier.
          type: string
        pricebook_source:
          description: The source of the pricebook (default or tier).
          type: string
        currency:
          description: The currency of products in the pricebook.
          type: string
        products:
          description: Custom price overrides for products (by SKU).
          type: object
      type: object
    DefaultPricebook:
      description: '[Internal] A default pricebook.'
      properties:
        pricebook_source:
          description: The source of the pricebook (default).
          type: string
        currency:
          description: The currency of products in the pricebook.
          type: string
        products:
          description: Custom price overrides for products (by SKU).
          type: object
      type: object
    PaymentSource:
      description: The payment source
      properties:
        id:
          description: The ID of the payment source.
          type: string
        type:
          description: The type of the payment source.
          type: string
        type_label:
          description: The type of the payment source, prettified.
          type: string
        payment_category:
          description: The category of payment method (card, bank_debit...).
          type: string
        name:
          description: The name of the customer.
          type: string
        number:
          description: The partially sanitized number of the payment source (credit card number, or an iban number.
          type: string
        data:
          description: The data object for a particular source type. Different source types will have different schemas for the data property.
          type: object
        chargeable:
          description: Whether or not the payment source is chargeable.
          type: boolean
      type: object
    HalLinks:
      description: Links to _self, and previous or next page, given that they exist.
      properties:
        self:
          description: The cardinal link to the self resource.
          properties:
            title:
              description: Title of the link
              type: string
            href:
              description: URL of the link
              type: string
          type: object
        previous:
          description: The link to the previous resource page, given that it exists.
          properties:
            title:
              description: Title of the link
              type: string
            href:
              description: URL of the link
              type: string
          type: object
        next:
          description: The link to the next resource page, given that it exists.
          properties:
            title:
              description: Title of the link
              type: string
            href:
              description: URL of the link
              type: string
          type: object
      type: object
    Profile:
      description: The user profile.
      properties:
        id:
          description: The user's unique ID.
          type: string
          format: uuid
        status:
          description: '[Internal] The status of the user profile.'
          type: string
          enum:
            - active
            - blocked
        display_name:
          description: The user's display name.
          type: string
        email:
          description: The user's email address.
          type: string
          format: email
        username:
          description: The user's username.
          type: string
        type:
          description: The user's type (user/organization).
          type: string
          enum:
            - user
            - organization
        picture:
          description: The URL of the user's picture.
          type: string
          format: url
        company_type:
          description: The company type.
          type: string
        company_name:
          description: The name of the company.
          type: string
        currency:
          description: A 3-letter ISO 4217 currency code (assigned according to the billing address).
          type: string
        vat_number:
          description: The vat number of the user.
          type: string
        company_role:
          description: The role of the user in the company.
          type: string
        website_url:
          description: The user or company website.
          type: string
        new_ui:
          description: Whether the new UI features are enabled for this user.
          type: boolean
        ui_colorscheme:
          description: The user's chosen color scheme for user interfaces.
          type: string
        default_catalog:
          description: The URL of a catalog file which overrides the default.
          type: string
        project_options_url:
          description: The URL of an account-wide project options file.
          type: string
        agency_partner_tier:
          description: '[Internal] The agency partner tier.'
          type: string
          enum:
            - registered
            - silver
            - gold
            - platinum
        account_restricted:
          description: '[Internal] Whether this account is currently restricted from creating or updating projects.'
          type: boolean
        marketing:
          description: Flag if the user agreed to receive marketing communication.
          type: boolean
        created_at:
          description: The timestamp representing when the user account was created.
          type: string
          format: date-time
        updated_at:
          description: The timestamp representing when the user account was last modified.
          type: string
          format: date-time
        billing_contact:
          description: The e-mail address of a contact to whom billing notices will be sent.
          type: string
          format: email
        payment_methods:
          description: '[Internal] Payment methods used by this user. NOTE: methods are not sorted by priority!'
          type: array
          items:
            type: string
            enum:
              - prepaid
              - invoice_account
              - stripe_sepa_debit
              - commerce_stripe
        invoiced:
          description: The customer is invoiced.
          type: boolean
        tax_exempt:
          description: '[Internal] The customer is tax_exempt.'
          type: boolean
        customer_type:
          description: The customer type.
          type: string
          enum:
            - individual
            - corporation
            - government
        extra_regions:
          description: '[Internal] Additional regions available.'
          type: array
          items:
            description: Machine name of region.
            type: string
      type: object
    AddressMetadata:
      description: Information about fields required to express an address.
      properties:
        metadata:
          description: Address field metadata.
          properties:
            required_fields:
              description: Fields required to express the address.
              type: array
              items:
                type: string
            field_labels:
              description: Localized labels for address fields.
              type: object
            show_vat:
              description: Whether this country supports a VAT number.
              type: boolean
          type: object
      type: object
    Comment:
      description: The support ticket comments object.
      properties:
        ticket_id:
          description: The id of the ticket.
          type: integer
        comment_id:
          description: The ID of the comment..
          type: integer
        body:
          description: The body of the ticket comment.
          type: string
        author_id:
          description: The UUID of the author of the comment
          type: string
        created_at:
          description: The time when the ticket comment was created.
          type: integer
          format: date-time
        public:
          description: 1 if the comment is public and therefore should be displayed to nonadmin users.
          type: string
        attachments:
          description: A list of attachments for the ticket.
          type: array
          items:
            properties:
              filename:
                description: The filename to be used in storage.
                type: string
              uri:
                description: relative url for the callback to access the file.
                type: string
              content_type:
                description: Content type for header.
                type: string
            type: object
      type: object
    Ticket:
      description: The support ticket object.
      properties:
        ticket_id:
          description: The ID of the ticket.
          type: integer
        created:
          description: The time when the support ticket was created.
          type: string
          format: date-time
        updated:
          description: The time when the support ticket was updated.
          type: string
          format: date-time
        type:
          description: A type of the ticket.
          type: string
          enum:
            - problem
            - task
            - incident
            - question
        subject:
          description: A title of the ticket.
          type: string
        description:
          description: The description body of the support ticket.
          type: string
        priority:
          description: A priority of the ticket.
          type: string
          enum:
            - low
            - normal
            - high
            - urgent
        followup_tid:
          description: Followup ticket ID. The unique ID of the ticket which this ticket is a follow-up to.
          type: string
        status:
          description: The status of the support ticket.
          type: string
          enum:
            - closed
            - deleted
            - hold
            - new
            - open
            - pending
            - solved
        recipient:
          description: Email address of the ticket recipient, defaults to support@upsun.com.
          type: string
        requester_id:
          description: UUID of the ticket requester.
          type: string
          format: uuid
        submitter_id:
          description: UUID of the ticket submitter.
          type: string
          format: uuid
        assignee_id:
          description: UUID of the ticket assignee.
          type: string
          format: uuid
        organization_id:
          description: A reference id that is usable to find the commerce license.
          type: string
        collaborator_ids:
          description: A list of the collaborators uuids for this ticket.
          type: array
          items:
            type: string
        has_incidents:
          description: Whether or not this ticket has incidents.
          type: boolean
        due:
          description: A time that the ticket is due at.
          type: string
          format: date-time
        tags:
          description: A list of tags assigned to the ticket.
          type: array
          items:
            type: string
        subscription_id:
          description: The internal ID of the subscription.
          type: string
        ticket_group:
          description: Maps to zendesk field 'Request group'.
          type: string
        support_plan:
          description: Maps to zendesk field 'The support plan associated with this ticket.
          type: string
        affected_url:
          description: The affected URL associated with the support ticket.
          type: string
          format: url
        queue:
          description: The queue the support ticket is in.
          type: string
        issue_type:
          description: The issue type of the support ticket.
          type: string
        resolution_time:
          description: Maps to zendesk field 'Resolution Time'.
          type: string
          format: date-time
        response_time:
          description: Maps to zendesk field 'Response Time (time from request to reply).
          type: string
          format: date-time
        project_url:
          description: Maps to zendesk field 'Project URL'.
          type: string
          format: url
        region:
          description: Maps to zendesk field 'Region'.
          type: string
        category:
          description: Maps to zendesk field 'Category'.
          type: string
          enum:
            - access
            - billing_question
            - complaint
            - compliance_question
            - configuration_change
            - general_question
            - incident_outage
            - bug_report
            - onboarding
            - report_a_gui_bug
            - close_my_account
        environment:
          description: Maps to zendesk field 'Environment'.
          type: string
          enum:
            - env_development
            - env_staging
            - env_production
        ticket_sharing_status:
          description: Maps to zendesk field 'Ticket Sharing Status'.
          type: string
          enum:
            - ts_sent_to_platform
            - ts_accepted_by_platform
            - ts_returned_from_platform
            - ts_solved_by_platform
            - ts_rejected_by_platform
        application_ticket_url:
          description: Maps to zendesk field 'Application Ticket URL'.
          type: string
          format: url
        infrastructure_ticket_url:
          description: Maps to zendesk field 'Infrastructure Ticket URL'.
          type: string
          format: url
        jira:
          description: A list of JIRA issues related to the support ticket.
          type: array
          items:
            properties:
              id:
                description: The id of the query.
                type: integer
              ticket_id:
                description: The id of the ticket.
                type: integer
              issue_id:
                description: The issue id number.
                type: integer
              issue_key:
                description: The issue key.
                type: string
              created_at:
                description: The created at timestamp.
                type: number
                format: float
              updated_at:
                description: The updated at timestamp.
                type: number
                format: float
            type: object
        zd_ticket_url:
          description: URL to the customer-facing ticket in Zendesk.
          type: string
          format: url
      type: object
    Trial:
      description: The trial object.
      properties:
        id:
          description: The internal ID of the trial.
          type: string
        owner:
          description: The Org ID or else UUID of the trial owner.
          type: string
        created_by:
          description: The UUID of the trial creator.
          type: string
        trial_type:
          description: The type of the trial.
          type: string
        status:
          description: The status of the trial.
          type: string
        spend:
          description: Array of spent amount.
          type: array
          items:
            properties:
              formatted:
                description: ''
                type: string
              amount:
                description: The total amount of the trial.
                type: number
                format: float
              currency_code:
                description: The currency of the trial.
                type: string
              currency_symbol:
                description: The currency's symbol.
                type: string
            type: object
        ignore_spend:
          description: The spend cap for this trial is ignored when determining resources to allow.
          type: boolean
        created:
          description: The timestamp representing when the trial was created.
          type: string
          format: date-time
        updated:
          description: The timestamp representing when the trial was last modified.
          type: string
          format: date-time
        expiration:
          description: The timestamp representing when the trial will expire.
          type: string
          format: date-time
      type: object
    CurrentUser:
      description: The user object.
      properties:
        id:
          description: The UUID of the owner.
          type: string
          format: uuid
        uuid:
          description: The UUID of the owner.
          type: string
          format: uuid
        username:
          description: The username of the owner.
          type: string
        display_name:
          description: The full name of the owner.
          type: string
        status:
          description: Status of the user. 0 = blocked; 1 = active.
          type: integer
        mail:
          description: The email address of the owner.
          type: string
          format: email
        ssh_keys:
          description: The list of user's public SSH keys.
          type: array
          items:
            $ref: '#/components/schemas/SSHKey'
        has_key:
          description: The indicator whether the user has a public ssh key on file or not.
          type: boolean
        projects:
          type: array
          items:
            properties:
              id:
                description: The unique ID string of the project.
                type: string
              name:
                description: The name given to the project. Appears as the title in the user interface.
                type: string
              title:
                description: The name given to the project. Appears as the title in the user interface.
                type: string
              cluster:
                description: The machine name of the region where the project is located. Cannot be changed after project creation.
                type: string
              cluster_label:
                description: The human-readable name of the region where the project is located.
                type: string
              region:
                description: The machine name of the region where the project is located. Cannot be changed after project creation.
                type: string
              region_label:
                description: The human-readable name of the region where the project is located.
                type: string
              uri:
                description: The URL for the project's user interface.
                type: string
              endpoint:
                description: The project API endpoint for the project.
                type: string
              license_id:
                description: The ID of the subscription.
                type: integer
              owner:
                description: The UUID of the owner.
                type: string
                format: uuid
              owner_info:
                $ref: '#/components/schemas/OwnerInfo'
              plan:
                description: The plan type of the subscription.
                type: string
              subscription_id:
                description: The ID of the subscription.
                type: integer
              status:
                description: The status of the project.
                type: string
              vendor:
                description: The machine name of the vendor the subscription belongs to.
                type: string
              vendor_label:
                description: The machine name of the vendor the subscription belongs to.
                type: string
              vendor_website:
                description: The URL of the vendor the subscription belongs to.
                type: string
                format: url
              vendor_resources:
                description: The link to the resources of the vendor the subscription belongs to.
                type: string
              created_at:
                description: The creation date of the subscription.
                type: string
                format: date-time
            type: object
        sequence:
          description: The sequential ID of the user.
          type: integer
        roles:
          type: array
          items:
            description: The user role name.
            type: string
        picture:
          description: The URL of the user image.
          type: string
          format: url
        tickets:
          description: Number of support tickets by status.
          type: object
      type: object
    OrganizationInvitation:
      title: OrganizationInvitation
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the invitation.
        state:
          type: string
          enum:
            - pending
            - processing
            - accepted
            - cancelled
            - error
          description: The invitation state.
        organization_id:
          type: string
          description: The ID of the organization.
        email:
          type: string
          format: email
          description: The email address of the invitee.
        owner:
          type: object
          description: The inviter.
          properties:
            id:
              type: string
              format: uuid
              description: The ID of the user.
            display_name:
              type: string
              description: The user's display name.
        created_at:
          type: string
          description: The date and time when the invitation was created.
          format: date-time
        updated_at:
          type: string
          format: date-time
          description: The date and time when the invitation was last updated.
        finished_at:
          type: string
          format: date-time
          description: The date and time when the invitation was finished.
          nullable: true
        permissions:
          $ref: '#/components/schemas/OrganizationPermissions'
      x-examples:
        example-1:
          id: 97f46eca-6276-4993-bfeb-bbb53cba6f08
          state: pending
          organization_id: 01ARZ3NDEKTSV4RRFFQ69G5FAV
          email: bob@example.com
          owner:
            id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
            display_name: Alice
          created_at: '2019-08-24T14:15:22Z'
          updated_at: '2019-08-24T14:15:22Z'
          finished_at: null
          permissions:
            - members
    OrganizationPermissions:
      type: array
      description: The permissions the invitee should be given on the organization.
      items:
        type: string
        enum:
          - admin
          - billing
          - plans
          - members
          - project:create
          - projects:list
    ProjectInvitation:
      title: ''
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the invitation.
        state:
          type: string
          enum:
            - pending
            - processing
            - accepted
            - cancelled
            - error
          description: The invitation state.
        project_id:
          type: string
          description: The ID of the project.
        role:
          type: string
          enum:
            - admin
            - viewer
          description: The project role.
        email:
          type: string
          format: email
          description: The email address of the invitee.
        owner:
          type: object
          description: The inviter.
          properties:
            id:
              type: string
              format: uuid
              description: The ID of the user.
            display_name:
              type: string
              description: The user's display name.
        created_at:
          type: string
          format: date-time
          description: The date and time when the invitation was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the invitation was last updated.
        finished_at:
          type: string
          format: date-time
          nullable: true
          description: The date and time when the invitation was finished.
        environments:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                description: The ID of the environment.
              type:
                type: string
                description: The environment type.
              role:
                type: string
                enum:
                  - admin
                  - viewer
                  - contributor
                description: The environment role.
              title:
                type: string
                description: The environment title.
      x-examples:
        example-1:
          id: 97f46eca-6276-4993-bfeb-bbb53cba6f08
          state: pending
          project_id: 652soceglkw4u
          role: admin
          email: bob@example.com
          owner:
            id: 497f6eca-6276-4993-bfeb-53cbbbba6f08
            display_name: Alice
          created_at: '2019-08-24T14:15:22Z'
          updated_at: '2019-08-24T14:15:22Z'
          finished_at: null
          environments: []
    User:
      description: ''
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the user.
        deactivated:
          type: boolean
          description: Whether the user has been deactivated.
        namespace:
          type: string
          description: The namespace in which the user's username is unique.
        username:
          type: string
          description: The user's username.
        email:
          type: string
          format: email
          description: The user's email address.
        email_verified:
          type: boolean
          description: Whether the user's email address has been verified.
        first_name:
          type: string
          description: The user's first name.
        last_name:
          type: string
          description: The user's last name.
        picture:
          type: string
          format: uri
          description: The user's picture.
        company:
          type: string
          description: The user's company.
        website:
          type: string
          format: uri
          description: The user's website.
        country:
          type: string
          maxLength: 2
          minLength: 2
          description: The user's ISO 3166-1 alpha-2 country code.
        created_at:
          type: string
          format: date-time
          description: The date and time when the user was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the user was last updated.
        consented_at:
          type: string
          format: date-time
          description: The date and time when the user consented to the Terms of Service.
        consent_method:
          type: string
          description: The method by which the user consented to the Terms of Service.
          enum:
            - opt-in
            - text-ref
      required:
        - id
        - deactivated
        - namespace
        - username
        - email
        - email_verified
        - first_name
        - last_name
        - picture
        - company
        - website
        - country
        - created_at
        - updated_at
      x-examples:
        example-1:
          company: Platform.sh SAS
          country: FR
          created_at: '2010-04-19T10:00:00Z'
          deactivated: false
          email: hello@platform.sh
          email_verified: true
          first_name: Hello
          id: d81c8ee2-44b3-429f-b944-a33ad7437690
          last_name: World
          namespace: platformsh
          picture: https://accounts.platform.sh/profiles/blimp_profile/themes/platformsh_theme/images/mail/logo.png
          updated_at: '2021-01-27T13:58:38.06968Z'
          username: platform-sh
          website: https://platform.sh
          consented_at: '2010-04-19T10:00:00Z'
          consent_method: opt-in
    Error:
      description: ''
      type: object
      properties:
        status:
          type: string
        message:
          type: string
        code:
          type: number
        detail:
          type: object
        title:
          type: string
      title: ''
      x-examples:
        example-1:
          status: Invalid input
          message: This field is required.
          code: 400
          detail:
            field:
              - This field is required.
          title: Bad Request
    ListLinks:
      type: object
      properties:
        self:
          $ref: '#/components/schemas/Link'
        previous:
          $ref: '#/components/schemas/Link'
        next:
          $ref: '#/components/schemas/Link'
    Link:
      type: object
      title: Link
      description: A hypermedia link to the {current, next, previous} set of items.
      properties:
        href:
          type: string
          description: URL of the link
    APIToken:
      description: ''
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the token.
        name:
          type: string
          description: The token name.
        mfa_on_creation:
          type: boolean
          description: Whether the user had multi-factor authentication (MFA) enabled when they created the token.
        token:
          type: string
          description: The token in plain text (available only when created).
        created_at:
          type: string
          format: date-time
          description: The date and time when the token was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the token was last updated.
        last_used_at:
          type: string
          format: date-time
          nullable: true
          description: |
            The date and time when the token was last exchanged for an access token. This will be <code>null</code> for a token which has never been used, or not used since this API property was added. <strong>Note:</strong> After an API token is used, the derived access token may continue to be used until its expiry. This also applies to SSH certificate(s) derived from the access token.
      x-examples:
        example-1:
          created_at: '2019-01-29T08:17:47Z'
          id: 660aa36d-23cf-402b-8889-63af71967f2b
          name: Token for CI
          updated_at: '2019-01-29T08:17:47Z'
    Connection:
      description: ''
      type: object
      properties:
        provider:
          type: string
          description: The name of the federation provider.
        provider_type:
          type: string
          description: The type of the federation provider.
        is_mandatory:
          type: boolean
          description: Whether the federated login connection is mandatory.
        subject:
          type: string
          description: The identity on the federation provider.
        email_address:
          type: string
          description: The email address presented on the federated login connection.
        created_at:
          type: string
          format: date-time
          description: The date and time when the connection was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the connection was last updated.
      x-examples:
        example-1:
          created_at: '2021-05-24T07:20:35.683264Z'
          provider: acme-inc-oidc
          provider_type: okta
          subject: '1621840835647277693'
          email_address: name@example.com
          updated_at: '2021-05-24T07:20:35.683264Z'
    OrganizationMFAEnforcement:
      description: The MFA enforcement for the organization.
      type: object
      properties:
        enforce_mfa:
          type: boolean
          description: Whether the MFA enforcement is enabled.
      x-examples:
        example-1:
          enforce_mfa: true
    OrganizationSSOConfig:
      description: The SSO configuration for the organization.
      type: object
      allOf:
        - oneOf:
            - $ref: '#/components/schemas/GoogleSSOConfig'
        - type: object
          properties:
            organization_id:
              type: string
              description: Organization ID.
            enforced:
              type: boolean
              description: Whether the configuration is enforced for all the organization members.
            created_at:
              type: string
              description: The date and time when the SSO configuration was created.
              format: date-time
            updated_at:
              type: string
              format: date-time
              description: The date and time when the SSO configuration was last updated.
      x-examples:
        example-1:
          organization_id: 01EY8BWRSQ56EY1TDC32PARAJS
          provider_type: google
          domain: example.com
          enforced: true
          created_at: '2021-05-24T07:20:35.683264Z'
          updated_at: '2021-05-24T07:20:35.683264Z'
    GoogleSSOConfig:
      type: object
      title: GoogleSSO
      properties:
        provider_type:
          type: string
          description: SSO provider type.
          enum:
            - google
        domain:
          type: string
          description: Google hosted domain.
    Team:
      description: ''
      type: object
      properties:
        id:
          type: string
          format: ulid
          description: The ID of the team.
        organization_id:
          type: string
          format: ulid
          description: The ID of the parent organization.
        label:
          type: string
          description: The human-readable label of the team.
        project_permissions:
          type: array
          description: Project permissions that are granted to the team.
          items:
            type: string
            enum:
              - admin
              - viewer
              - development:admin
              - development:contributor
              - development:viewer
              - staging:admin
              - staging:contributor
              - staging:viewer
              - production:admin
              - production:contributor
              - production:viewer
        counts:
          type: object
          properties:
            member_count:
              type: integer
              description: Total count of members of the team.
            project_count:
              type: integer
              description: Total count of projects that the team has access to.
        created_at:
          type: string
          format: date-time
          description: The date and time when the team was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the team was last updated.
      x-examples:
        example-1:
          id: 01FVMKN9KHVWWVY488AVKDWHR3
          organization_id: 01EY8BWRSQ56EY1TDC32PARAJS
          counts:
            member_count: 12
            project_count: 5
          label: Contractors
          created_at: '2021-05-24T07:20:35.683264Z'
          updated_at: '2021-05-24T07:20:35.683264Z'
          project_permissions:
            - viewer
            - staging:contributor
            - development:admin
    TeamMember:
      type: object
      properties:
        team_id:
          type: string
          format: ulid
          description: The ID of the team.
        user_id:
          type: string
          format: uuid
          description: The ID of the user.
        created_at:
          type: string
          format: date-time
          description: The date and time when the team member was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the team member was last updated.
    UserReference:
      description: The referenced user, or null if it no longer exists.
      type: object
      nullable: true
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the user.
        username:
          type: string
          description: The user's username.
        email:
          type: string
          format: email
          description: The user's email address.
        first_name:
          type: string
          description: The user's first name.
        last_name:
          type: string
          description: The user's last name.
        picture:
          type: string
          format: uri
          description: The user's picture.
        mfa_enabled:
          type: boolean
          description: 'Whether the user has enabled MFA. Note: the built-in MFA feature may not be necessary if the user is linked to a mandatory SSO provider that itself supports MFA (see "sso_enabled\").'
        sso_enabled:
          type: boolean
          description: Whether the user is linked to a mandatory SSO provider.
      x-examples:
        example-1:
          email: hello@platform.sh
          first_name: Hello
          id: d81c8ee2-44b3-429f-b944-a33ad7437690
          last_name: World
          picture: https://accounts.platform.sh/profiles/blimp_profile/themes/platformsh_theme/images/mail/logo.png
          username: platform-sh
          mfa_enabled: true
          sso_enabled: true
    TeamReference:
      description: The referenced team, or null if it no longer exists.
      type: object
      properties:
        id:
          type: string
          format: ulid
          description: The ID of the team.
        organization_id:
          type: string
          format: ulid
          description: The ID of the parent organization.
        label:
          type: string
          description: The human-readable label of the team.
        project_permissions:
          type: array
          description: Project permissions that are granted to the team.
          items:
            type: string
            enum:
              - admin
              - viewer
              - development:admin
              - development:contributor
              - development:viewer
              - staging:admin
              - staging:contributor
              - staging:viewer
              - production:admin
              - production:contributor
              - production:viewer
        counts:
          type: object
          properties:
            member_count:
              type: integer
              description: Total count of members of the team.
            project_count:
              type: integer
              description: Total count of projects that the team has access to.
        created_at:
          type: string
          format: date-time
          description: The date and time when the team was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the team was last updated.
      x-examples:
        example-1:
          id: 01FVMKN9KHVWWVY488AVKDWHR3
          organization_id: 01EY8BWRSQ56EY1TDC32PARAJS
          counts:
            member_count: 12
            project_count: 5
          label: Contractors
          project_permissions:
            - viewer
            - staging:contributor
            - development:admin
          created_at: '2021-05-24T07:20:35.683264Z'
          updated_at: '2021-05-24T07:20:35.683264Z'
    DateTimeFilter:
      type: object
      properties:
        eq:
          type: string
          description: Equal
        ne:
          type: string
          description: Not equal
        between:
          type: string
          description: Between (comma-separated list)
        gt:
          type: string
          description: Greater than
        gte:
          type: string
          description: Greater than or equal
        lt:
          type: string
          description: Less than
        lte:
          type: string
          description: Less than or equal
    StringFilter:
      type: object
      properties:
        eq:
          type: string
          description: Equal
        ne:
          type: string
          description: Not equal
        in:
          type: string
          description: In (comma-separated list)
        nin:
          type: string
          description: Not in (comma-separated list)
        between:
          type: string
          description: Between (comma-separated list)
        contains:
          type: string
          description: Contains
        starts:
          type: string
          description: Starts with
        ends:
          type: string
          description: Ends with
    OAuth2Client:
      type: object
      title: OAuth2Client
      description: OAuth 2.0 client representation
      properties:
        id:
          type: string
          description: The unique client identifier.
          example: my-app-client
        namespace:
          type: string
          description: The client namespace.
          example: platformsh
        label:
          type: string
          description: Human-readable label for the client.
          example: My Application
        created_at:
          type: string
          format: date-time
          description: The date and time when the client was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the client was last updated.
        redirect_uris:
          type: array
          items:
            type: string
            format: uri
          description: List of exact redirect URIs the client is allowed to use for authorization flows. Must use https:// or be localhost. Required when using authorization_code or implicit grant types.
          example:
            - https://myapp.example.com/callback
        grant_types:
          type: array
          items:
            type: string
            enum:
              - authorization_code
              - implicit
              - api_token
              - refresh_token
              - client_credentials
          description: List of OAuth 2.0 grant types the client is allowed to use. Note that "implicit" is deprecated and should not be used for new clients.
          example:
            - authorization_code
            - refresh_token
        response_types:
          type: array
          items:
            type: string
            enum:
              - code
              - token
          description: List of OAuth 2.0 response types the client is allowed to request. "code" is required for the "authorization_code" grant, and "token" is required for the "implicit" grant.
          example:
            - code
        scopes:
          type: array
          items:
            type: string
          description: List of OAuth 2.0 scopes the client is allowed to request.
          example:
            - offline_access
        public:
          type: boolean
          description: Whether the client is public (cannot securely store secrets) or private.
          example: false
        trusted:
          type: boolean
          description: Whether the client is trusted (consent screen is bypassed).
          example: false
        enforce_pkce:
          type: boolean
          description: Whether to enforce PKCE for authorization code flow for the client.
          example: true
      required:
        - id
        - namespace
        - label
        - public
        - trusted
    OAuth2ClientCreate:
      type: object
      title: OAuth2ClientCreate
      description: OAuth 2.0 client creation request
      properties:
        id:
          type: string
          description: The unique client identifier.
          pattern: ^[a-z0-9@.-]+$
          example: my-app-client
        namespace:
          type: string
          description: The client namespace.
          maxLength: 255
          example: platformsh
        label:
          type: string
          description: Human-readable label for the client.
          maxLength: 255
          example: My Application
        secret:
          type: string
          description: Client secret for private clients.
          example: super-secret-value
        redirect_uris:
          type: array
          items:
            type: string
            format: uri
          description: List of exact redirect URIs the client is allowed to use for authorization flows. Must use https:// or be localhost. Required when using authorization_code or implicit grant types.
          example:
            - https://myapp.example.com/callback
        grant_types:
          type: array
          items:
            type: string
            enum:
              - authorization_code
              - implicit
              - api_token
              - refresh_token
              - client_credentials
          description: List of OAuth 2.0 grant types the client is allowed to use. Note that "implicit" is deprecated and should not be used for new clients.
          example:
            - authorization_code
            - refresh_token
        response_types:
          type: array
          items:
            type: string
            enum:
              - code
              - token
          description: List of OAuth 2.0 response types the client is allowed to request. "code" is required for the "authorization_code" grant, and "token" is required for the "implicit" grant.
          example:
            - code
        scopes:
          type: array
          items:
            type: string
          description: List of OAuth 2.0 scopes the client is allowed to request.
          example:
            - offline_access
        public:
          type: boolean
          description: Whether the client is public (cannot securely store secrets) or private. Should be set false if there is a client secret.
          example: false
        trusted:
          type: boolean
          description: Whether the client is trusted (consent screen is bypassed).
          example: false
        enforce_pkce:
          type: boolean
          description: Whether to enforce PKCE for authorization code flow for the client.
          example: true
      required:
        - id
        - namespace
        - label
        - public
        - grant_types
    OAuth2ClientUpdate:
      type: object
      title: OAuth2ClientUpdate
      description: OAuth 2.0 client update request
      properties:
        namespace:
          type: string
          description: The client namespace.
          example: platformsh
        label:
          type: string
          description: Human-readable label for the client.
          example: My Updated Application
        secret:
          type: string
          description: Client secret for private clients. Leave empty to keep current secret.
          example: new-super-secret-value
        redirect_uris:
          type: array
          items:
            type: string
            format: uri
          description: List of exact redirect URIs the client is allowed to use for authorization flows. Must use https:// or be localhost. Required when using authorization_code or implicit grant types.
          example:
            - https://myapp.example.com/callback
        grant_types:
          type: array
          items:
            type: string
            enum:
              - authorization_code
              - implicit
              - api_token
              - refresh_token
              - client_credentials
          description: List of OAuth 2.0 grant types the client is allowed to use. Note that "implicit" is deprecated and should not be used for new clients.
          example:
            - authorization_code
            - refresh_token
        response_types:
          type: array
          items:
            type: string
            enum:
              - code
              - token
          description: List of OAuth 2.0 response types the client is allowed to request. "code" is required for the "authorization_code" grant, and "token" is required for the "implicit" grant.
          example:
            - code
        scopes:
          type: array
          items:
            type: string
          description: List of OAuth 2.0 scopes the client is allowed to request.
          example:
            - offline_access
        public:
          type: boolean
          description: Whether the client is public (cannot securely store secrets) or private.
          example: false
        trusted:
          type: boolean
          description: Whether the client is trusted (consent screen is bypassed).
          example: false
        enforce_pkce:
          type: boolean
          description: Whether to enforce PKCE for authorization code flow for the client.
          example: true
    AccountAddonsObject:
      $ref: '#/components/schemas/account_addons'
    AccountDunningActionsObject:
      $ref: '#/components/schemas/account_dunning_actions'
    AccountInvoice:
      $ref: '#/components/schemas/invoice'
    AccountInvoiceDetail:
      $ref: '#/components/schemas/invoice_detail'
    AccountProfilePayload:
      $ref: '#/components/schemas/profile'
    AddressVerificationPayload:
      $ref: '#/components/schemas/address_verification'
    BillingAccountListPayload:
      $ref: '#/components/schemas/billing_account_list'
    BillingAccountPayload:
      $ref: '#/components/schemas/billing_account'
    BillingAccountPayloadWithLinks:
      $ref: '#/components/schemas/billing_account_with_links'
    BillingAlertConfig:
      $ref: '#/components/schemas/billing_alert_config'
    BillingEntity:
      $ref: '#/components/schemas/billing_entity'
    BillingEntityPayload:
      $ref: '#/components/schemas/billing_entity_payload'
    BillingEntityWithLinks:
      $ref: '#/components/schemas/billing_entity_with_links'
    BillingUser:
      $ref: '#/components/schemas/billing_user'
    BillingUserPermissions:
      $ref: '#/components/schemas/billing_user_permissions'
    CountryPayload:
      $ref: '#/components/schemas/country'
    FormattedCost:
      $ref: '#/components/schemas/formatted_cost'
    Payment:
      $ref: '#/components/schemas/payment'
    Vouchers:
      $ref: '#/components/schemas/voucher_list'
    BadRequestError:
      $ref: '#/components/schemas/bad_request_error'
    billing_account:
      type: object
      properties:
        id:
          type: string
          description: The unique identifier of the billing account.
        billing_entity_id:
          type: string
          description: The ID of the billing entity associated with this billing account.
          nullable: true
        salesforce_id:
          type: string
          description: The Salesforce ID associated with the billing account.
          nullable: true
        bp_account_id:
          type: integer
          nullable: true
          description: The Billing Platform account ID.
        bp_profile_id:
          type: integer
          nullable: true
          description: The Billing Platform profile ID.
        stripe_customer_id:
          type: string
          nullable: true
          description: The Stripe customer ID.
        stripe_instance:
          type: string
          nullable: true
          description: The Stripe instance identifier.
        country:
          type: string
          nullable: true
          description: The country code for the billing account.
        currency:
          type: string
          nullable: true
          description: ISO 4217 currency code (3-letter code) for the billing account.
          pattern: ^[A-Z]{3}$
          example: USD
        organization_ids:
          type: array
          items:
            type: string
          description: Array of organization IDs associated with this billing account.
        vendor:
          type: string
          nullable: true
          description: The Vendor associated to the billing account.
        created_at:
          type: string
          format: date-time
          description: The timestamp when the billing account was created.
        updated_at:
          type: string
          format: date-time
          description: The timestamp when the billing account was last updated.
    link:
      type: object
      properties:
        href:
          type: string
          description: The URL of the linked resource.
      required:
        - href
    billing_account_with_links:
      allOf:
        - $ref: '#/components/schemas/billing_account'
        - type: object
          properties:
            _links:
              type: object
              description: HAL links for related resources.
              properties:
                self:
                  $ref: '#/components/schemas/link'
              required:
                - self
    billing_account_list:
      type: object
      properties:
        count:
          type: integer
          description: Total number of items in the list.
        items:
          type: array
          items:
            $ref: '#/components/schemas/billing_account_with_links'
          description: Array of billing accounts.
        _links:
          type: object
          description: HAL links for pagination.
          properties:
            self:
              $ref: '#/components/schemas/link'
            next:
              $ref: '#/components/schemas/link'
            previous:
              $ref: '#/components/schemas/link'
          required:
            - self
    error:
      type: object
      properties:
        title:
          type: string
          description: A short, human-readable summary of the problem type.
        status:
          type: integer
          format: int32
          description: The HTTP status code generated by the origin server.
          minimum: 100
          maximum: 600
          exclusiveMaximum: true
          example: 404
        detail:
          type: string
          description: A human-readable explanation specific to this occurrence of the problem.
    profile:
      type: object
      properties:
        billing_account_id:
          type: string
          description: ID of the associated billing account.
        billing_entity_id:
          type: string
          description: ID of the associated billing entity.
        salesforce_id:
          type: string
          description: Salesforce account ID.
        name_line:
          type: string
          description: Display name of the account.
        billing_contact:
          type: string
          description: Email address for billing communications.
        country:
          type: string
          description: Country code.
        currency:
          type: string
          nullable: true
          description: ISO 4217 currency code (3-letter code) for the billing account.
          pattern: ^[A-Z]{3}$
          example: USD
        company_name:
          type: string
          description: Legal company or organization name.
        billing_street_1:
          type: string
          description: First line of the billing street address.
        billing_street_2:
          type: string
          description: Second line of the billing street address.
        administrative_area:
          type: string
          description: State, province, or region.
        locality:
          type: string
          description: City or locality.
        postal_code:
          type: string
          description: Postal or ZIP code.
        account_tier:
          type: string
          description: Internal classification of the account tier.
        agency_partner_tier:
          type: string
          description: Agency partner tier classification.
        created_at:
          type: string
          format: date-time
          description: Timestamp when the profile record was created (RFC 3339).
        updated_at:
          type: string
          format: date-time
          description: Timestamp of the last update to the profile record (RFC 3339).
    bad_request_error:
      type: object
      properties:
        title:
          type: string
          description: A short, human-readable summary of the problem type.
        status:
          type: integer
          format: int32
          description: The HTTP status code generated by the origin server.
          minimum: 100
          maximum: 600
          exclusiveMaximum: true
          example: 400
        detail:
          type: string
          description: A human-readable explanation specific to this occurrence of the problem.
        errors:
          nullable: true
          type: object
          additionalProperties:
            type: string
            description: A map of field names to their corresponding error messages.
    account_addons:
      type: object
      description: The list of available and current add-ons of a billing account.
      properties:
        available:
          type: object
          description: The list of available add-ons and their possible values.
          properties:
            support_level:
              type: object
              description: Information about the levels of support available.
              additionalProperties:
                type: number
                description: The number of commitment days required for the addon.
        current:
          type: object
          description: The list of existing add-ons and their current values.
          properties:
            support_level:
              type: object
              description: Information about the level of support currently selected.
              additionalProperties:
                type: number
                description: The number of commitment days that remain for the addon.
        upgrades_available:
          type: object
          description: The upgrades available for current add-ons.
          properties:
            support_level:
              type: array
              description: Available upgrade options for support.
              items:
                type: string
    formatted_cost:
      type: object
      description: Formatted cost object.
      properties:
        amount:
          type: integer
          description: |
            The monetary amount in the smallest currency unit (e.g., cents for USD/EUR).
            This integer representation avoids floating-point precision issues.
            For example, $12.34 USD is represented as 1234 cents.
          example: 1234
        currency:
          type: string
          description: |
            ISO 4217 currency code (3-letter code) indicating the currency of the amount.
            Common values include USD (US Dollar), EUR (Euro), GBP (British Pound).
          example: USD
          pattern: ^[A-Z]{3}$
        formatted:
          type: string
          description: |
            Human-readable string representation of the amount with appropriate
            currency symbol and formatting according to currency conventions.
            For example: "$12.34" for USD, "€12.34" for EUR, "£12.34" for GBP.
          example: $12.34
    invoice:
      type: object
      description: The invoice object.
      properties:
        id:
          type: string
          description: The invoice id.
        invoice_number:
          description: The invoice number.
          type: string
        type:
          description: Invoice type.
          type: string
          enum:
            - invoice
            - legacy_invoice
        status:
          description: The invoice status.
          type: string
        owner:
          description: The ULID of the owner.
          type: string
          format: ulid
        owner_type:
          description: The type of the owner object.
          type: string
          enum:
            - billing_account
            - organization
        invoice_date:
          description: The invoice date.
          type: string
          format: date-time
          nullable: true
        invoice_due:
          description: The invoice due date.
          type: string
          format: date-time
          nullable: true
        created:
          description: The time when the invoice was created.
          type: string
          format: date-time
          nullable: true
        changed:
          description: The time when the invoice was changed.
          type: string
          format: date-time
          nullable: true
        total:
          $ref: '#/components/schemas/formatted_cost'
        _links:
          type: object
          description: HAL links for related resources.
          properties:
            self:
              $ref: '#/components/schemas/link'
            pdf:
              $ref: '#/components/schemas/link'
            invoice-details:
              $ref: '#/components/schemas/link'
            invoice-payments:
              $ref: '#/components/schemas/link'
            list-invoices:
              $ref: '#/components/schemas/link'
            billing-account:
              $ref: '#/components/schemas/link'
            billing-dunning:
              $ref: '#/components/schemas/link'
          required:
            - self
    payment_source:
      type: object
      description: The payment source
      properties:
        type:
          description: The type of the payment source.
          type: string
          example: credit-card
        type_label:
          description: The type of the payment source, prettified.
          type: string
          example: Card
        payment_category:
          description: The category of payment method (card, bank_debit...).
          type: string
          example: card
        name:
          description: The name of the customer.
          type: string
        number:
          description: The partially sanitized number of the payment source (credit card number, or an iban number).
          type: string
          example: XXXX-XXXX-XXXX-1234
        data:
          description: The data object for a particular source type. Different source types will have different schemas for the data property.
          type: object
    invoice_detail:
      type: object
      description: The invoice object.
      properties:
        id:
          type: integer
          description: The line item id.
        cost:
          $ref: '#/components/schemas/formatted_cost'
        pricing:
          $ref: '#/components/schemas/formatted_cost'
        tax:
          $ref: '#/components/schemas/formatted_cost'
        total:
          $ref: '#/components/schemas/formatted_cost'
        rated_amount:
          $ref: '#/components/schemas/formatted_cost'
        discounted_by:
          type: integer
          description: For discounted line items, reference to discounting item.
        estimated:
          type: boolean
          description: Whether the line item is estimated.
        prorate_factor:
          type: number
          format: double
          description: The prorate factor applied to the line item.
        quantity:
          type: number
          format: double
          description: The quantity for the line item.
        quantity_formatted:
          type: string
          description: The formatted quantity for the line item.
        rate:
          type: number
          format: double
          description: The rate for the line item.
        subscription:
          type: object
          properties:
            start:
              type: string
              format: date-time
              description: Subscription start.
            end:
              type: string
              format: date-time
              description: Subscription end.
        duration:
          type: object
          properties:
            start:
              type: string
              format: date-time
              description: Proration start.
            end:
              type: string
              format: date-time
              description: Proration end.
        product:
          type: object
          properties:
            id:
              type: integer
              description: The product ID.
            name:
              type: string
              description: The product name.
            sku:
              type: string
              description: The product SKU.
        project_id:
          type: string
          description: The project ID associated with the line item.
    payment:
      type: object
      description: Prepayment transaction for a billing account.
      properties:
        invoice_id:
          type: string
          description: Invoice ID
        message:
          type: string
          description: The message associated with transaction.
        status:
          type: string
          description: Whether the transactions was successful or a failure.
        amount:
          type: object
          description: The prepayment balance in complex format.
          properties:
            formatted:
              type: string
              description: Formatted balance.
            amount:
              type: number
              description: The balance amount.
            currency_code:
              type: string
              description: The balance currency code.
            currency_symbol:
              type: string
              description: The balance currency symbol.
        created:
          type: string
          description: Time the transaction was created.
        updated:
          type: string
          description: Time the transaction was last updated.
          nullable: true
        expire_date:
          type: string
          description: The expiration date of the transaction (deposits only).
          nullable: true
    billing_alert_config:
      type: object
      description: The alert configuration for a billing account.
      properties:
        id:
          type: string
          description: Type of alert (e.g. "billing")
        active:
          type: boolean
          description: Whether the billing alert should be active or not.
        alerts_sent:
          type: number
          description: Number of alerts sent.
        last_alert_at:
          type: string
          description: The datetime the alert was last sent.
          nullable: true
        updated_at:
          type: string
          description: The datetime the alert was last updated.
          nullable: true
        config:
          type: object
          nullable: true
          description: Configuration for threshold and mode.
          properties:
            threshold:
              type: object
              description: Data regarding threshold spend.
              properties:
                formatted:
                  type: string
                  description: Formatted threshold value.
                amount:
                  type: number
                  description: Threshold value.
                currency_code:
                  type: string
                  description: Threshold currency code.
                currency_symbol:
                  type: string
                  description: Threshold currency symbol.
            mode:
              type: string
              description: The mode of alert.
    account_dunning_actions:
      type: object
      description: The list of scheduled dunning actions (if any) for a billing account.
      properties:
        items:
          type: array
          description: The list of scheduled collection or restriction tasks.
          items:
            type: object
            description: A scheduled task.
            properties:
              id:
                type: string
                description: The ID of the scheduled action.
              date:
                type: string
                description: The datetime the action is scheduled.
              days_until:
                type: string
                description: The number of days until the action occurs.
              type:
                type: string
                description: The type of action.
                enum:
                  - none
                  - charge
                  - suspend
                  - revoke
              invoice_id:
                type: string
                description: The invoice ID.
              uid:
                type: string
                description: The ID of the owner of the order.
    currency_amount:
      description: Currency amount with detailed components.
      properties:
        formatted:
          description: Formatted currency value.
          type: string
        amount:
          description: Plain amount.
          type: number
          format: float
        currency_code:
          description: Currency code.
          type: string
        currency_symbol:
          description: Currency symbol.
          type: string
      type: object
    currency_amount_nullable:
      description: Currency amount with detailed components.
      properties:
        formatted:
          description: Formatted currency value.
          type: string
        amount:
          description: Plain amount.
          type: number
          format: float
        currency_code:
          description: Currency code.
          type: string
        currency_symbol:
          description: Currency symbol.
          type: string
      type: object
      nullable: true
    discount:
      description: The discount object.
      type: object
      properties:
        id:
          description: The ID of the discount.
          type: integer
        billing_account:
          description: The ULID of the billing account the discount applies to.
          type: string
        type:
          description: The machine name of the discount type.
          type: string
          enum:
            - allowance
            - startup
            - enterprise
        type_label:
          description: The label of the discount type.
          type: string
        status:
          description: The status of the discount.
          type: string
          enum:
            - inactive
            - active
            - expired
            - deactivated
        commitment:
          description: The minimum commitment associated with the discount (if applicable).
          properties:
            months:
              description: Commitment period length in months.
              type: integer
            amount:
              description: Commitment amounts.
              properties:
                monthly:
                  $ref: '#/components/schemas/currency_amount'
                commitment_period:
                  $ref: '#/components/schemas/currency_amount'
                contract_total:
                  $ref: '#/components/schemas/currency_amount'
              type: object
            net:
              description: Net commitment amounts (discount deducted).
              properties:
                monthly:
                  $ref: '#/components/schemas/currency_amount'
                commitment_period:
                  $ref: '#/components/schemas/currency_amount'
                contract_total:
                  $ref: '#/components/schemas/currency_amount'
              type: object
          type: object
          nullable: true
        total_months:
          description: The contract length in months (if applicable).
          type: integer
          nullable: true
        discount:
          description: Discount value per relevant time periods.
          properties:
            monthly:
              $ref: '#/components/schemas/currency_amount'
            commitment_period:
              $ref: '#/components/schemas/currency_amount_nullable'
            contract_total:
              $ref: '#/components/schemas/currency_amount_nullable'
          type: object
        config:
          description: The discount type specific configuration.
          type: object
        start_at:
          description: The start time of the discount period.
          type: string
          format: date-time
        end_at:
          description: The end time of the discount period (if applicable).
          type: string
          format: date-time
          nullable: true
    billing_user_permissions:
      type: array
      description: The billing account permissions.
      items:
        type: string
        enum:
          - manage
          - view
    billing_user:
      type: object
      properties:
        billing_account_id:
          type: string
          format: ulid
          description: The ID of the billing account.
        user_id:
          type: string
          format: uuid
          description: The ID of the user.
        permissions:
          $ref: '#/components/schemas/billing_user_permissions'
        level:
          type: string
          description: Access level of the user.
          enum:
            - admin
            - view
        created_at:
          type: string
          format: date-time
          description: The date and time when the user was added to the billing account.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the user access was last updated.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current user access.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              description: Link for updating the current user access.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              description: Link for removing the current user from the billing account.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
    voucher_list:
      type: object
      properties:
        vouchers_total:
          type: string
          description: The total voucher credit given to the account.
        vouchers_applied:
          type: string
          description: The part of total voucher credit applied to invoices.
        vouchers_remaining_balance:
          type: string
          description: The remaining voucher credit, available for future invoices.
        currency:
          type: string
          description: The currency of the vouchers.
        vouchers:
          description: Array of vouchers.
          type: array
          items:
            type: object
            properties:
              code:
                type: string
                description: The voucher code.
              amount:
                type: string
                description: The total voucher credit.
              currency:
                type: string
                description: The currency of the voucher.
              invoices:
                type: array
                description: Array of invoices to which a voucher applied.
                items:
                  type: object
                  properties:
                    invoice_id:
                      type: string
                      description: The id of the invoic.
                    status:
                      type: string
                      description: The status of the invoice.
                    billing_period_start:
                      type: string
                      description: The billing period start timestamp of the invoice (ISO 8601).
                    billing_period_end:
                      type: string
                      description: The billing period end timestamp of the invoice (ISO 8601).
                    invoice_total:
                      type: string
                      description: The total of the invoice.
                    invoice_discount:
                      type: string
                      description: The total voucher credit applied to the invoice.
                    currency:
                      type: string
                      description: The currency of the invoice.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current resource.
              properties:
                href:
                  type: string
                  description: URL of the link.
    country:
      type: object
      properties:
        country:
          type: string
          description: Country code.
        label:
          type: string
          description: Country label.
        currency:
          type: string
          description: Currency code for the country.
        tax_label:
          type: string
          description: Identifier for the tax number in this country.
        tax_rule:
          type: string
          description: Regular expression or rule used to validate tax number.
        tax_rule_description:
          type: string
          description: Human readable description of the tax rule.
        has_vat:
          type: boolean
          description: Country's tax number may be validated by EU VAT validation.
        address_labels:
          type: object
          description: Key-value map for address field labels.
          additionalProperties:
            type: string
        mandatory_fields:
          type: array
          description: List of mandatory field names.
          items:
            type: string
        updated_at:
          type: string
          format: date-time
          description: The timestamp when the country was last updated.
    address_verification:
      type: object
      properties:
        billing_street_1:
          type: string
          description: The provided street address.
        administrative_area:
          type: string
          description: The provided state or province.
        locality:
          type: string
          description: The provided city or locality.
        postal_code:
          type: string
          description: The provided postal or ZIP code.
        country:
          type: string
          description: The country code.
        valid:
          type: boolean
          description: Whether the provided address is valid.
        corrected:
          type: boolean
          description: Whether the address resolver has corrected the input address.
        diff:
          type: array
          description: The fields that were corrected by the resolver.
          items:
            type: string
        message:
          type: string
          description: Additional validation information, if applicable.
    billing_entity:
      type: object
      properties:
        id:
          type: string
          description: The unique identifier for the billing entity.
        owner_id:
          type: string
          description: The owner ID associated with the billing entity.
        email:
          type: string
          format: email
          description: The contact email for the billing entity.
        salesforce_id:
          type: string
          description: The Salesforce ID associated with the billing entity.
        bp_account_id:
          type: integer
          nullable: true
          description: The Billing Platform account ID.
        country:
          type: string
          description: The country code for the billing entity.
        vendor:
          type: string
          nullable: true
          description: The Vendor associated to the billing entity.
        name:
          type: string
          description: The name of the billing entity.
        legal_name:
          type: string
          description: The legal name of the billing entity.
        tax_number:
          type: string
          description: Tax identification number (VAT/GST/etc).
        tax_exempt:
          type: boolean
          description: Indicates whether the account is tax exempt.
        customer_type:
          type: string
          description: Customer type (individual, corporation, government).
          enum:
            - individual
            - corporation
            - government
    billing_entity_with_links:
      allOf:
        - $ref: '#/components/schemas/billing_entity'
        - type: object
          properties:
            _links:
              type: object
              description: HAL links for related resources.
              properties:
                self:
                  $ref: '#/components/schemas/link'
              required:
                - self
    billing_entity_payload:
      type: object
      properties:
        country:
          type: string
          description: The country code for the billing entity.
        vendor:
          type: string
          nullable: true
          description: The Vendor associated to the billing entity.
        name:
          type: string
          description: The name of the billing entity.
        legal_name:
          type: string
          description: The legal name of the billing entity.
        tax_number:
          type: string
          description: Tax identification number (VAT/GST/etc).
        tax_exempt:
          type: boolean
          description: Indicates whether the account is tax exempt.
        customer_type:
          type: string
          description: Customer type (individual, corporation, government).
          enum:
            - individual
            - corporation
            - government
    AcceptedResponse:
      type: object
      properties:
        status:
          type: string
          title: Status text
          description: The status text of the response
        code:
          type: integer
          title: Status code
          description: The status code of the response
      required:
        - status
        - code
      additionalProperties: false
    Activity:
      type: object
      properties:
        id:
          type: string
          title: Activity Identifier
          description: The identifier of Activity
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Type
          description: The type of the activity
        parameters:
          type: object
          title: Parameters
          description: The parameters of the activity
        project:
          type: string
          title: Project
          description: The project the activity belongs to
        integration:
          type: string
          title: Integration
          description: The integration the activity belongs to
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments related to the activity
        state:
          type: string
          enum:
            - cancelled
            - complete
            - in_progress
            - pending
            - scheduled
            - staged
          title: State
          description: The state of the activity
        result:
          type: string
          enum:
            - failure
            - success
          nullable: true
          title: Result
          description: The result of the activity
        started_at:
          type: string
          format: date-time
          nullable: true
          title: Start date
          description: The start date of the activity
        completed_at:
          type: string
          format: date-time
          nullable: true
          title: Completion date
          description: The completion date of the activity
        completion_percent:
          type: integer
          title: Completion percentage
          description: The completion percentage of the activity
        cancelled_at:
          type: string
          format: date-time
          nullable: true
          title: Cancellation date
          description: The Cancellation date of the activity
        timings:
          type: object
          additionalProperties:
            type: number
            format: float
          title: Timings
          description: Timings related to different phases of the activity
        log:
          type: string
          title: Log
          description: The log of the activity
          deprecated: true
          x-stability: DEPRECATED
        payload:
          type: object
          title: Payload
          description: The payload of the activity
        description:
          type: string
          nullable: true
          title: Activity HTML description
          description: The description of the activity, formatted with HTML
        text:
          type: string
          nullable: true
          title: Activity text description
          description: The description of the activity, formatted as plain text
        expires_at:
          type: string
          format: date-time
          nullable: true
          title: Expiration date
          description: The date at which the activity will expire
        commands:
          type: array
          items:
            type: object
            properties:
              app:
                type: string
                title: Application
                description: ''
              type:
                type: string
                title: Type
                description: ''
              exit_code:
                type: integer
                title: Exit status code
                description: ''
            required:
              - app
              - type
              - exit_code
            additionalProperties: false
          title: Commands
          description: The commands of the activity
      required:
        - id
        - created_at
        - updated_at
        - type
        - parameters
        - project
        - state
        - result
        - started_at
        - completed_at
        - completion_percent
        - cancelled_at
        - timings
        - log
        - payload
        - description
        - text
        - expires_at
        - commands
      additionalProperties: false
    ActivityCollection:
      type: array
      items:
        $ref: '#/components/schemas/Activity'
    Backup:
      type: object
      properties:
        id:
          type: string
          title: Backup Identifier
          description: The identifier of Backup
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        status:
          type: string
          enum:
            - CREATED
            - DELETING
          title: Status
          description: The status of the backup
        expires_at:
          type: string
          format: date-time
          nullable: true
          title: Expires At
          description: Expiration date of the backup
        index:
          type: integer
          nullable: true
          title: Index
          description: The index of this automated backup
        commit_id:
          type: string
          title: Commit ID
          description: The ID of the code commit attached to the backup
        environment:
          type: string
          title: Environment
          description: The environment the backup belongs to
        safe:
          type: boolean
          title: Safe
          description: Whether this backup was taken in a safe way
        size_of_volumes:
          type: integer
          nullable: true
          title: Size of volumes
          description: Total size of volumes backed up
        size_used:
          type: integer
          nullable: true
          title: Size used
          description: Total size of space used on volumes backed up
        deployment:
          type: string
          nullable: true
          title: Deployment
          description: The current deployment at the time of backup
        restorable:
          type: boolean
          title: Is restorable
          description: Whether the backup is restorable
        automated:
          type: boolean
          title: Is automated
          description: Whether the backup is automated
      required:
        - id
        - created_at
        - updated_at
        - attributes
        - status
        - expires_at
        - index
        - commit_id
        - environment
        - safe
        - size_of_volumes
        - size_used
        - deployment
        - restorable
        - automated
      additionalProperties: false
    BackupCollection:
      type: array
      items:
        $ref: '#/components/schemas/Backup'
    BackupCreateInput:
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
      additionalProperties: false
    BitbucketIntegration:
      type: object
      properties:
        id:
          type: string
          title: BitbucketIntegration Identifier
          description: The identifier of BitbucketIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        app_credentials:
          type: object
          properties:
            key:
              type: string
              title: OAuth consumer key.
              description: The OAuth consumer key.
          required:
            - key
          additionalProperties: false
          nullable: true
          title: OAuth2 consumer
          description: The OAuth2 consumer information (optional).
        addon_credentials:
          type: object
          properties:
            addon_key:
              type: string
              title: Addon key
              description: The addon key (public identifier).
            client_key:
              type: string
              title: Client key
              description: The client key (public identifier).
          required:
            - addon_key
            - client_key
          additionalProperties: false
          nullable: true
          title: Addon credential
          description: The addon credential information (optional).
        repository:
          type: string
          title: Bitbucket repository
          description: The Bitbucket repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build pull requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone parent data
          description: Whether or not to clone parent data when building merge requests.
        resync_pull_requests:
          type: boolean
          title: Sync environment data
          description: Whether or not pull request environment data should be re-synced on every build.
      required:
        - created_at
        - updated_at
        - type
        - fetch_branches
        - prune_branches
        - environment_init_resources
        - repository
        - build_pull_requests
        - pull_requests_clone_parent_data
        - resync_pull_requests
      additionalProperties: false
    BitbucketIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        app_credentials:
          type: object
          properties:
            key:
              type: string
              title: OAuth consumer key.
              description: The OAuth consumer key.
            secret:
              type: string
              title: OAuth consumer secret.
              description: The OAuth consumer secret.
          required:
            - key
            - secret
          additionalProperties: false
          nullable: true
          title: OAuth2 consumer
          description: The OAuth2 consumer information (optional).
        addon_credentials:
          type: object
          properties:
            addon_key:
              type: string
              title: Addon key
              description: The addon key (public identifier).
            client_key:
              type: string
              title: Client key
              description: The client key (public identifier).
            shared_secret:
              type: string
              title: Client secret
              description: The secret of the client.
          required:
            - addon_key
            - client_key
            - shared_secret
          additionalProperties: false
          nullable: true
          title: Addon credential
          description: The addon credential information (optional).
        repository:
          type: string
          title: Bitbucket repository
          description: The Bitbucket repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build pull requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone parent data
          description: Whether or not to clone parent data when building merge requests.
        resync_pull_requests:
          type: boolean
          title: Sync environment data
          description: Whether or not pull request environment data should be re-synced on every build.
      required:
        - type
        - repository
      additionalProperties: false
    BitbucketIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        app_credentials:
          type: object
          properties:
            key:
              type: string
              title: OAuth consumer key.
              description: The OAuth consumer key.
            secret:
              type: string
              title: OAuth consumer secret.
              description: The OAuth consumer secret.
          required:
            - key
            - secret
          additionalProperties: false
          nullable: true
          title: OAuth2 consumer
          description: The OAuth2 consumer information (optional).
        addon_credentials:
          type: object
          properties:
            addon_key:
              type: string
              title: Addon key
              description: The addon key (public identifier).
            client_key:
              type: string
              title: Client key
              description: The client key (public identifier).
            shared_secret:
              type: string
              title: Client secret
              description: The secret of the client.
          required:
            - addon_key
            - client_key
            - shared_secret
          additionalProperties: false
          nullable: true
          title: Addon credential
          description: The addon credential information (optional).
        repository:
          type: string
          title: Bitbucket repository
          description: The Bitbucket repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build pull requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone parent data
          description: Whether or not to clone parent data when building merge requests.
        resync_pull_requests:
          type: boolean
          title: Sync environment data
          description: Whether or not pull request environment data should be re-synced on every build.
      required:
        - type
        - repository
      additionalProperties: false
    BitbucketServerIntegration:
      type: object
      properties:
        id:
          type: string
          title: BitbucketServerIntegration Identifier
          description: The identifier of BitbucketServerIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        url:
          type: string
          title: URL
          description: The base URL of the Bitbucket Server installation.
        username:
          type: string
          title: Username
          description: The Bitbucket Server user.
        project:
          type: string
          title: Project
          description: The Bitbucket Server project
        repository:
          type: string
          title: Repository
          description: The Bitbucket Server repository
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - created_at
        - updated_at
        - type
        - fetch_branches
        - prune_branches
        - environment_init_resources
        - url
        - username
        - project
        - repository
        - build_pull_requests
        - pull_requests_clone_parent_data
      additionalProperties: false
    BitbucketServerIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        url:
          type: string
          title: URL
          description: The base URL of the Bitbucket Server installation.
        username:
          type: string
          title: Username
          description: The Bitbucket Server user.
        token:
          type: string
          title: Token
          description: The Bitbucket Server personal access token.
        project:
          type: string
          title: Project
          description: The Bitbucket Server project
        repository:
          type: string
          title: Repository
          description: The Bitbucket Server repository
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - type
        - url
        - username
        - token
        - project
        - repository
      additionalProperties: false
    BitbucketServerIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        url:
          type: string
          title: URL
          description: The base URL of the Bitbucket Server installation.
        username:
          type: string
          title: Username
          description: The Bitbucket Server user.
        token:
          type: string
          title: Token
          description: The Bitbucket Server personal access token.
        project:
          type: string
          title: Project
          description: The Bitbucket Server project
        repository:
          type: string
          title: Repository
          description: The Bitbucket Server repository
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - type
        - url
        - username
        - token
        - project
        - repository
      additionalProperties: false
    BlackfireIntegration:
      type: object
      properties:
        id:
          type: string
          title: BlackfireIntegration Identifier
          description: The identifier of BlackfireIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        environments_credentials:
          type: object
          additionalProperties:
            type: object
            properties:
              server_uuid:
                type: string
                title: Server UUID
                description: The environment server UUID
              server_token:
                type: string
                title: Server Token
                description: Environment server token
            required:
              - server_uuid
              - server_token
            additionalProperties: false
          title: Environments Credentials
          description: Blackfire environments credentials
        continuous_profiling:
          type: boolean
          title: Continuous Profiling
          description: Whether continuous profiling is enabled for the project
      required:
        - created_at
        - updated_at
        - type
        - environments_credentials
        - continuous_profiling
      additionalProperties: false
    BlackfireIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
      required:
        - type
      additionalProperties: false
    BlackfireIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
      required:
        - type
      additionalProperties: false
    Blob:
      type: object
      properties:
        id:
          type: string
          title: Blob Identifier
          description: The identifier of Blob
        sha:
          type: string
          title: SHA
          description: The identifier of the tag
        size:
          type: integer
          title: Size
          description: The size of the blob
        encoding:
          type: string
          enum:
            - base64
            - utf-8
          title: Encoding
          description: The encoding of the contents
        content:
          type: string
          title: Content
          description: The contents
      required:
        - id
        - sha
        - size
        - encoding
        - content
      additionalProperties: false
    BlobCollection:
      type: array
      items:
        $ref: '#/components/schemas/Blob'
    BlobCreateInput:
      type: object
      properties:
        encoding:
          type: string
          enum:
            - base64
            - utf-8
          title: Encoding
          description: The encoding of the contents
        content:
          type: string
          title: Content
          description: The contents
      required:
        - content
      additionalProperties: false
    Certificate:
      type: object
      properties:
        id:
          type: string
          title: Certificate Identifier
          description: The identifier of Certificate
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        certificate:
          type: string
          title: Certificate
          description: The PEM-encoded certificate
        chain:
          type: array
          items:
            type: string
          title: Certificate chain
          description: The certificate chain
        is_provisioned:
          type: boolean
          title: Is Provisioned
          description: Whether this certificate is automatically provisioned
        is_invalid:
          type: boolean
          title: Is Invalid
          description: Whether this certificate should be skipped during provisioning
        is_root:
          type: boolean
          title: Is Root
          description: Whether this certificate is root type
        domains:
          type: array
          items:
            type: string
          title: Domains
          description: The domains covered by this certificate
        auth_type:
          type: array
          items:
            type: string
          title: Authentication Type
          description: The type of authentication the certificate supports
        issuer:
          type: array
          items:
            type: object
            properties:
              oid:
                type: string
                title: OID
                description: The OID of the attribute
              alias:
                type: string
                nullable: true
                title: Alias
                description: The alias of the attribute, if known
              value:
                type: string
                title: Value
                description: The value
            required:
              - oid
              - alias
              - value
            additionalProperties: false
          title: Issuer
          description: The issuer of the certificate
        expires_at:
          type: string
          format: date-time
          title: Expiration date
          description: Expiration date
      required:
        - id
        - created_at
        - updated_at
        - certificate
        - chain
        - is_provisioned
        - is_invalid
        - is_root
        - domains
        - auth_type
        - issuer
        - expires_at
      additionalProperties: false
    CertificateCollection:
      type: array
      items:
        $ref: '#/components/schemas/Certificate'
    CertificateCreateInput:
      type: object
      properties:
        certificate:
          type: string
          title: Certificate
          description: The PEM-encoded certificate
        key:
          type: string
          title: Private Key
          description: The PEM-encoded private key
        chain:
          type: array
          items:
            type: string
          title: Certificate chain
          description: The certificate chain
        is_invalid:
          type: boolean
          title: Is Invalid
          description: Whether this certificate should be skipped during provisioning
      required:
        - certificate
        - key
      additionalProperties: false
    CertificatePatch:
      type: object
      properties:
        chain:
          type: array
          items:
            type: string
          title: Certificate chain
          description: The certificate chain
        is_invalid:
          type: boolean
          title: Is Invalid
          description: Whether this certificate should be skipped during provisioning
      additionalProperties: false
    CertificateProvisioner:
      type: object
      properties:
        id:
          type: string
          title: CertificateProvisioner Identifier
          description: The identifier of CertificateProvisioner
        directory_url:
          type: string
          title: ACME directory url
          description: The URL to the ACME directory
        email:
          type: string
          title: Contacted email address
          description: The email address for contact information
        eab_kid:
          type: string
          nullable: true
          title: EAB Key identifier
          description: The key identifier for Entity Attestation Binding
        eab_hmac_key:
          type: string
          nullable: true
          title: EAB HMAC Key
          description: The Keyed-'Hashing Message Authentication Code' for Entity Attestation Binding
      required:
        - id
        - directory_url
        - email
        - eab_kid
        - eab_hmac_key
      additionalProperties: false
    CertificateProvisionerCollection:
      type: array
      items:
        $ref: '#/components/schemas/CertificateProvisioner'
    CertificateProvisionerPatch:
      type: object
      properties:
        directory_url:
          type: string
          title: ACME directory url
          description: The URL to the ACME directory
        email:
          type: string
          title: Contacted email address
          description: The email address for contact information
        eab_kid:
          type: string
          nullable: true
          title: EAB Key identifier
          description: The key identifier for Entity Attestation Binding
        eab_hmac_key:
          type: string
          nullable: true
          title: EAB HMAC Key
          description: The Keyed-'Hashing Message Authentication Code' for Entity Attestation Binding
      additionalProperties: false
    ChorusSettings:
      type: object
      properties:
        enabled:
          type: boolean
          title: Enabled
          description: Enable chorus service for collecting metrics.
        exposed:
          type: boolean
          title: Exposed
          description: Expose metrics endpoint via API links.
      required:
        - enabled
        - exposed
      additionalProperties: false
    ChorusSettingsPatch:
      type: object
      additionalProperties: false
    Commit:
      type: object
      properties:
        id:
          type: string
          title: Commit Identifier
          description: The identifier of Commit
        sha:
          type: string
          title: SHA
          description: The identifier of the commit
        author:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Author
          description: The information about the author
        committer:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Committer
          description: The information about the committer
        message:
          type: string
          title: Message
          description: The commit message
        tree:
          type: string
          title: Tree identifier
          description: The identifier of the tree
        parents:
          type: array
          items:
            type: string
          title: Parent identifiers
          description: The identifiers of the parents of the commit
      required:
        - id
        - sha
        - author
        - committer
        - message
        - tree
        - parents
      additionalProperties: false
    CommitCollection:
      type: array
      items:
        $ref: '#/components/schemas/Commit'
    CommitCreateInput:
      type: object
      properties:
        author:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Author
          description: The information about the author
        committer:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Committer
          description: The information about the committer
        message:
          type: string
          title: Message
          description: The commit message
        tree:
          type: string
          title: Tree identifier
          description: The identifier of the tree
        parents:
          type: array
          items:
            type: string
          title: Parent identifiers
          description: The identifiers of the parents of the commit
      required:
        - message
        - tree
        - parents
      additionalProperties: false
    ContainerProfile:
      type: object
      properties:
        id:
          type: string
          title: ContainerProfile Identifier
          description: The identifier of ContainerProfile
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        name:
          type: string
          title: Name
          description: Container profile name
        sizes:
          type: object
          additionalProperties:
            type: object
            properties:
              cpu:
                type: number
                format: float
                title: CPU
                description: Cpu value
              memory:
                type: integer
                title: Memory
                description: Memory in MB
              cpu_type:
                type: string
                enum:
                  - guaranteed
                  - shared
                title: Type
                description: resource type
            required:
              - cpu
              - memory
              - cpu_type
            additionalProperties: false
          title: Sizes
          description: Container profile sizes
      required:
        - id
        - created_at
        - updated_at
        - name
        - sizes
      additionalProperties: false
    ContainerProfileCollection:
      type: array
      items:
        $ref: '#/components/schemas/ContainerProfile'
    ContainerProfileCreateInput:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Container profile name
        sizes:
          type: object
          additionalProperties:
            type: object
            properties:
              cpu:
                type: number
                format: float
                title: CPU
                description: Cpu value
              memory:
                type: integer
                title: Memory
                description: Memory in MB
              cpu_type:
                type: string
                enum:
                  - guaranteed
                  - shared
                title: Type
                description: resource type
            required:
              - cpu
              - memory
            additionalProperties: false
          title: Sizes
          description: Container profile sizes
      required:
        - name
        - sizes
      additionalProperties: false
    ContainerProfilePatch:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Container profile name
        sizes:
          type: object
          additionalProperties:
            type: object
            properties:
              cpu:
                type: number
                format: float
                title: CPU
                description: Cpu value
              memory:
                type: integer
                title: Memory
                description: Memory in MB
              cpu_type:
                type: string
                enum:
                  - guaranteed
                  - shared
                title: Type
                description: resource type
            required:
              - cpu
              - memory
            additionalProperties: false
          title: Sizes
          description: Container profile sizes
      additionalProperties: false
    DedicatedDeploymentTarget:
      type: object
      properties:
        id:
          type: string
          title: DedicatedDeploymentTarget Identifier
          description: The identifier of DedicatedDeploymentTarget
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        deploy_host:
          type: string
          nullable: true
          title: Host
          description: The host to deploy to.
        deploy_port:
          type: integer
          nullable: true
          title: Port
          description: The port to deploy to.
        ssh_host:
          type: string
          nullable: true
          title: SSH Host
          description: The host to use to SSH to app containers.
        hosts:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                nullable: true
                title: Host identifier
                description: The identifier of the host.
              type:
                type: string
                enum:
                  - core
                  - satellite
                title: Deployment type
                description: The type of the deployment to this host.
              services:
                type: array
                items:
                  type: string
                nullable: true
                title: Assigned services
                description: The services assigned to this host
            required:
              - id
              - type
              - services
            additionalProperties: false
          nullable: true
          title: Hosts
          description: The hosts of the deployment target.
        auto_mounts:
          type: boolean
          title: Auto Mounts
          description: Whether to take application mounts from the pushed data or the deployment target.
        excluded_mounts:
          type: array
          items:
            type: string
          title: Excluded Mounts
          description: Directories that should not be mounted
        enforced_mounts:
          type: object
          title: Enforced Mounts
          description: Mounts which are always injected into pushed (e.g. enforce /var/log to be a local mount).
        auto_crons:
          type: boolean
          title: Auto Crons
          description: Whether to take application crons from the pushed data or the deployment target.
        auto_nginx:
          type: boolean
          title: Auto Nginx
          description: Whether to take application crons from the pushed data or the deployment target.
        maintenance_mode:
          type: boolean
          title: Maintenance Mode
          description: Whether to perform deployments or not
        guardrails_phase:
          type: integer
          title: Guardrails Phase
          description: which phase of guardrails are we in
      required:
        - type
        - name
        - deploy_host
        - deploy_port
        - ssh_host
        - hosts
        - auto_mounts
        - excluded_mounts
        - enforced_mounts
        - auto_crons
        - auto_nginx
        - maintenance_mode
        - guardrails_phase
      additionalProperties: false
    DedicatedDeploymentTargetCreateInput:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        enforced_mounts:
          type: object
          title: Enforced Mounts
          description: Mounts which are always injected into pushed (e.g. enforce /var/log to be a local mount).
      required:
        - type
        - name
      additionalProperties: false
    DedicatedDeploymentTargetPatch:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        enforced_mounts:
          type: object
          title: Enforced Mounts
          description: Mounts which are always injected into pushed (e.g. enforce /var/log to be a local mount).
      required:
        - type
        - name
      additionalProperties: false
    Deployment:
      type: object
      properties:
        id:
          type: string
          title: Deployment Identifier
          description: The identifier of Deployment
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date of the deployment
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date of the deployment
        fingerprint:
          type: string
          title: Deployment fingerprint
          description: The fingerprint of the deployment
        cluster_name:
          type: string
          title: Cluster name
          description: The name of the cluster
        project_info:
          type: object
          properties:
            title:
              type: string
              title: Title
              description: ''
            name:
              type: string
              title: Name
              description: ''
            namespace:
              type: string
              nullable: true
              title: Namespace
              description: ''
            organization:
              type: string
              nullable: true
              title: Organization
              description: ''
            capabilities:
              type: object
              title: Capabilities
              description: ''
            settings:
              type: object
              title: Settings
              description: ''
          required:
            - title
            - name
            - namespace
            - organization
            - capabilities
            - settings
          additionalProperties: false
          title: Project info
          description: The project information
        environment_info:
          type: object
          properties:
            name:
              type: string
              title: Environment name
              description: The machine name of the environment
            status:
              type: string
              title: Environment status
              description: The enviroment status
            is_main:
              type: boolean
              title: Is main environment
              description: Is this environment the main environment
            is_production:
              type: boolean
              title: Is production environment
              description: Is this environment a production environment
            constraints:
              type: object
              title: Environment constraints
              description: Constraints of the environment's deployment
            reference:
              type: string
              title: Git reference
              description: The reference in Git for this environment
            machine_name:
              type: string
              title: Machine name
              description: The machine name of the environment
            environment_type:
              type: string
              title: Environment type
              description: The type of environment (Production, Staging or Development)
            links:
              type: object
              title: Links
              description: ''
          required:
            - name
            - status
            - is_main
            - is_production
            - constraints
            - reference
            - machine_name
            - environment_type
            - links
          additionalProperties: false
          title: Environment info
          description: The environment information
        deployment_target:
          type: string
          title: Deployment target
          description: The deployment target
        vpn:
          type: object
          properties:
            version:
              type: integer
              enum:
                - 1
                - 2
              title: IKE Version
              description: The IKE version to use (1 or 2)
            aggressive:
              type: string
              enum:
                - 'no'
                - 'yes'
              title: Aggressive Mode
              description: Whether to use IKEv1 Aggressive or Main Mode
            modeconfig:
              type: string
              enum:
                - pull
                - push
              title: Mode Config
              description: Defines which mode is used to assign a virtual IP (must be the same on both sides)
            authentication:
              type: string
              title: Authentication scheme
              description: The authentication scheme
            gateway_ip:
              type: string
              title: Remote gateway IP
              description: ''
            identity:
              type: string
              nullable: true
              title: Identity
              description: The identity of the ipsec participant
            second_identity:
              type: string
              nullable: true
              title: Second Identity
              description: The second identity of the ipsec participant
            remote_identity:
              type: string
              nullable: true
              title: Remote Identity
              description: The identity of the remote ipsec participant
            remote_subnets:
              type: array
              items:
                type: string
              title: Remote Subnets
              description: Remote subnets (CIDR notation)
            ike:
              type: string
              title: IKE algorithms
              description: The IKE algorithms to negotiate for this VPN connection.
            esp:
              type: string
              title: ESP algorithms
              description: The ESP algorithms to negotiate for this VPN connection.
            ikelifetime:
              type: string
              title: IKE Lifetime
              description: The lifetime of the IKE exchange.
            lifetime:
              type: string
              title: ESP Lifetime
              description: The lifetime of the ESP exchange.
            margintime:
              type: string
              title: Margin Time
              description: The margin time for re-keying.
          required:
            - version
            - aggressive
            - modeconfig
            - authentication
            - gateway_ip
            - identity
            - second_identity
            - remote_identity
            - remote_subnets
            - ike
            - esp
            - ikelifetime
            - lifetime
            - margintime
          additionalProperties: false
          nullable: true
          title: VPN configuration
          description: The configuration of the VPN
        http_access:
          type: object
          properties:
            is_enabled:
              type: boolean
              title: Is enabled
              description: Whether http_access control is enabled
            addresses:
              type: array
              items:
                type: object
                properties:
                  permission:
                    type: string
                    enum:
                      - allow
                      - deny
                    title: Permission
                    description: ''
                  address:
                    type: string
                    title: Address
                    description: IP address or CIDR
                required:
                  - permission
                  - address
                additionalProperties: false
              title: Address grants
              description: ''
            basic_auth:
              type: object
              additionalProperties:
                type: string
              title: Basic auth grants
              description: ''
          required:
            - is_enabled
            - addresses
            - basic_auth
          additionalProperties: false
          title: HTTP access permissions
          description: The permissions of the HTTP access
        enable_smtp:
          type: boolean
          title: Enable SMTP
          description: Whether to configure SMTP for this environment
        restrict_robots:
          type: boolean
          title: Restrict robots
          description: Whether to restrict robots for this environment
        variables:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                title: Variable name
                description: Name of the variable
              value:
                type: string
                title: Variable value
                description: Value of the variable
              is_sensitive:
                type: boolean
                title: Is sensitive
                description: The variable is sensitive
              is_json:
                type: boolean
                title: Is JSON
                description: The variable is a JSON string
              visible_build:
                type: boolean
                title: Visible at build time
                description: The variable is visible during build
              visible_runtime:
                type: boolean
                title: Visible at runtime
                description: The variable is visible at runtime
            required:
              - name
              - is_sensitive
              - is_json
              - visible_build
              - visible_runtime
            additionalProperties: false
          title: Environment variables
          description: The variables applying to this environment
        access:
          type: array
          items:
            type: object
            properties:
              entity_id:
                type: string
                title: Entity ID
                description: ''
              role:
                type: string
                enum:
                  - admin
                  - contributor
                  - viewer
                title: Role
                description: ''
            required:
              - entity_id
              - role
            additionalProperties: false
          title: Access control
          description: Access control definition for this enviroment
        subscription:
          type: object
          properties:
            license_uri:
              type: string
              title: Subscription URI
              description: URI of the subscription
            plan:
              type: string
              enum:
                - 2xlarge
                - 2xlarge-high-memory
                - 4xlarge
                - 8xlarge
                - development
                - large
                - large-high-memory
                - medium
                - medium-high-memory
                - standard
                - standard-high-memory
                - xlarge
                - xlarge-high-memory
              title: Plan level
              description: ''
            environments:
              type: integer
              title: Environments number
              description: Number of environments
            storage:
              type: integer
              title: Storage
              description: Size of storage (in MB)
            included_users:
              type: integer
              title: Included users
              description: Number of users
            subscription_management_uri:
              type: string
              title: Subscription management URI
              description: URI for managing the subscription
            restricted:
              type: boolean
              title: Is subscription attributes frozen
              description: True if subscription attributes, like number of users, are frozen
            suspended:
              type: boolean
              title: Is subscription suspended
              description: Whether or not the subscription is suspended
            user_licenses:
              type: integer
              title: Current number of users
              description: Current number of users
            resources:
              type: object
              properties:
                container_profiles:
                  type: boolean
                  title: Is Container profiles enabled
                  description: Enable support for customizable container profiles.
                production:
                  type: object
                  properties:
                    legacy_development:
                      type: boolean
                      title: Legacy development sizing
                      description: Enable legacy development sizing for this environment type.
                    max_cpu:
                      type: number
                      format: float
                      nullable: true
                      title: Maximum CPU units
                      description: Maximum number of allocated CPU units.
                    max_memory:
                      type: integer
                      nullable: true
                      title: Maximum RAM
                      description: Maximum amount of allocated RAM.
                    max_environments:
                      type: integer
                      nullable: true
                      title: Maximum environments
                      description: Maximum number of environments
                  required:
                    - legacy_development
                    - max_cpu
                    - max_memory
                    - max_environments
                  additionalProperties: false
                  title: Production resources
                  description: Resources for production environments
                development:
                  type: object
                  properties:
                    legacy_development:
                      type: boolean
                      title: Legacy development sizing
                      description: Enable legacy development sizing for this environment type.
                    max_cpu:
                      type: number
                      format: float
                      nullable: true
                      title: Maximum CPU units
                      description: Maximum number of allocated CPU units.
                    max_memory:
                      type: integer
                      nullable: true
                      title: Maximum RAM
                      description: Maximum amount of allocated RAM.
                    max_environments:
                      type: integer
                      nullable: true
                      title: Maximum environments
                      description: Maximum number of environments
                  required:
                    - legacy_development
                    - max_cpu
                    - max_memory
                    - max_environments
                  additionalProperties: false
                  title: Development resources
                  description: Resources for development environments
              required:
                - container_profiles
                - production
                - development
              additionalProperties: false
              title: Resources limits
              description: Resources limits
            resource_validation_url:
              type: string
              title: Resource validation URL
              description: URL for resources validation
            image_types:
              type: object
              properties:
                only:
                  type: array
                  items:
                    type: string
                  title: Allowed image types
                  description: Image types to be allowed use.
                exclude:
                  type: array
                  items:
                    type: string
                  title: Denied image types
                  description: Image types to be denied use.
              additionalProperties: false
              title: Image type restrictions
              description: Restricted and denied image types
          required:
            - license_uri
            - storage
            - included_users
            - subscription_management_uri
            - restricted
            - suspended
            - user_licenses
          additionalProperties: false
          title: Subscription
          description: Subscription
        services:
          type: object
          additionalProperties:
            type: object
            properties:
              type:
                type: string
                title: Service type
                description: The service type.
              size:
                type: string
                enum:
                  - 2XL
                  - 4XL
                  - AUTO
                  - L
                  - M
                  - S
                  - XL
                title: Service size
                description: The service size.
              disk:
                type: integer
                nullable: true
                title: The size of the disk.
                description: ''
              access:
                type: object
                title: Access configuration
                description: The configuration of the service.
              configuration:
                type: object
                title: Service configuration
                description: The configuration of the service.
              relationships:
                type: object
                additionalProperties:
                  type: string
                title: Service relationships
                description: The relationships of the service to other services.
              firewall:
                type: object
                properties:
                  outbound:
                    type: array
                    items:
                      type: object
                      properties:
                        protocol:
                          type: string
                          enum:
                            - tcp
                          title: IP Protocol
                          description: The IP protocol to apply the restriction on.
                        ips:
                          type: array
                          items:
                            type: string
                          title: IP Ranges
                          description: The IP range in CIDR notation to apply the restriction on.
                        domains:
                          type: array
                          items:
                            type: string
                          title: Domains
                          description: Domains of the restriction.
                        ports:
                          type: array
                          items:
                            type: integer
                          title: Ports
                          description: The port to apply the restriction on.
                      required:
                        - protocol
                        - ips
                        - domains
                        - ports
                      additionalProperties: false
                    title: Outbound Firewall Restrictions
                    description: Outbound firewall restrictions
                required:
                  - outbound
                additionalProperties: false
                nullable: true
                title: Firewall
                description: ''
              resources:
                type: object
                properties:
                  base_memory:
                    type: integer
                    nullable: true
                    title: Base memory
                    description: The base memory for the container
                  memory_ratio:
                    type: integer
                    nullable: true
                    title: Memory ratio
                    description: The amount of memory to allocate per units of CPU
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Selected size from container profile
                  minimum:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Minimum resources
                    description: The minimum resources for this service
                  default:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Default resources
                    description: The default resources for this service
                  disk:
                    type: object
                    properties:
                      temporary:
                        type: integer
                        nullable: true
                        title: Temporary
                        description: ''
                      instance:
                        type: integer
                        nullable: true
                        title: Instance
                        description: ''
                      storage:
                        type: integer
                        nullable: true
                        title: Storage
                        description: ''
                    required:
                      - temporary
                      - instance
                      - storage
                    additionalProperties: false
                    nullable: true
                    title: Disk resources
                    description: The disks resources
                required:
                  - base_memory
                  - memory_ratio
                  - profile_size
                  - minimum
                  - default
                  - disk
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              container_profile:
                type: string
                nullable: true
                title: Container profile
                description: Selected container profile for the service
              endpoints:
                type: object
                nullable: true
                title: Endpoints
                description: ''
              instance_count:
                type: integer
                nullable: true
                title: Instance count
                description: Instance replication count of this service
            required:
              - type
              - size
              - disk
              - access
              - configuration
              - relationships
              - firewall
              - resources
              - container_profile
              - endpoints
              - instance_count
            additionalProperties: false
          title: Services
          description: The services
        routes:
          type: object
          additionalProperties:
            oneOf:
              - $ref: '#/components/schemas/ProxyRoute'
              - $ref: '#/components/schemas/RedirectRoute'
              - $ref: '#/components/schemas/UpstreamRoute'
          title: Routes
          description: The routes
        webapps:
          type: object
          additionalProperties:
            type: object
            properties:
              resources:
                type: object
                properties:
                  base_memory:
                    type: integer
                    nullable: true
                    title: Base memory
                    description: The base memory for the container
                  memory_ratio:
                    type: integer
                    nullable: true
                    title: Memory ratio
                    description: The amount of memory to allocate per units of CPU
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Selected size from container profile
                  minimum:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Minimum resources
                    description: The minimum resources for this service
                  default:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Default resources
                    description: The default resources for this service
                  disk:
                    type: object
                    properties:
                      temporary:
                        type: integer
                        nullable: true
                        title: Temporary
                        description: ''
                      instance:
                        type: integer
                        nullable: true
                        title: Instance
                        description: ''
                      storage:
                        type: integer
                        nullable: true
                        title: Storage
                        description: ''
                    required:
                      - temporary
                      - instance
                      - storage
                    additionalProperties: false
                    nullable: true
                    title: Disk resources
                    description: The disks resources
                required:
                  - base_memory
                  - memory_ratio
                  - profile_size
                  - minimum
                  - default
                  - disk
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              size:
                type: string
                enum:
                  - 2XL
                  - 4XL
                  - AUTO
                  - L
                  - M
                  - S
                  - XL
                  - XS
                title: Container Size
                description: The container size for this application in production. Leave blank to allow it to be set dynamically.
              disk:
                type: integer
                nullable: true
                title: Disk size
                description: The size of the disk.
              access:
                type: object
                additionalProperties:
                  type: string
                  enum:
                    - admin
                    - contributor
                    - viewer
                title: Access Information
                description: Access information, a mapping between access type and roles.
              relationships:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    service:
                      type: string
                      nullable: true
                      title: Service Name
                      description: The name of the service.
                    endpoint:
                      type: string
                      nullable: true
                      title: Endpoint Name
                      description: The name of the endpoint on the service.
                  required:
                    - service
                    - endpoint
                  additionalProperties: false
                  nullable: true
                title: Service Relationships
                description: The relationships of the application to defined services.
              additional_hosts:
                type: object
                additionalProperties:
                  type: string
                title: Additional hosts
                description: A mapping of hostname to ip address to be added to the container's hosts file
              mounts:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    source:
                      type: string
                      enum:
                        - instance
                        - local
                        - service
                        - storage
                        - temporary
                        - tmp
                      title: Mount type
                      description: The type of mount that will provide the data.
                    source_path:
                      type: string
                      title: Source Path
                      description: The path to be mounted, relative to the root directory of the volume that's being mounted from.
                    service:
                      type: string
                      nullable: true
                      title: Service Name
                      description: The name of the service that the volume will be mounted from. Must be a service in `services.yaml` of type `network-storage`.
                  required:
                    - source
                    - source_path
                  additionalProperties: false
                title: Mounts
                description: Filesystem mounts of this application.  If not specified the application will have no writeable disk space.
              timezone:
                type: string
                nullable: true
                title: Timezone
                description: The timezone of the application.  This primarily affects the timezone in which cron tasks will run.  It will not affect the application itself. Defaults to UTC if not specified.
              variables:
                type: object
                additionalProperties:
                  type: object
                  additionalProperties: {}
                title: Environment Variables
                description: Variables provide environment-sensitive information to control how your application behaves.  To set a Unix environment variable, specify a key of `env:`, and then each sub-item of that is a key/value pair that will be injected into the environment.
              firewall:
                type: object
                properties:
                  outbound:
                    type: array
                    items:
                      type: object
                      properties:
                        protocol:
                          type: string
                          enum:
                            - tcp
                          title: IP Protocol
                          description: The IP protocol to apply the restriction on.
                        ips:
                          type: array
                          items:
                            type: string
                          title: IP Ranges
                          description: The IP range in CIDR notation to apply the restriction on.
                        domains:
                          type: array
                          items:
                            type: string
                          title: Domains
                          description: Domains of the restriction.
                        ports:
                          type: array
                          items:
                            type: integer
                          title: Ports
                          description: The port to apply the restriction on.
                      required:
                        - protocol
                        - ips
                        - domains
                        - ports
                      additionalProperties: false
                    title: Outbound Firewall Restrictions
                    description: Outbound firewall restrictions
                required:
                  - outbound
                additionalProperties: false
                nullable: true
                title: Firewall
                description: ''
              container_profile:
                type: string
                nullable: true
                title: Container Profile
                description: Selected container profile for the application
              operations:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    commands:
                      type: object
                      properties:
                        start:
                          type: string
                          title: Start Command
                          description: The command used to start the operation.
                        stop:
                          type: string
                          nullable: true
                          title: Stop Command
                          description: The command used to stop the operation.
                      required:
                        - start
                      additionalProperties: false
                      title: Commands
                      description: The commands definition.
                    timeout:
                      type: integer
                      nullable: true
                      title: Timeout
                      description: The maximum timeout in seconds after which the operation will be forcefully killed.
                    role:
                      type: string
                      enum:
                        - admin
                        - contributor
                        - viewer
                      title: Role
                      description: The minimum role necessary to trigger this operation.
                  required:
                    - commands
                    - timeout
                    - role
                  additionalProperties: false
                title: Operations
                description: Operations that can be triggered on this application
              name:
                type: string
                title: Application Name
                description: The name of the application. Must be unique within a project.
              type:
                type: string
                title: Type
                description: The base runtime and version to use for this worker.
              preflight:
                type: object
                properties:
                  enabled:
                    type: boolean
                    title: Enable Preflight Security Blocks
                    description: Whether the preflight security blocks are enabled.
                  ignored_rules:
                    type: array
                    items:
                      type: string
                    title: Ignored Rules
                    description: Specific rules to ignore during preflight security checks. See the documentation for options.
                required:
                  - enabled
                  - ignored_rules
                additionalProperties: false
                title: Preflight Checks
                description: Configuration for pre-flight checks.
              tree_id:
                type: string
                title: Source Tree ID
                description: The identifier of the source tree of the application
              app_dir:
                type: string
                title: Application Directory
                description: The path of the application in the container
              endpoints:
                type: object
                nullable: true
                title: Endpoints
                description: ''
              runtime:
                type: object
                title: Runtime Configuration
                description: Runtime-specific configuration.
              web:
                type: object
                properties:
                  locations:
                    type: object
                    additionalProperties:
                      type: object
                      properties:
                        root:
                          type: string
                          nullable: true
                          title: Document Root
                          description: The folder from which to serve static assets for this location relative to the application root.
                        expires:
                          type: string
                          title: Expires
                          description: Amount of time to cache static assets.
                        passthru:
                          type: string
                          title: Passthru
                          description: Whether to forward disallowed and missing resources from this location to the application. On PHP, set to the PHP front controller script, as a URL fragment. Otherwise set to `true`/`false`.
                        scripts:
                          type: boolean
                          title: Scripts
                          description: Whether to execute scripts in this location (for script based runtimes).
                        index:
                          type: array
                          items:
                            type: string
                          nullable: true
                          title: Index Files
                          description: Files to look for to serve directories.
                        allow:
                          type: boolean
                          title: Allow access
                          description: Whether to allow access to this location by default.
                        headers:
                          type: object
                          additionalProperties:
                            type: string
                          title: Headers
                          description: A set of header fields set to the HTTP response. Applies only to static files, not responses from the application.
                        rules:
                          type: object
                          additionalProperties:
                            type: object
                            properties:
                              expires:
                                type: string
                                nullable: true
                                title: Expires
                                description: Amount of time to cache static assets.
                              passthru:
                                type: string
                                title: Passthru
                                description: Whether to forward disallowed and missing resources from this location to the application. On PHP, set to the PHP front controller script, as a URL fragment. Otherwise set to `true`/`false`.
                              scripts:
                                type: boolean
                                title: Scripts
                                description: Whether to execute scripts in this location (for script based runtimes).
                              allow:
                                type: boolean
                                title: Allow access
                                description: Whether to allow access to this location by default.
                              headers:
                                type: object
                                additionalProperties:
                                  type: string
                                title: Headers
                                description: A set of header fields set to the HTTP response. Replaces headers set on the location block.
                            additionalProperties: false
                          title: Specific overrides
                          description: Specific overrides.
                        request_buffering:
                          type: object
                          properties:
                            enabled:
                              type: boolean
                              title: Enable Request Buffering
                              description: Enable request buffering.
                            max_request_size:
                              type: string
                              nullable: true
                              title: Maximum request size
                              description: The maximum size request that can be buffered. Supports K, M, and G suffixes.
                          required:
                            - enabled
                            - max_request_size
                          additionalProperties: false
                          title: Request Buffering
                          description: Configuration for supporting request buffering.
                      required:
                        - root
                        - expires
                        - passthru
                        - scripts
                        - allow
                        - headers
                        - rules
                      additionalProperties: false
                    title: Web Locations
                    description: The specification of the web locations served by this application.
                  commands:
                    type: object
                    properties:
                      pre_start:
                        type: string
                        nullable: true
                        title: Pre-start Command
                        description: A command executed before the application is started
                      start:
                        type: string
                        nullable: true
                        title: Start Command
                        description: The command used to start the application.  It will be restarted if it terminates. Do not use on PHP unless using a custom persistent process like React PHP.
                      post_start:
                        type: string
                        nullable: true
                        title: Post-start Command
                        description: A command executed after the application is started
                    additionalProperties: false
                    title: Commands
                    description: Commands to manage the application's lifecycle.
                  upstream:
                    type: object
                    properties:
                      socket_family:
                        type: string
                        enum:
                          - tcp
                          - unix
                        title: Socket Family
                        description: If `tcp`, check the PORT environment variable on application startup. If `unix`, check SOCKET.
                      protocol:
                        type: string
                        enum:
                          - fastcgi
                          - http
                        nullable: true
                        title: Protocol
                        description: ''
                    required:
                      - socket_family
                      - protocol
                    additionalProperties: false
                    title: Upstream Configuration
                    description: Configuration on how the web server communicates with the application.
                  document_root:
                    type: string
                    nullable: true
                    title: Document Root
                    description: The document root of this application, relative to its root.
                  passthru:
                    type: string
                    nullable: true
                    title: Passthru
                    description: The URL to use as a passthru if a file doesn't match the whitelist.
                  index_files:
                    type: array
                    items:
                      type: string
                    nullable: true
                    title: Index Files
                    description: Files to look for to serve directories.
                  whitelist:
                    type: array
                    items:
                      type: string
                    nullable: true
                    title: Whitelisted entries
                    description: Whitelisted entries.
                  blacklist:
                    type: array
                    items:
                      type: string
                    nullable: true
                    title: Blacklisted entries
                    description: Blacklisted entries.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: Amount of time to cache static assets.
                  move_to_root:
                    type: boolean
                    title: Move to root
                    description: Whether to move the whole root of the app to the document root.
                required:
                  - locations
                  - move_to_root
                additionalProperties: false
                title: Web Configuration
                description: Configuration for accessing this application via HTTP.
              hooks:
                type: object
                properties:
                  build:
                    type: string
                    nullable: true
                    title: Build Hook
                    description: Hook executed after the build process.
                  deploy:
                    type: string
                    nullable: true
                    title: Deploy Hook
                    description: Hook executed after the deployment of new code.
                  post_deploy:
                    type: string
                    nullable: true
                    title: Post-deploy Hook
                    description: Hook executed after an environment is fully deployed.
                required:
                  - build
                  - deploy
                  - post_deploy
                additionalProperties: false
                title: Hooks
                description: Hooks executed at various point in the lifecycle of the application.
              crons:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    spec:
                      type: string
                      title: Specification
                      description: The cron schedule specification.
                    commands:
                      type: object
                      properties:
                        start:
                          type: string
                          title: Start Command
                          description: The command used to start the operation.
                        stop:
                          type: string
                          nullable: true
                          title: Stop Command
                          description: The command used to stop the operation.
                      required:
                        - start
                      additionalProperties: false
                      title: Commands
                      description: The commands definition.
                    shutdown_timeout:
                      type: integer
                      nullable: true
                      title: Shutdown Timeout
                      description: The timeout in seconds after which the cron job will be forcefully killed.
                    timeout:
                      type: integer
                      title: Timeout
                      description: The maximum timeout in seconds after which the cron job will be forcefully killed.
                    cmd:
                      type: string
                      title: Command
                      description: The command to execute.
                  required:
                    - spec
                    - commands
                    - timeout
                  additionalProperties: false
                title: Crons
                description: Scheduled cron tasks executed by this application.
              source:
                type: object
                properties:
                  root:
                    type: string
                    nullable: true
                    title: Application Source Root
                    description: The root of the application relative to the repository root.
                  operations:
                    type: object
                    additionalProperties:
                      type: object
                      properties:
                        command:
                          type: string
                          nullable: true
                          title: Update Command
                          description: The command to use to update this application.
                      required:
                        - command
                      additionalProperties: false
                    title: Source Operations
                    description: Operations that can be applied to the source code.
                required:
                  - root
                  - operations
                additionalProperties: false
                title: Source Code Configuration
                description: Configuration related to the source code of the application.
              build:
                type: object
                properties:
                  flavor:
                    type: string
                    nullable: true
                    title: Build Flavor
                    description: The pre-set build tasks to use for this application.
                  caches:
                    type: object
                    additionalProperties:
                      type: object
                      properties:
                        directory:
                          type: string
                          nullable: true
                          title: Cache Directory
                          description: The directory, relative to the application root, that should be cached.
                        watch:
                          type: array
                          items:
                            type: string
                          title: Watch Files
                          description: The file or files whose hashed contents should be considered part of the cache key.
                        allow_stale:
                          type: boolean
                          title: Allow Stale Cache
                          description: If true, on a cache miss the last cache version will be used and can be updated in place.
                        share_between_apps:
                          type: boolean
                          title: Share Between Applications
                          description: Whether multiple applications in the project should share cached directories.
                      required:
                        - directory
                        - watch
                        - allow_stale
                        - share_between_apps
                      additionalProperties: false
                    title: Build Caches
                    description: The configuration of paths managed by the build cache.
                required:
                  - flavor
                  - caches
                additionalProperties: false
                title: Build Configuration
                description: The build configuration of the application.
              dependencies:
                type: object
                additionalProperties:
                  type: object
                title: Dependencies
                description: External global dependencies of this application. They will be downloaded by the language's package manager.
              stack:
                type: array
                items:
                  type: object
                nullable: true
                title: Composable images
                description: ''
              is_across_submodule:
                type: boolean
                title: Is Across Submodule
                description: Is this application coming from a submodule
              instance_count:
                type: integer
                nullable: true
                title: Instance replication count
                description: Instance replication count of this application
              config_id:
                type: string
                title: Config Id
                description: ''
              slug_id:
                type: string
                title: Artifact Identifier
                description: The identifier of the built artifact of the application
            required:
              - resources
              - size
              - disk
              - access
              - relationships
              - additional_hosts
              - mounts
              - timezone
              - variables
              - firewall
              - container_profile
              - operations
              - name
              - type
              - preflight
              - tree_id
              - app_dir
              - endpoints
              - runtime
              - web
              - hooks
              - crons
              - source
              - build
              - dependencies
              - stack
              - is_across_submodule
              - instance_count
              - config_id
              - slug_id
            additionalProperties: false
          title: Web applications
          description: The Web applications
        workers:
          type: object
          additionalProperties:
            type: object
            properties:
              resources:
                type: object
                properties:
                  base_memory:
                    type: integer
                    nullable: true
                    title: Base memory
                    description: The base memory for the container
                  memory_ratio:
                    type: integer
                    nullable: true
                    title: Memory ratio
                    description: The amount of memory to allocate per units of CPU
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Selected size from container profile
                  minimum:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Minimum resources
                    description: The minimum resources for this service
                  default:
                    type: object
                    properties:
                      cpu:
                        type: number
                        format: float
                        title: CPU
                        description: Cpu value
                      memory:
                        type: integer
                        title: Memory
                        description: Memory in MB
                      cpu_type:
                        type: string
                        enum:
                          - guaranteed
                          - shared
                        title: Type
                        description: resource type
                      disk:
                        type: integer
                        nullable: true
                        title: Disk size
                        description: Disk size in MB
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: The closest profile size that matches the resources
                    required:
                      - cpu
                      - memory
                      - cpu_type
                      - disk
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Default resources
                    description: The default resources for this service
                  disk:
                    type: object
                    properties:
                      temporary:
                        type: integer
                        nullable: true
                        title: Temporary
                        description: ''
                      instance:
                        type: integer
                        nullable: true
                        title: Instance
                        description: ''
                      storage:
                        type: integer
                        nullable: true
                        title: Storage
                        description: ''
                    required:
                      - temporary
                      - instance
                      - storage
                    additionalProperties: false
                    nullable: true
                    title: Disk resources
                    description: The disks resources
                required:
                  - base_memory
                  - memory_ratio
                  - profile_size
                  - minimum
                  - default
                  - disk
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              size:
                type: string
                enum:
                  - 2XL
                  - 4XL
                  - AUTO
                  - L
                  - M
                  - S
                  - XL
                  - XS
                title: Container Size
                description: The container size for this application in production. Leave blank to allow it to be set dynamically.
              disk:
                type: integer
                nullable: true
                title: Disk size
                description: The writeable disk size to reserve on this application container.
              access:
                type: object
                additionalProperties:
                  type: string
                  enum:
                    - admin
                    - contributor
                    - viewer
                title: Access Information
                description: Access information, a mapping between access type and roles.
              relationships:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    service:
                      type: string
                      nullable: true
                      title: Service Name
                      description: The name of the service.
                    endpoint:
                      type: string
                      nullable: true
                      title: Endpoint Name
                      description: The name of the endpoint on the service.
                  required:
                    - service
                    - endpoint
                  additionalProperties: false
                  nullable: true
                title: Service Relationships
                description: The relationships of the application to defined services.
              additional_hosts:
                type: object
                additionalProperties:
                  type: string
                title: Additional hosts
                description: A mapping of hostname to ip address to be added to the container's hosts file
              mounts:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    source:
                      type: string
                      enum:
                        - instance
                        - local
                        - service
                        - storage
                        - temporary
                        - tmp
                      title: Mount type
                      description: The type of mount that will provide the data.
                    source_path:
                      type: string
                      title: Source Path
                      description: The path to be mounted, relative to the root directory of the volume that's being mounted from.
                    service:
                      type: string
                      nullable: true
                      title: Service Name
                      description: The name of the service that the volume will be mounted from. Must be a service in `services.yaml` of type `network-storage`.
                  required:
                    - source
                    - source_path
                  additionalProperties: false
                title: Mounts
                description: Filesystem mounts of this application.  If not specified the application will have no writeable disk space.
              timezone:
                type: string
                nullable: true
                title: Timezone
                description: The timezone of the application.  This primarily affects the timezone in which cron tasks will run.  It will not affect the application itself. Defaults to UTC if not specified.
              variables:
                type: object
                additionalProperties:
                  type: object
                  additionalProperties: {}
                title: Environment Variables
                description: Variables provide environment-sensitive information to control how your application behaves.  To set a Unix environment variable, specify a key of `env:`, and then each sub-item of that is a key/value pair that will be injected into the environment.
              firewall:
                type: object
                properties:
                  outbound:
                    type: array
                    items:
                      type: object
                      properties:
                        protocol:
                          type: string
                          enum:
                            - tcp
                          title: IP Protocol
                          description: The IP protocol to apply the restriction on.
                        ips:
                          type: array
                          items:
                            type: string
                          title: IP Ranges
                          description: The IP range in CIDR notation to apply the restriction on.
                        domains:
                          type: array
                          items:
                            type: string
                          title: Domains
                          description: Domains of the restriction.
                        ports:
                          type: array
                          items:
                            type: integer
                          title: Ports
                          description: The port to apply the restriction on.
                      required:
                        - protocol
                        - ips
                        - domains
                        - ports
                      additionalProperties: false
                    title: Outbound Firewall Restrictions
                    description: Outbound firewall restrictions
                required:
                  - outbound
                additionalProperties: false
                nullable: true
                title: Firewall
                description: ''
              container_profile:
                type: string
                nullable: true
                title: Container Profile
                description: Selected container profile for the application
              operations:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    commands:
                      type: object
                      properties:
                        start:
                          type: string
                          title: Start Command
                          description: The command used to start the operation.
                        stop:
                          type: string
                          nullable: true
                          title: Stop Command
                          description: The command used to stop the operation.
                      required:
                        - start
                      additionalProperties: false
                      title: Commands
                      description: The commands definition.
                    timeout:
                      type: integer
                      nullable: true
                      title: Timeout
                      description: The maximum timeout in seconds after which the operation will be forcefully killed.
                    role:
                      type: string
                      enum:
                        - admin
                        - contributor
                        - viewer
                      title: Role
                      description: The minimum role necessary to trigger this operation.
                  required:
                    - commands
                    - timeout
                    - role
                  additionalProperties: false
                title: Operations
                description: Operations that can be triggered on this application
              name:
                type: string
                title: Worker Name
                description: The name of the worker.
              type:
                type: string
                title: Type
                description: The base runtime and version to use for this worker.
              preflight:
                type: object
                properties:
                  enabled:
                    type: boolean
                    title: Enable Preflight Security Blocks
                    description: Whether the preflight security blocks are enabled.
                  ignored_rules:
                    type: array
                    items:
                      type: string
                    title: Ignored Rules
                    description: Specific rules to ignore during preflight security checks. See the documentation for options.
                required:
                  - enabled
                  - ignored_rules
                additionalProperties: false
                title: Preflight Checks
                description: Configuration for pre-flight checks.
              tree_id:
                type: string
                title: Source Tree ID
                description: The identifier of the source tree of the application
              app_dir:
                type: string
                title: Application Directory
                description: The path of the application in the container
              endpoints:
                type: object
                nullable: true
                title: Endpoints
                description: ''
              runtime:
                type: object
                title: Runtime Configuration
                description: Runtime-specific configuration.
              worker:
                type: object
                properties:
                  commands:
                    type: object
                    properties:
                      pre_start:
                        type: string
                        nullable: true
                        title: Pre-start Command
                        description: A command executed before the worker is started
                      start:
                        type: string
                        title: Start Command
                        description: The command used to start the worker.
                      post_start:
                        type: string
                        nullable: true
                        title: Post-start Command
                        description: A command executed after the worker is started
                    required:
                      - start
                    additionalProperties: false
                    title: Commands
                    description: The commands to manage the worker.
                  disk:
                    type: integer
                    nullable: true
                    title: Disk Size
                    description: The writeable disk size to reserve on this application container.
                required:
                  - commands
                additionalProperties: false
                title: Worker Configuration
                description: Configuration of a worker container instance.
              app:
                type: string
                title: App
                description: ''
              stack:
                type: array
                items:
                  type: object
                nullable: true
                title: Composable images
                description: ''
              instance_count:
                type: integer
                nullable: true
                title: Instance replication count
                description: Instance replication count of this worker
              slug_id:
                type: string
                title: Artifact Identifier
                description: The identifier of the built artifact of the application
            required:
              - resources
              - size
              - disk
              - access
              - relationships
              - additional_hosts
              - mounts
              - timezone
              - variables
              - firewall
              - container_profile
              - operations
              - name
              - type
              - preflight
              - tree_id
              - app_dir
              - endpoints
              - runtime
              - worker
              - app
              - stack
              - instance_count
              - slug_id
            additionalProperties: false
          title: Workers
          description: The workers
        container_profiles:
          type: object
          additionalProperties:
            type: object
            additionalProperties:
              type: object
              properties:
                cpu:
                  type: number
                  format: float
                  title: CPU
                  description: Cpu value
                memory:
                  type: integer
                  title: Memory
                  description: Memory in MB
                cpu_type:
                  type: string
                  enum:
                    - guaranteed
                    - shared
                  title: Type
                  description: resource type
              required:
                - cpu
                - memory
                - cpu_type
              additionalProperties: false
          title: Container profiles
          description: The profiles of the containers
      required:
        - id
        - cluster_name
        - project_info
        - environment_info
        - deployment_target
        - vpn
        - http_access
        - enable_smtp
        - restrict_robots
        - variables
        - access
        - subscription
        - services
        - routes
        - webapps
        - workers
        - container_profiles
      additionalProperties: false
    DeploymentCollection:
      type: array
      items:
        $ref: '#/components/schemas/Deployment'
    DeploymentTarget:
      oneOf:
        - $ref: '#/components/schemas/DedicatedDeploymentTarget'
        - $ref: '#/components/schemas/EnterpriseDeploymentTarget'
        - $ref: '#/components/schemas/FoundationDeploymentTarget'
    DeploymentTargetCollection:
      type: array
      items:
        $ref: '#/components/schemas/DeploymentTarget'
    DeploymentTargetCreateInput:
      oneOf:
        - $ref: '#/components/schemas/DedicatedDeploymentTargetCreateInput'
        - $ref: '#/components/schemas/EnterpriseDeploymentTargetCreateInput'
        - $ref: '#/components/schemas/FoundationDeploymentTargetCreateInput'
    DeploymentTargetPatch:
      oneOf:
        - $ref: '#/components/schemas/DedicatedDeploymentTargetPatch'
        - $ref: '#/components/schemas/EnterpriseDeploymentTargetPatch'
        - $ref: '#/components/schemas/FoundationDeploymentTargetPatch'
    Domain:
      oneOf:
        - $ref: '#/components/schemas/ProdDomainStorage'
        - $ref: '#/components/schemas/ReplacementDomainStorage'
    DomainCollection:
      type: array
      items:
        $ref: '#/components/schemas/Domain'
    DomainCreateInput:
      oneOf:
        - $ref: '#/components/schemas/ProdDomainStorageCreateInput'
        - $ref: '#/components/schemas/ReplacementDomainStorageCreateInput'
    DomainPatch:
      oneOf:
        - $ref: '#/components/schemas/ProdDomainStoragePatch'
        - $ref: '#/components/schemas/ReplacementDomainStoragePatch'
    EmailIntegration:
      type: object
      properties:
        id:
          type: string
          title: EmailIntegration Identifier
          description: The identifier of EmailIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        from_address:
          type: string
          nullable: true
          title: From Address
          description: The email address to use
        recipients:
          type: array
          items:
            type: string
          title: Recipients
          description: Recipients of the email
      required:
        - created_at
        - updated_at
        - type
        - from_address
        - recipients
      additionalProperties: false
    EmailIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        from_address:
          type: string
          nullable: true
          title: From Address
          description: The email address to use
        recipients:
          type: array
          items:
            type: string
          title: Recipients
          description: Recipients of the email
      required:
        - type
        - recipients
      additionalProperties: false
    EmailIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        from_address:
          type: string
          nullable: true
          title: From Address
          description: The email address to use
        recipients:
          type: array
          items:
            type: string
          title: Recipients
          description: Recipients of the email
      required:
        - type
        - recipients
      additionalProperties: false
    EnterpriseDeploymentTarget:
      type: object
      properties:
        id:
          type: string
          title: EnterpriseDeploymentTarget Identifier
          description: The identifier of EnterpriseDeploymentTarget
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        deploy_host:
          type: string
          nullable: true
          title: Deploy Host
          description: The host to deploy to.
        docroots:
          type: object
          additionalProperties:
            type: object
            properties:
              active_docroot:
                type: string
                nullable: true
                title: Active docroot
                description: The enterprise docroot, that is associated with this application/cluster.
              docroot_versions:
                type: array
                items:
                  type: string
                nullable: true
                title: Docroot versions
                description: Versions of the enterprise docroot. When a new environment version is created the active_docroot is updated from these values.
            required:
              - active_docroot
              - docroot_versions
            additionalProperties: false
          title: Docroots
          description: Mapping of clusters to Enterprise applications
        site_urls:
          type: object
          title: Site URLs
          description: ''
        ssh_hosts:
          type: array
          items:
            type: string
          title: SSH Hosts
          description: List of SSH Hosts.
        maintenance_mode:
          type: boolean
          title: Maintenance Mode
          description: Whether to perform deployments or not
        enterprise_environments_mapping:
          type: object
          title: Enterprise Environments Mapping
          description: Mapping of clusters to Enterprise applications
          deprecated: true
          x-stability: DEPRECATED
      required:
        - type
        - name
        - deploy_host
        - docroots
        - site_urls
        - ssh_hosts
        - maintenance_mode
      additionalProperties: false
    EnterpriseDeploymentTargetCreateInput:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        site_urls:
          type: object
          title: Site URLs
          description: ''
        ssh_hosts:
          type: array
          items:
            type: string
          title: SSH Hosts
          description: List of SSH Hosts.
        enterprise_environments_mapping:
          type: object
          title: Enterprise Environments Mapping
          description: Mapping of clusters to Enterprise applications
          deprecated: true
          x-stability: DEPRECATED
      required:
        - type
        - name
      additionalProperties: false
    EnterpriseDeploymentTargetPatch:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        site_urls:
          type: object
          title: Site URLs
          description: ''
        ssh_hosts:
          type: array
          items:
            type: string
          title: SSH Hosts
          description: List of SSH Hosts.
        enterprise_environments_mapping:
          type: object
          title: Enterprise Environments Mapping
          description: Mapping of clusters to Enterprise applications
          deprecated: true
          x-stability: DEPRECATED
      required:
        - type
        - name
      additionalProperties: false
    Environment:
      type: object
      properties:
        id:
          type: string
          title: Environment Identifier
          description: The identifier of Environment
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        name:
          type: string
          title: Name
          description: The name of the environment
        machine_name:
          type: string
          title: Machine name
          description: The machine name for the environment
        title:
          type: string
          title: Title
          description: The title of the environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - development
            - production
            - staging
          title: Type
          description: The type of environment (`production`, `staging` or `development`), if not provided, a default will be calculated
        parent:
          type: string
          nullable: true
          title: Parent environment
          description: The name of the parent environment
        default_domain:
          type: string
          nullable: true
          title: Default domain
          description: The default domain
        has_domains:
          type: boolean
          title: Has domains
          description: Whether the environment has domains
        clone_parent_on_create:
          type: boolean
          title: Clone parent on create
          description: Clone data when creating that environment
        deployment_target:
          type: string
          nullable: true
          title: Deployment target
          description: Deployment target of the environment
        is_pr:
          type: boolean
          title: Is pull or merge request
          description: Is this environment a pull request / merge request
        has_remote:
          type: boolean
          title: Has remote
          description: Does this environment have a remote repository
        status:
          type: string
          enum:
            - active
            - deleting
            - dirty
            - inactive
            - paused
          title: Status
          description: The status of the environment
        http_access:
          type: object
          properties:
            is_enabled:
              type: boolean
              title: Is enabled
              description: Whether http_access control is enabled
            addresses:
              type: array
              items:
                type: object
                properties:
                  permission:
                    type: string
                    enum:
                      - allow
                      - deny
                    title: Permission
                    description: ''
                  address:
                    type: string
                    title: Address
                    description: IP address or CIDR
                required:
                  - permission
                  - address
                additionalProperties: false
              title: Address grants
              description: ''
            basic_auth:
              type: object
              additionalProperties:
                type: string
              title: Basic auth grants
              description: ''
          required:
            - is_enabled
            - addresses
            - basic_auth
          additionalProperties: false
          title: HTTP access permissions
          description: The HTTP access permissions for this environment
        enable_smtp:
          type: boolean
          title: Enable SMTP
          description: Whether to configure SMTP for this environment
        restrict_robots:
          type: boolean
          title: Restrict robots
          description: Whether to restrict robots for this environment
        edge_hostname:
          type: string
          title: Edge hostname
          description: The hostname to use as the CNAME
        deployment_state:
          type: object
          properties:
            last_deployment_successful:
              type: boolean
              title: Last deployment successful
              description: Whether the last deployment was successful
            last_deployment_at:
              type: string
              format: date-time
              nullable: true
              title: Last deployment datetime
              description: Datetime of the last deployment
            last_autoscale_up_at:
              type: string
              format: date-time
              nullable: true
              title: Last autoscale up datetime
              description: Datetime of the last autoscale up deployment
            last_autoscale_down_at:
              type: string
              format: date-time
              nullable: true
              title: Last autoscale down datetime
              description: Datetime of the last autoscale down deployment
            crons:
              type: object
              properties:
                enabled:
                  type: boolean
                  title: Is enabled
                  description: Enabled or disabled
                status:
                  type: string
                  enum:
                    - paused
                    - running
                    - sleeping
                  title: Status
                  description: The status of the crons
              required:
                - enabled
                - status
              additionalProperties: false
              title: Crons deployment state
              description: The crons deployment state
          required:
            - last_deployment_successful
            - last_deployment_at
            - last_autoscale_up_at
            - last_autoscale_down_at
            - crons
          additionalProperties: false
          nullable: true
          title: Deployment state
          description: The environment deployment state
        sizing:
          type: object
          properties:
            services:
              type: object
              additionalProperties:
                type: object
                properties:
                  resources:
                    type: object
                    properties:
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: Profile size of the service.
                    required:
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Resources
                    description: ''
                  instance_count:
                    type: integer
                    nullable: true
                    title: Instance count
                    description: Instance replication count of this application
                  disk:
                    type: integer
                    nullable: true
                    title: Disk size
                    description: The size of the disk.
                required:
                  - resources
                  - instance_count
                  - disk
                additionalProperties: false
              title: Services
              description: ''
            webapps:
              type: object
              additionalProperties:
                type: object
                properties:
                  resources:
                    type: object
                    properties:
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: Profile size of the service.
                    required:
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Resources
                    description: ''
                  instance_count:
                    type: integer
                    nullable: true
                    title: Instance count
                    description: Instance replication count of this application
                  disk:
                    type: integer
                    nullable: true
                    title: Disk size
                    description: The size of the disk.
                required:
                  - resources
                  - instance_count
                  - disk
                additionalProperties: false
              title: Web applications
              description: ''
            workers:
              type: object
              additionalProperties:
                type: object
                properties:
                  resources:
                    type: object
                    properties:
                      profile_size:
                        type: string
                        nullable: true
                        title: Profile size
                        description: Profile size of the service.
                    required:
                      - profile_size
                    additionalProperties: false
                    nullable: true
                    title: Resources
                    description: ''
                  instance_count:
                    type: integer
                    nullable: true
                    title: Instance count
                    description: Instance replication count of this application
                  disk:
                    type: integer
                    nullable: true
                    title: Disk size
                    description: The size of the disk.
                required:
                  - resources
                  - instance_count
                  - disk
                additionalProperties: false
              title: Workers
              description: ''
          required:
            - services
            - webapps
            - workers
          additionalProperties: false
          nullable: true
          title: Sizing
          description: The environment sizing configuration
        resources_overrides:
          type: object
          additionalProperties:
            type: object
            properties:
              services:
                type: object
                additionalProperties:
                  type: object
                  properties:
                    cpu:
                      type: number
                      format: float
                      nullable: true
                      title: CPU
                      description: ''
                    memory:
                      type: integer
                      nullable: true
                      title: Memory
                      description: ''
                    disk:
                      type: integer
                      nullable: true
                      title: Disk
                      description: ''
                  required:
                    - cpu
                    - memory
                    - disk
                  additionalProperties: false
                title: Pre-service resources overrides
                description: Per-service resources overrides.
              starts_at:
                type: string
                format: date-time
                nullable: true
                title: Start date
                description: Date when the override will apply. When null, don't do an auto redeployment but still be effective to redeploys initiated otherwise.
              ends_at:
                type: string
                format: date-time
                nullable: true
                title: End date
                description: Date when the override will be reverted. When null, the overrides will never go out of effect.
              redeployed_start:
                type: boolean
                title: Is starting redeploy activity fired
                description: Whether the starting redeploy activity has been fired for this override.
              redeployed_end:
                type: boolean
                title: Is ending redeploy activity fired
                description: Whether the ending redeploy activity has been fired for this override.
            required:
              - services
              - starts_at
              - ends_at
              - redeployed_start
              - redeployed_end
            additionalProperties: false
          title: Resources overrides
          description: Resources overrides
        max_instance_count:
          type: integer
          nullable: true
          title: Max instances
          description: Max number of instances for this environment
        last_active_at:
          type: string
          format: date-time
          nullable: true
          title: Last activity date
          description: Last activity date
        last_backup_at:
          type: string
          format: date-time
          nullable: true
          title: Last backup date
          description: Last backup date
        project:
          type: string
          title: Project
          description: The project the environment belongs to
        is_main:
          type: boolean
          title: Is main environment
          description: Is this environment the main environment
        is_dirty:
          type: boolean
          title: Is dirty
          description: Is there any pending activity on this environment
        has_staged_activities:
          type: boolean
          title: Has staged activities
          description: Is there any staged activity on this environment
        can_rolling_deploy:
          type: boolean
          title: Can perform rolling deployments
          description: If the environment has rolling deployments ready for use
        supports_rolling_deployments:
          type: boolean
          title: Supports rolling deployments
          description: If the environment supports rolling deployments
        has_code:
          type: boolean
          title: Has code
          description: Does this environment have code
        head_commit:
          type: string
          nullable: true
          title: Head commit
          description: The SHA of the head commit for this environment
        merge_info:
          type: object
          properties:
            commits_ahead:
              type: integer
              nullable: true
              title: Commits ahead
              description: The amount of commits that are in the environment but not in the parent
            commits_behind:
              type: integer
              nullable: true
              title: Commits behind
              description: The amount of commits that are in the parent but not in the environment
            parent_ref:
              type: string
              nullable: true
              title: Parent ref
              description: The reference in Git for the parent environment
          required:
            - commits_ahead
            - commits_behind
            - parent_ref
          additionalProperties: false
          title: Merge info
          description: The commit distance info between parent and child environments
        has_deployment:
          type: boolean
          title: Has deployment
          description: Whether this environment had a successful deployment
        supports_restrict_robots:
          type: boolean
          title: Supports restrict_robots
          description: Does this environment support configuring restrict_robots
      required:
        - id
        - created_at
        - updated_at
        - name
        - machine_name
        - title
        - attributes
        - type
        - parent
        - default_domain
        - has_domains
        - clone_parent_on_create
        - deployment_target
        - is_pr
        - has_remote
        - status
        - http_access
        - enable_smtp
        - restrict_robots
        - edge_hostname
        - deployment_state
        - sizing
        - resources_overrides
        - max_instance_count
        - last_active_at
        - last_backup_at
        - project
        - is_main
        - is_dirty
        - has_staged_activities
        - can_rolling_deploy
        - supports_rolling_deployments
        - has_code
        - head_commit
        - merge_info
        - has_deployment
        - supports_restrict_robots
      additionalProperties: false
    EnvironmentActivateInput:
      type: object
      properties:
        resources:
          type: object
          properties:
            init:
              type: string
              enum:
                - default
                - minimum
                - parent
              nullable: true
              title: Init Resources
              description: The resources used when activating an environment
          required:
            - init
          additionalProperties: false
          nullable: true
          title: Resources
          description: ''
      required:
        - resources
      additionalProperties: false
    EnvironmentBackupInput:
      type: object
      properties:
        safe:
          type: boolean
          title: Safe or live backup
          description: Take a safe or a live backup
      required:
        - safe
      additionalProperties: false
    EnvironmentBranchInput:
      type: object
      properties:
        title:
          type: string
          title: Title
          description: ''
        name:
          type: string
          title: Name
          description: ''
        clone_parent:
          type: boolean
          title: Clone parent
          description: Clone data from the parent environment
        type:
          type: string
          enum:
            - development
            - staging
          title: Type
          description: The type of environment (`staging` or `development`)
        resources:
          type: object
          properties:
            init:
              type: string
              enum:
                - default
                - minimum
                - parent
              nullable: true
              title: Init Resources
              description: The resources used when initializing services of the new environment
          required:
            - init
          additionalProperties: false
          nullable: true
          title: Resources
          description: ''
      required:
        - title
        - name
        - clone_parent
        - type
        - resources
      additionalProperties: false
    EnvironmentCollection:
      type: array
      items:
        $ref: '#/components/schemas/Environment'
    EnvironmentDeployInput:
      type: object
      properties:
        strategy:
          type: string
          enum:
            - rolling
            - stopstart
          title: Deployment strategy
          description: The deployment strategy (`rolling` or `stopstart`)
      required:
        - strategy
      additionalProperties: false
    EnvironmentInitializeInput:
      type: object
      properties:
        profile:
          type: string
          title: Profile
          description: Name of the profile to show in the UI
        repository:
          type: string
          title: Repository
          description: Repository to clone from
        config:
          type: string
          nullable: true
          title: Configuration repository
          description: Repository to clone the configuration files from
        files:
          type: array
          items:
            type: object
            properties:
              path:
                type: string
                title: Path
                description: The path to the file.
              mode:
                type: integer
                title: Mode
                description: The octal value of the file protection mode.
              contents:
                type: string
                title: Contents
                description: The contents of the file (base64 encoded).
            required:
              - path
              - mode
              - contents
            additionalProperties: false
          title: Files
          description: A list of files to add to the repository during initialization
        resources:
          type: object
          properties:
            init:
              type: string
              enum:
                - default
                - minimum
              nullable: true
              title: Init Resources
              description: The resources used when initializing the environment
          required:
            - init
          additionalProperties: false
          nullable: true
          title: Resources
          description: ''
      required:
        - profile
        - repository
        - config
        - files
        - resources
      additionalProperties: false
    EnvironmentMergeInput:
      type: object
      properties:
        resources:
          type: object
          properties:
            init:
              type: string
              enum:
                - child
                - default
                - manual
                - minimum
              nullable: true
              title: Init Resources
              description: The resources used when merging an environment
          required:
            - init
          additionalProperties: false
          nullable: true
          title: Resources
          description: ''
      required:
        - resources
      additionalProperties: false
    EnvironmentOperationInput:
      type: object
      properties:
        service:
          type: string
          title: Application or worker name
          description: The name of the application or worker to run the operation on
        operation:
          type: string
          title: Operation name
          description: The name of the operation
        parameters:
          type: array
          items:
            type: string
          title: Operation parameters
          description: The parameters to run the operation with
      required:
        - service
        - operation
        - parameters
      additionalProperties: false
    EnvironmentPatch:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: The name of the environment
        title:
          type: string
          title: Title
          description: The title of the environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - development
            - production
            - staging
          title: Type
          description: The type of environment (`production`, `staging` or `development`), if not provided, a default will be calculated
        parent:
          type: string
          nullable: true
          title: Parent environment
          description: The name of the parent environment
        clone_parent_on_create:
          type: boolean
          title: Clone parent on create
          description: Clone data when creating that environment
        http_access:
          type: object
          properties:
            is_enabled:
              type: boolean
              title: Is enabled
              description: Whether http_access control is enabled
            addresses:
              type: array
              items:
                type: object
                properties:
                  permission:
                    type: string
                    enum:
                      - allow
                      - deny
                    title: Permission
                    description: ''
                  address:
                    type: string
                    title: Address
                    description: IP address or CIDR
                required:
                  - permission
                  - address
                additionalProperties: false
              title: Address grants
              description: ''
            basic_auth:
              type: object
              additionalProperties:
                type: string
              title: Basic auth grants
              description: ''
          additionalProperties: false
          title: HTTP access permissions
          description: The HTTP access permissions for this environment
        enable_smtp:
          type: boolean
          title: Enable SMTP
          description: Whether to configure SMTP for this environment
        restrict_robots:
          type: boolean
          title: Restrict robots
          description: Whether to restrict robots for this environment
      additionalProperties: false
    EnvironmentRestoreInput:
      type: object
      properties:
        environment_name:
          type: string
          nullable: true
          title: Environment name
          description: ''
        branch_from:
          type: string
          nullable: true
          title: Branch from
          description: ''
        restore_code:
          type: boolean
          title: Is code or data restored
          description: Whether we should restore the code or only the data
        restore_resources:
          type: boolean
          title: Is resources restored
          description: Whether we should restore resources configuration from the backup
        resources:
          type: object
          properties:
            init:
              type: string
              enum:
                - backup
                - default
                - minimum
                - parent
              nullable: true
              title: Init Resources
              description: The resources used when initializing services of the environment
          required:
            - init
          additionalProperties: false
          nullable: true
          title: Resources
          description: ''
      required:
        - environment_name
        - branch_from
        - restore_code
        - restore_resources
        - resources
      additionalProperties: false
    EnvironmentSettings:
      type: object
      properties:
        chorus:
          type: object
          properties:
            exposed:
              type: boolean
              nullable: true
              title: Is metrics endpoint exposed
              description: Expose metrics endpoint via API links.
          additionalProperties: false
          nullable: true
          title: Chorus environment settings
          description: ''
        enable_manual_deployments:
          type: boolean
          title: Is manual deployments enabled
          description: Whether the environment uses manual deployments
      required:
        - enable_manual_deployments
      additionalProperties: false
    EnvironmentSettingsPatch:
      type: object
      properties:
        enable_manual_deployments:
          type: boolean
          title: Is manual deployments enabled
          description: Whether the environment uses manual deployments
      additionalProperties: false
    EnvironmentSizingPatch:
      type: object
      properties:
        services:
          type: object
          additionalProperties:
            type: object
            properties:
              resources:
                type: object
                properties:
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Profile size of the service.
                required:
                  - profile_size
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              instance_count:
                type: integer
                nullable: true
                title: Instance count
                description: Instance replication count of this application
              disk:
                type: integer
                nullable: true
                title: Disk size
                description: The size of the disk.
            additionalProperties: false
          title: Services
          description: ''
        webapps:
          type: object
          additionalProperties:
            type: object
            properties:
              resources:
                type: object
                properties:
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Profile size of the service.
                required:
                  - profile_size
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              instance_count:
                type: integer
                nullable: true
                title: Instance count
                description: Instance replication count of this application
              disk:
                type: integer
                nullable: true
                title: Disk size
                description: The size of the disk.
            additionalProperties: false
          title: Web applications
          description: ''
        workers:
          type: object
          additionalProperties:
            type: object
            properties:
              resources:
                type: object
                properties:
                  profile_size:
                    type: string
                    nullable: true
                    title: Profile size
                    description: Profile size of the service.
                required:
                  - profile_size
                additionalProperties: false
                nullable: true
                title: Resources
                description: ''
              instance_count:
                type: integer
                nullable: true
                title: Instance count
                description: Instance replication count of this application
              disk:
                type: integer
                nullable: true
                title: Disk size
                description: The size of the disk.
            additionalProperties: false
          title: Workers
          description: ''
      additionalProperties: false
    EnvironmentSourceOperation:
      type: object
      properties:
        id:
          type: string
          title: EnvironmentSourceOperation Identifier
          description: The identifier of EnvironmentSourceOperation
        app:
          type: string
          title: Application name
          description: The name of the application
        operation:
          type: string
          title: Source operation name
          description: The name of the source operation
        command:
          type: string
          title: Command
          description: The command that will be triggered
      required:
        - id
        - app
        - operation
        - command
      additionalProperties: false
    EnvironmentSourceOperationCollection:
      type: array
      items:
        $ref: '#/components/schemas/EnvironmentSourceOperation'
    EnvironmentSourceOperationInput:
      type: object
      properties:
        operation:
          type: string
          title: Operation name
          description: The name of the operation to execute
        variables:
          type: object
          additionalProperties:
            type: object
            additionalProperties: {}
          title: Variables
          description: The variables of the application.
      required:
        - operation
        - variables
      additionalProperties: false
    EnvironmentSynchronizeInput:
      type: object
      properties:
        synchronize_code:
          type: boolean
          title: Is code synchronized
          description: Synchronize code?
        rebase:
          type: boolean
          title: Is code rebased
          description: Synchronize code by rebasing instead of merging
        synchronize_data:
          type: boolean
          title: Is data synchronized
          description: Synchronize data?
        synchronize_resources:
          type: boolean
          title: Are resources synchronized
          description: Synchronize resources?
      required:
        - synchronize_code
        - rebase
        - synchronize_data
        - synchronize_resources
      additionalProperties: false
    EnvironmentTopology:
      type: object
    EnvironmentType:
      type: object
      properties:
        id:
          type: string
          title: EnvironmentType Identifier
          description: The identifier of EnvironmentType
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
      required:
        - id
        - attributes
      additionalProperties: false
    EnvironmentTypeCollection:
      type: array
      items:
        $ref: '#/components/schemas/EnvironmentType'
    EnvironmentVariable:
      type: object
      properties:
        id:
          type: string
          title: EnvironmentVariable Identifier
          description: The identifier of EnvironmentVariable
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Is visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
        project:
          type: string
          title: Project name
          description: The name of the project
        environment:
          type: string
          title: Environment name
          description: The name of the environment
        inherited:
          type: boolean
          title: Is inherited
          description: The variable is inherited from a parent environment
        is_enabled:
          type: boolean
          title: Is enabled
          description: The variable is enabled on this environment
        is_inheritable:
          type: boolean
          title: Is inheritable
          description: The variable is inheritable to child environments
      required:
        - id
        - created_at
        - updated_at
        - name
        - attributes
        - is_json
        - is_sensitive
        - visible_build
        - visible_runtime
        - application_scope
        - project
        - environment
        - inherited
        - is_enabled
        - is_inheritable
      additionalProperties: false
    EnvironmentVariableCollection:
      type: array
      items:
        $ref: '#/components/schemas/EnvironmentVariable'
    EnvironmentVariableCreateInput:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Is visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
        is_enabled:
          type: boolean
          title: Is enabled
          description: The variable is enabled on this environment
        is_inheritable:
          type: boolean
          title: Is inheritable
          description: The variable is inheritable to child environments
      required:
        - name
        - value
      additionalProperties: false
    EnvironmentVariablePatch:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Is visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
        is_enabled:
          type: boolean
          title: Is enabled
          description: The variable is enabled on this environment
        is_inheritable:
          type: boolean
          title: Is inheritable
          description: The variable is inheritable to child environments
      additionalProperties: false
    FastlyIntegration:
      type: object
      properties:
        id:
          type: string
          title: FastlyIntegration Identifier
          description: The identifier of FastlyIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        service_id:
          type: string
          title: Fastly Service ID
          description: ''
      required:
        - created_at
        - updated_at
        - type
        - events
        - environments
        - excluded_environments
        - states
        - result
        - service_id
      additionalProperties: false
    FastlyIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        token:
          type: string
          title: Token
          description: Fastly API Token
        service_id:
          type: string
          title: Fastly Service ID
          description: ''
      required:
        - type
        - token
        - service_id
      additionalProperties: false
    FastlyIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        token:
          type: string
          title: Token
          description: Fastly API Token
        service_id:
          type: string
          title: Fastly Service ID
          description: ''
      required:
        - type
        - token
        - service_id
      additionalProperties: false
    FoundationDeploymentTarget:
      type: object
      properties:
        id:
          type: string
          title: FoundationDeploymentTarget Identifier
          description: The identifier of FoundationDeploymentTarget
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        hosts:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                nullable: true
                title: Host identifier
                description: The identifier of the host.
              type:
                type: string
                enum:
                  - core
                  - satellite
                title: Deployment type
                description: The type of the deployment to this host.
              services:
                type: array
                items:
                  type: string
                nullable: true
                title: Assigned services
                description: The services assigned to this host
            required:
              - id
              - type
              - services
            additionalProperties: false
          nullable: true
          title: Deployment hosts
          description: The hosts of the deployment target.
        use_dedicated_grid:
          type: boolean
          title: Whether the deployment should target dedicated Grid hosts.
          description: |-
            When true, the deployment will be pinned to Grid hosts dedicated to the environment using this deployment target.

            Dedicated Grid hosts must be created prior to deploying the environment.

            The constraints that will be set are as follows:

            * `cluster_type` is set to `environment-custom`.
            * `cluster` is set to the environment's cluster name.
        storage_type:
          type: string
          nullable: true
          title: Storage Type
          description: The storage type.
      required:
        - type
        - name
        - hosts
        - use_dedicated_grid
        - storage_type
      additionalProperties: false
    FoundationDeploymentTargetCreateInput:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        hosts:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                nullable: true
                title: Host identifier
                description: The identifier of the host.
              type:
                type: string
                enum:
                  - core
                  - satellite
                title: Deployment type
                description: The type of the deployment to this host.
              services:
                type: array
                items:
                  type: string
                nullable: true
                title: Assigned services
                description: The services assigned to this host
            required:
              - id
              - type
            additionalProperties: false
          nullable: true
          title: Deployment hosts
          description: The hosts of the deployment target.
        use_dedicated_grid:
          type: boolean
          title: Whether the deployment should target dedicated Grid hosts.
          description: |-
            When true, the deployment will be pinned to Grid hosts dedicated to the environment using this deployment target.

            Dedicated Grid hosts must be created prior to deploying the environment.

            The constraints that will be set are as follows:

            * `cluster_type` is set to `environment-custom`.
            * `cluster` is set to the environment's cluster name.
      required:
        - type
        - name
      additionalProperties: false
    FoundationDeploymentTargetPatch:
      type: object
      properties:
        type:
          type: string
          enum:
            - dedicated
            - enterprise
            - local
          title: Deployment target type
          description: The type of the deployment target.
        name:
          type: string
          title: Deployment target name
          description: The name of the deployment target.
        hosts:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                nullable: true
                title: Host identifier
                description: The identifier of the host.
              type:
                type: string
                enum:
                  - core
                  - satellite
                title: Deployment type
                description: The type of the deployment to this host.
              services:
                type: array
                items:
                  type: string
                nullable: true
                title: Assigned services
                description: The services assigned to this host
            required:
              - id
              - type
            additionalProperties: false
          nullable: true
          title: Deployment hosts
          description: The hosts of the deployment target.
        use_dedicated_grid:
          type: boolean
          title: Whether the deployment should target dedicated Grid hosts.
          description: |-
            When true, the deployment will be pinned to Grid hosts dedicated to the environment using this deployment target.

            Dedicated Grid hosts must be created prior to deploying the environment.

            The constraints that will be set are as follows:

            * `cluster_type` is set to `environment-custom`.
            * `cluster` is set to the environment's cluster name.
      required:
        - type
        - name
      additionalProperties: false
    GitLabIntegration:
      type: object
      properties:
        id:
          type: string
          title: GitLabIntegration Identifier
          description: The identifier of GitLabIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        token_expires_at:
          type: string
          format: date-time
          nullable: true
          title: '''expires_at'' value of the current token.'
          description: ''
        rotate_token:
          type: boolean
          title: Whether or not to rotate token automatically using Gitlab API.
          description: ''
        rotate_token_validity_in_weeks:
          type: integer
          title: Validity in weeks of a new token after rotation.
          description: ''
        base_url:
          type: string
          title: GitLab Base URL
          description: The base URL of the GitLab installation.
        project:
          type: string
          title: Project
          description: The GitLab project (in the form `namespace/repo`).
        build_merge_requests:
          type: boolean
          title: Build Merge Requests
          description: Whether or not to build merge requests.
        build_wip_merge_requests:
          type: boolean
          title: Build WIP Merge Requests
          description: Whether or not to build work in progress merge requests (requires `build_merge_requests`).
        merge_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - created_at
        - updated_at
        - type
        - fetch_branches
        - prune_branches
        - environment_init_resources
        - token_expires_at
        - rotate_token
        - rotate_token_validity_in_weeks
        - base_url
        - project
        - build_merge_requests
        - build_wip_merge_requests
        - merge_requests_clone_parent_data
      additionalProperties: false
    GitLabIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        token:
          type: string
          title: GitLab Private Token
          description: The GitLab private token.
        rotate_token:
          type: boolean
          title: Whether or not to rotate token automatically using Gitlab API.
          description: ''
        rotate_token_validity_in_weeks:
          type: integer
          title: Validity in weeks of a new token after rotation.
          description: ''
        base_url:
          type: string
          title: GitLab Base URL
          description: The base URL of the GitLab installation.
        project:
          type: string
          title: Project
          description: The GitLab project (in the form `namespace/repo`).
        build_merge_requests:
          type: boolean
          title: Build Merge Requests
          description: Whether or not to build merge requests.
        build_wip_merge_requests:
          type: boolean
          title: Build WIP Merge Requests
          description: Whether or not to build work in progress merge requests (requires `build_merge_requests`).
        merge_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - type
        - token
        - project
      additionalProperties: false
    GitLabIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        token:
          type: string
          title: GitLab Private Token
          description: The GitLab private token.
        rotate_token:
          type: boolean
          title: Whether or not to rotate token automatically using Gitlab API.
          description: ''
        rotate_token_validity_in_weeks:
          type: integer
          title: Validity in weeks of a new token after rotation.
          description: ''
        base_url:
          type: string
          title: GitLab Base URL
          description: The base URL of the GitLab installation.
        project:
          type: string
          title: Project
          description: The GitLab project (in the form `namespace/repo`).
        build_merge_requests:
          type: boolean
          title: Build Merge Requests
          description: Whether or not to build merge requests.
        build_wip_merge_requests:
          type: boolean
          title: Build WIP Merge Requests
          description: Whether or not to build work in progress merge requests (requires `build_merge_requests`).
        merge_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building merge requests.
      required:
        - type
        - token
        - project
      additionalProperties: false
    GithubIntegration:
      type: object
      properties:
        id:
          type: string
          title: GithubIntegration Identifier
          description: The identifier of GithubIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        base_url:
          type: string
          nullable: true
          title: Base URL
          description: The base URL of the Github API endpoint.
        repository:
          type: string
          title: Repository
          description: The GitHub repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        build_draft_pull_requests:
          type: boolean
          title: Build Draft Pull Requests
          description: Whether or not to build draft pull requests (requires `build_pull_requests`).
        build_pull_requests_post_merge:
          type: boolean
          title: Build PR Post-Merge
          description: Whether to build pull requests post-merge (if true) or pre-merge (if false).
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building pull requests.
        token_type:
          type: string
          enum:
            - classic_personal_token
            - github_app
          title: Token Type
          description: The type of the token of this GitHub integration
      required:
        - created_at
        - updated_at
        - type
        - fetch_branches
        - prune_branches
        - environment_init_resources
        - base_url
        - repository
        - build_pull_requests
        - build_draft_pull_requests
        - build_pull_requests_post_merge
        - pull_requests_clone_parent_data
        - token_type
      additionalProperties: false
    GithubIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        token:
          type: string
          title: Token
          description: The GitHub token.
        base_url:
          type: string
          nullable: true
          title: Base URL
          description: The base URL of the Github API endpoint.
        repository:
          type: string
          title: Repository
          description: The GitHub repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        build_draft_pull_requests:
          type: boolean
          title: Build Draft Pull Requests
          description: Whether or not to build draft pull requests (requires `build_pull_requests`).
        build_pull_requests_post_merge:
          type: boolean
          title: Build PR Post-Merge
          description: Whether to build pull requests post-merge (if true) or pre-merge (if false).
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building pull requests.
      required:
        - type
        - token
        - repository
      additionalProperties: false
    GithubIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        fetch_branches:
          type: boolean
          title: Fetch Branches
          description: Whether or not to fetch branches.
        prune_branches:
          type: boolean
          title: Prune Branches
          description: Whether or not to remove branches that disappeared remotely (requires `fetch_branches`).
        environment_init_resources:
          type: string
          enum:
            - default
            - manual
            - minimum
            - parent
          title: Environment Init Resources
          description: The resources used when initializing a new service
        token:
          type: string
          title: Token
          description: The GitHub token.
        base_url:
          type: string
          nullable: true
          title: Base URL
          description: The base URL of the Github API endpoint.
        repository:
          type: string
          title: Repository
          description: The GitHub repository (in the form `user/repo`).
        build_pull_requests:
          type: boolean
          title: Build Pull Requests
          description: Whether or not to build pull requests.
        build_draft_pull_requests:
          type: boolean
          title: Build Draft Pull Requests
          description: Whether or not to build draft pull requests (requires `build_pull_requests`).
        build_pull_requests_post_merge:
          type: boolean
          title: Build PR Post-Merge
          description: Whether to build pull requests post-merge (if true) or pre-merge (if false).
        pull_requests_clone_parent_data:
          type: boolean
          title: Clone Parent Data
          description: Whether or not to clone parent data when building pull requests.
      required:
        - type
        - token
        - repository
      additionalProperties: false
    HealthWebHookIntegration:
      type: object
      properties:
        id:
          type: string
          title: HealthWebHookIntegration Identifier
          description: The identifier of HealthWebHookIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        url:
          type: string
          title: WebHook URL
          description: The URL of the webhook
      required:
        - created_at
        - updated_at
        - type
        - url
      additionalProperties: false
    HealthWebHookIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        shared_key:
          type: string
          nullable: true
          title: Shared Key
          description: The JWS shared secret key
        url:
          type: string
          title: WebHook URL
          description: The URL of the webhook
      required:
        - type
        - url
      additionalProperties: false
    HealthWebHookIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        shared_key:
          type: string
          nullable: true
          title: Shared Key
          description: The JWS shared secret key
        url:
          type: string
          title: WebHook URL
          description: The URL of the webhook
      required:
        - type
        - url
      additionalProperties: false
    HttpLogIntegration:
      type: object
      properties:
        id:
          type: string
          title: HttpLogIntegration Identifier
          description: The identifier of HttpLogIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: HTTP endpoint
          description: ''
        headers:
          type: object
          additionalProperties:
            type: string
          title: HTTP Headers
          description: HTTP headers to use in POST requests
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - created_at
        - updated_at
        - type
        - extra
        - url
        - headers
        - tls_verify
        - excluded_services
      additionalProperties: false
    HttpLogIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: HTTP endpoint
          description: ''
        headers:
          type: object
          additionalProperties:
            type: string
          title: HTTP Headers
          description: HTTP headers to use in POST requests
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
      additionalProperties: false
    HttpLogIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: HTTP endpoint
          description: ''
        headers:
          type: object
          additionalProperties:
            type: string
          title: HTTP Headers
          description: HTTP headers to use in POST requests
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
      additionalProperties: false
    Integration:
      oneOf:
        - $ref: '#/components/schemas/BitbucketIntegration'
        - $ref: '#/components/schemas/BitbucketServerIntegration'
        - $ref: '#/components/schemas/BlackfireIntegration'
        - $ref: '#/components/schemas/FastlyIntegration'
        - $ref: '#/components/schemas/GithubIntegration'
        - $ref: '#/components/schemas/GitLabIntegration'
        - $ref: '#/components/schemas/EmailIntegration'
        - $ref: '#/components/schemas/PagerDutyIntegration'
        - $ref: '#/components/schemas/SlackIntegration'
        - $ref: '#/components/schemas/HealthWebHookIntegration'
        - $ref: '#/components/schemas/HttpLogIntegration'
        - $ref: '#/components/schemas/NewRelicIntegration'
        - $ref: '#/components/schemas/HttpLogIntegration'
        - $ref: '#/components/schemas/ScriptIntegration'
        - $ref: '#/components/schemas/SplunkIntegration'
        - $ref: '#/components/schemas/SumologicIntegration'
        - $ref: '#/components/schemas/SyslogIntegration'
        - $ref: '#/components/schemas/WebHookIntegration'
    IntegrationCollection:
      type: array
      items:
        $ref: '#/components/schemas/Integration'
    IntegrationCreateInput:
      oneOf:
        - $ref: '#/components/schemas/BitbucketIntegrationCreateInput'
        - $ref: '#/components/schemas/BitbucketServerIntegrationCreateInput'
        - $ref: '#/components/schemas/BlackfireIntegrationCreateInput'
        - $ref: '#/components/schemas/FastlyIntegrationCreateInput'
        - $ref: '#/components/schemas/GithubIntegrationCreateInput'
        - $ref: '#/components/schemas/GitLabIntegrationCreateInput'
        - $ref: '#/components/schemas/EmailIntegrationCreateInput'
        - $ref: '#/components/schemas/PagerDutyIntegrationCreateInput'
        - $ref: '#/components/schemas/SlackIntegrationCreateInput'
        - $ref: '#/components/schemas/HealthWebHookIntegrationCreateInput'
        - $ref: '#/components/schemas/HttpLogIntegrationCreateInput'
        - $ref: '#/components/schemas/NewRelicIntegrationCreateInput'
        - $ref: '#/components/schemas/HttpLogIntegrationCreateInput'
        - $ref: '#/components/schemas/ScriptIntegrationCreateInput'
        - $ref: '#/components/schemas/SplunkIntegrationCreateInput'
        - $ref: '#/components/schemas/SumologicIntegrationCreateInput'
        - $ref: '#/components/schemas/SyslogIntegrationCreateInput'
        - $ref: '#/components/schemas/WebHookIntegrationCreateInput'
    IntegrationPatch:
      oneOf:
        - $ref: '#/components/schemas/BitbucketIntegrationPatch'
        - $ref: '#/components/schemas/BitbucketServerIntegrationPatch'
        - $ref: '#/components/schemas/BlackfireIntegrationPatch'
        - $ref: '#/components/schemas/FastlyIntegrationPatch'
        - $ref: '#/components/schemas/GithubIntegrationPatch'
        - $ref: '#/components/schemas/GitLabIntegrationPatch'
        - $ref: '#/components/schemas/EmailIntegrationPatch'
        - $ref: '#/components/schemas/PagerDutyIntegrationPatch'
        - $ref: '#/components/schemas/SlackIntegrationPatch'
        - $ref: '#/components/schemas/HealthWebHookIntegrationPatch'
        - $ref: '#/components/schemas/HttpLogIntegrationPatch'
        - $ref: '#/components/schemas/NewRelicIntegrationPatch'
        - $ref: '#/components/schemas/HttpLogIntegrationPatch'
        - $ref: '#/components/schemas/ScriptIntegrationPatch'
        - $ref: '#/components/schemas/SplunkIntegrationPatch'
        - $ref: '#/components/schemas/SumologicIntegrationPatch'
        - $ref: '#/components/schemas/SyslogIntegrationPatch'
        - $ref: '#/components/schemas/WebHookIntegrationPatch'
    Mapping:
      type: object
      additionalProperties: false
    NewRelicIntegration:
      type: object
      properties:
        id:
          type: string
          title: NewRelicIntegration Identifier
          description: The identifier of NewRelicIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The NewRelic Logs endpoint
          description: ''
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - created_at
        - updated_at
        - type
        - extra
        - url
        - tls_verify
        - excluded_services
      additionalProperties: false
    NewRelicIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The NewRelic Logs endpoint
          description: ''
        license_key:
          type: string
          title: License Key
          description: The NewRelic Logs License Key
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
        - license_key
      additionalProperties: false
    NewRelicIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The NewRelic Logs endpoint
          description: ''
        license_key:
          type: string
          title: License Key
          description: The NewRelic Logs License Key
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
        - license_key
      additionalProperties: false
    PagerDutyIntegration:
      type: object
      properties:
        id:
          type: string
          title: PagerDutyIntegration Identifier
          description: The identifier of PagerDutyIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        routing_key:
          type: string
          title: Routing Key
          description: The PagerDuty routing key
      required:
        - created_at
        - updated_at
        - type
        - routing_key
      additionalProperties: false
    PagerDutyIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        routing_key:
          type: string
          title: Routing Key
          description: The PagerDuty routing key
      required:
        - type
        - routing_key
      additionalProperties: false
    PagerDutyIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        routing_key:
          type: string
          title: Routing Key
          description: The PagerDuty routing key
      required:
        - type
        - routing_key
      additionalProperties: false
    ProdDomainStorage:
      type: object
      properties:
        id:
          type: string
          title: ProdDomainStorage Identifier
          description: The identifier of ProdDomainStorage
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Domain type
          description: ''
        project:
          type: string
          title: Project name
          description: ''
        name:
          type: string
          title: Domain name
          description: ''
        registered_name:
          type: string
          title: Claimed domain name
          description: ''
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        is_default:
          type: boolean
          title: Is Default
          description: Is this domain default
      required:
        - created_at
        - updated_at
        - type
        - name
        - attributes
      additionalProperties: false
    ProdDomainStorageCreateInput:
      type: object
      properties:
        name:
          type: string
          title: Domain name
          description: ''
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        is_default:
          type: boolean
          title: Is Default
          description: Is this domain default
      required:
        - name
      additionalProperties: false
    ProdDomainStoragePatch:
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        is_default:
          type: boolean
          title: Is Default
          description: Is this domain default
      additionalProperties: false
    Project:
      type: object
      properties:
        id:
          type: string
          title: Project Identifier
          description: The identifier of Project
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        title:
          type: string
          title: Title
          description: The title of the project
        description:
          type: string
          title: Description
          description: The description of the project
        owner:
          type: string
          title: Owner
          description: The owner of the project
          deprecated: true
          x-stability: DEPRECATED
        namespace:
          type: string
          nullable: true
          title: Namespace
          description: The namespace the project belongs in
          x-stability: EXPERIMENTAL
        organization:
          type: string
          nullable: true
          title: Organization
          description: The organization the project belongs in
          x-stability: EXPERIMENTAL
        default_branch:
          type: string
          nullable: true
          title: Default branch
          description: The default branch of the project
        status:
          type: object
          properties:
            code:
              type: string
              title: Status code
              description: ''
            message:
              type: string
              title: Status text
              description: ''
          required:
            - code
            - message
          additionalProperties: false
          title: Status
          description: The status of the project
        timezone:
          type: string
          title: Timezone
          description: Timezone of the project
        region:
          type: string
          title: Region
          description: The region of the project
        repository:
          type: object
          properties:
            url:
              type: string
              title: Git URL
              description: ''
            client_ssh_key:
              type: string
              nullable: true
              title: SSH Key
              description: SSH Key used to access external private repositories.
          required:
            - url
            - client_ssh_key
          additionalProperties: false
          title: Repository information
          description: The repository information of the project
        default_domain:
          type: string
          nullable: true
          title: Default domain
          description: The default domain of the project
        subscription:
          type: object
          properties:
            license_uri:
              type: string
              title: Subscription URI
              description: URI of the subscription
            plan:
              type: string
              enum:
                - 2xlarge
                - 2xlarge-high-memory
                - 4xlarge
                - 8xlarge
                - development
                - large
                - large-high-memory
                - medium
                - medium-high-memory
                - standard
                - standard-high-memory
                - xlarge
                - xlarge-high-memory
              title: Plan level
              description: ''
            environments:
              type: integer
              title: Environments number
              description: Number of environments
            storage:
              type: integer
              title: Storage
              description: Size of storage (in MB)
            included_users:
              type: integer
              title: Included users
              description: Number of users
            subscription_management_uri:
              type: string
              title: Subscription management URI
              description: URI for managing the subscription
            restricted:
              type: boolean
              title: Is subscription attributes frozen
              description: True if subscription attributes, like number of users, are frozen
            suspended:
              type: boolean
              title: Is subscription suspended
              description: Whether or not the subscription is suspended
            user_licenses:
              type: integer
              title: Current number of users
              description: Current number of users
            resources:
              type: object
              properties:
                container_profiles:
                  type: boolean
                  title: Is Container profiles enabled
                  description: Enable support for customizable container profiles.
                production:
                  type: object
                  properties:
                    legacy_development:
                      type: boolean
                      title: Legacy development sizing
                      description: Enable legacy development sizing for this environment type.
                    max_cpu:
                      type: number
                      format: float
                      nullable: true
                      title: Maximum CPU units
                      description: Maximum number of allocated CPU units.
                    max_memory:
                      type: integer
                      nullable: true
                      title: Maximum RAM
                      description: Maximum amount of allocated RAM.
                    max_environments:
                      type: integer
                      nullable: true
                      title: Maximum environments
                      description: Maximum number of environments
                  required:
                    - legacy_development
                    - max_cpu
                    - max_memory
                    - max_environments
                  additionalProperties: false
                  title: Production resources
                  description: Resources for production environments
                development:
                  type: object
                  properties:
                    legacy_development:
                      type: boolean
                      title: Legacy development sizing
                      description: Enable legacy development sizing for this environment type.
                    max_cpu:
                      type: number
                      format: float
                      nullable: true
                      title: Maximum CPU units
                      description: Maximum number of allocated CPU units.
                    max_memory:
                      type: integer
                      nullable: true
                      title: Maximum RAM
                      description: Maximum amount of allocated RAM.
                    max_environments:
                      type: integer
                      nullable: true
                      title: Maximum environments
                      description: Maximum number of environments
                  required:
                    - legacy_development
                    - max_cpu
                    - max_memory
                    - max_environments
                  additionalProperties: false
                  title: Development resources
                  description: Resources for development environments
              required:
                - container_profiles
                - production
                - development
              additionalProperties: false
              title: Resources limits
              description: Resources limits
            resource_validation_url:
              type: string
              title: Resource validation URL
              description: URL for resources validation
            image_types:
              type: object
              properties:
                only:
                  type: array
                  items:
                    type: string
                  title: Allowed image types
                  description: Image types to be allowed use.
                exclude:
                  type: array
                  items:
                    type: string
                  title: Denied image types
                  description: Image types to be denied use.
              additionalProperties: false
              title: Image type restrictions
              description: Restricted and denied image types
          required:
            - license_uri
            - storage
            - included_users
            - subscription_management_uri
            - restricted
            - suspended
            - user_licenses
          additionalProperties: false
          title: Subscription information
          description: The subscription information of the project
      required:
        - id
        - created_at
        - updated_at
        - attributes
        - title
        - description
        - owner
        - namespace
        - organization
        - default_branch
        - status
        - timezone
        - region
        - repository
        - default_domain
        - subscription
      additionalProperties: false
    ProjectCapabilities:
      type: object
      properties:
        custom_domains:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, custom domains can be added to the project.
            environments_with_domains_limit:
              type: integer
              title: Domains limit
              description: Limit on the amount of non-production environments that can have domains set
          required:
            - enabled
            - environments_with_domains_limit
          additionalProperties: false
          title: Custom Domains
          description: ''
        source_operations:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, source operations can be triggered.
          required:
            - enabled
          additionalProperties: false
          title: Source Operations
          description: ''
        runtime_operations:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, runtime operations can be triggered.
          required:
            - enabled
          additionalProperties: false
          title: Runtime Operations
          description: ''
        outbound_firewall:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, outbound firewall can be used.
          required:
            - enabled
          additionalProperties: false
          title: Outbound Firewall
          description: ''
        metrics:
          type: object
          properties:
            max_range:
              type: string
              title: Max range
              description: Limit on the maximum time range allowed in metrics retrieval
          required:
            - max_range
          additionalProperties: false
          title: Metrics
          description: ''
        logs_forwarding:
          type: object
          properties:
            max_extra_payload_size:
              type: integer
              title: Max extra payload size
              description: Limit on the maximum size for the custom extra attributes added to the forwarded logs payload
          required:
            - max_extra_payload_size
          additionalProperties: false
          title: Logs Forwarding
          description: ''
        guaranteed_resources:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, guaranteed resources can be used
            instance_limit:
              type: integer
              title: Instance limit
              description: Instance limit for guaranteed resources
          required:
            - enabled
            - instance_limit
          additionalProperties: false
          title: Guaranteed Resources
          description: ''
        images:
          type: object
          additionalProperties:
            type: object
            additionalProperties:
              type: object
              properties:
                available:
                  type: boolean
                  title: Available
                  description: The image is available for deployment
              required:
                - available
              additionalProperties: false
          title: Images
          description: ''
        instance_limit:
          type: integer
          title: Instance limit
          description: Maximum number of instance per service
        build_resources:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, build resources can be modified.
            max_cpu:
              type: number
              format: float
              title: CPU
              description: ''
            max_memory:
              type: integer
              title: Memory
              description: ''
          required:
            - enabled
            - max_cpu
            - max_memory
          additionalProperties: false
          title: Build Resources
          description: ''
        data_retention:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, data retention configuration can be modified.
          required:
            - enabled
          additionalProperties: false
          title: Data Retention
          description: ''
        autoscaling:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, autoscaling can be configured.
          required:
            - enabled
          additionalProperties: false
          title: Autoscaling
          description: ''
        integrations:
          type: object
          properties:
            enabled:
              type: boolean
              title: Enabled
              description: If true, integrations can be used
            config:
              type: object
              properties:
                newrelic:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: New Relic
                  description: New Relic log-forwarding integration configurations
                sumologic:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Sumo Logic
                  description: Sumo Logic log-forwarding integration configurations
                splunk:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Splunk
                  description: Splunk log-forwarding integration configurations
                httplog:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: HTTP log-forwarding
                  description: HTTP log-forwarding integration configurations
                syslog:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Syslog
                  description: Syslog log-forwarding integration configurations
                webhook:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Webhook
                  description: Webhook integration configurations
                script:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Script
                  description: Script integration configurations
                github:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: GitHub
                  description: GitHub integration configurations
                gitlab:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: GitLab
                  description: GitLab integration configurations
                bitbucket:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Bitbucket
                  description: Bitbucket integration configurations
                bitbucket_server:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Bitbucket Server
                  description: Bitbucket server integration configurations
                health.email:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Health Email
                  description: Health Email notification integration configurations
                health.webhook:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Health WebHook
                  description: ''
                health.pagerduty:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Health PagerDuty
                  description: Health PagerDuty notification integration configurations
                health.slack:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Health Slack
                  description: Health Slack notification integration configurations
                cdn.fastly:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Fastly CDN
                  description: Fastly CDN integration configurations
                blackfire:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: Blackfire
                  description: Blackfire integration configurations
                otlplog:
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      title: Enabled
                      description: The integration is enabled.
                    role:
                      type: string
                      title: Role
                      description: Minimum required role for creating the integration.
                  additionalProperties: false
                  title: OpenTelemetry
                  description: OpenTelemetry log-forwarding integration configurations
              additionalProperties: false
              title: Config
              description: ''
            allowed_integrations:
              type: array
              items:
                type: string
              title: Allowed Integrations
              description: List of integrations allowed to be created
          required:
            - enabled
          additionalProperties: false
          title: Integrations
          description: ''
      required:
        - metrics
        - logs_forwarding
        - guaranteed_resources
        - images
        - instance_limit
        - build_resources
        - data_retention
        - autoscaling
      additionalProperties: false
    ProjectCapabilitiesPatch:
      type: object
      additionalProperties: false
    ProjectCollection:
      type: array
      items:
        $ref: '#/components/schemas/Project'
    ProjectCreateInput:
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        title:
          type: string
          title: Title
          description: The title of the project
        description:
          type: string
          title: Description
          description: The description of the project
        default_branch:
          type: string
          nullable: true
          title: Default branch
          description: The default branch of the project
        timezone:
          type: string
          title: Timezone
          description: Timezone of the project
        region:
          type: string
          title: Region
          description: The region of the project
        default_domain:
          type: string
          nullable: true
          title: Default domain
          description: The default domain of the project
      required:
        - title
        - timezone
        - region
      additionalProperties: false
    ProjectPatch:
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        title:
          type: string
          title: Title
          description: The title of the project
        description:
          type: string
          title: Description
          description: The description of the project
        default_branch:
          type: string
          nullable: true
          title: Default branch
          description: The default branch of the project
        timezone:
          type: string
          title: Timezone
          description: Timezone of the project
        region:
          type: string
          title: Region
          description: The region of the project
        default_domain:
          type: string
          nullable: true
          title: Default domain
          description: The default domain of the project
      additionalProperties: false
    ProjectSettings:
      type: object
      properties:
        initialize:
          type: object
          title: Initialization key
          description: ''
        product_name:
          type: string
          title: Product Name
          description: The name of the product.
        product_code:
          type: string
          title: Product Code
          description: The lowercase ASCII code of the product.
        ui_uri_template:
          type: string
          title: UI URI Template
          description: The template of the project UI uri
        variables_prefix:
          type: string
          title: Variables Prefix
          description: The prefix of the generated environment variables.
        bot_email:
          type: string
          title: Bot Email
          description: The email of the bot.
        application_config_file:
          type: string
          title: Application Config File
          description: The name of the application-specific configuration file.
        project_config_dir:
          type: string
          title: Project Config Directory
          description: The name of the project configuration directory.
        use_drupal_defaults:
          type: boolean
          title: Use Drupal Defaults
          description: Whether to use the default Drupal-centric configuration files when missing from the repository.
        use_legacy_subdomains:
          type: boolean
          title: Use Legacy Subdomains
          description: Whether to use legacy subdomain scheme, that replaces `.` by `---` in development subdomains.
        development_service_size:
          type: string
          enum:
            - 2XL
            - 4XL
            - L
            - M
            - S
            - XL
          title: Development Service Size
          description: The size of development services.
        development_application_size:
          type: string
          enum:
            - 2XL
            - 4XL
            - L
            - M
            - S
            - XL
          title: Development Application Size
          description: The size of development applications.
        enable_certificate_provisioning:
          type: boolean
          title: Enable Certificate Provisioning
          description: Enable automatic certificate provisioning.
        certificate_style:
          type: string
          enum:
            - ecdsa
            - rsa
          title: Certificate Style
          description: ''
        certificate_renewal_activity:
          type: boolean
          title: Certificate Renewal Activity
          description: Create an activity for certificate renewal
        development_domain_template:
          type: string
          nullable: true
          title: Development Domain Template
          description: The template of the development domain, can include {project} and {environment} placeholders.
        enable_state_api_deployments:
          type: boolean
          title: Enable State API Deployments
          description: Enable the State API-driven deployments on regions that support them.
        temporary_disk_size:
          type: integer
          nullable: true
          title: Temporary Disk Size
          description: Set the size of the temporary disk (/tmp, in MB).
        local_disk_size:
          type: integer
          nullable: true
          title: Local Disk Size
          description: Set the size of the instance disk (in MB).
        cron_minimum_interval:
          type: integer
          title: Minimum cron interval
          description: Minimum interval between cron runs (in minutes)
        cron_maximum_jitter:
          type: integer
          title: Maximum cron jitter
          description: Maximum jitter inserted in cron runs (in minutes)
        cron_production_expiry_interval:
          type: integer
          title: Cron Production Expiry Interval
          description: The interval (in days) for which cron activity and logs are kept around
        cron_non_production_expiry_interval:
          type: integer
          title: Cron Non-Production Expiry Interval
          description: The interval (in days) for which cron activity and logs are kept around
        concurrency_limits:
          type: object
          additionalProperties:
            type: integer
            nullable: true
          title: Concurrency Limits
          description: The concurrency limits applied to different kind of activities
        flexible_build_cache:
          type: boolean
          title: Enable Flexible Build Cache
          description: Enable the flexible build cache implementation
        strict_configuration:
          type: boolean
          title: Enable Strict Configuration
          description: Strict configuration validation.
        has_sleepy_crons:
          type: boolean
          title: Enable sleepy crons.
          description: ''
        crons_in_git:
          type: boolean
          title: Enable crons from git.
          description: ''
        custom_error_template:
          type: string
          nullable: true
          title: Custom error template
          description: Custom error template for the router.
        app_error_page_template:
          type: string
          nullable: true
          title: Application error template
          description: Custom error template for the application.
        environment_name_strategy:
          type: string
          enum:
            - hash
            - name-and-hash
          title: Environment Name Strategy
          description: The strategy used to generate environment machine names
        data_retention:
          type: object
          additionalProperties:
            type: object
            properties:
              max_backups:
                type: integer
                title: Maximum Backups
                description: The maximum number of backups per environment
              default_config:
                type: object
                properties:
                  manual_count:
                    type: integer
                    title: Manual Count
                    description: The number of manual backups to keep.
                  schedule:
                    type: array
                    items:
                      type: object
                      properties:
                        interval:
                          type: string
                          title: Interval
                          description: The policy interval specification.
                        count:
                          type: integer
                          title: Count
                          description: The number of backups to keep under this interval.
                      required:
                        - interval
                        - count
                      additionalProperties: false
                    title: Schedule
                    description: The backup schedule specification.
                required:
                  - manual_count
                  - schedule
                additionalProperties: false
                title: Default Config
                description: ''
                x-stability: EXPERIMENTAL
            required:
              - max_backups
              - default_config
            additionalProperties: false
          nullable: true
          title: Data retention configuration
          description: Data retention configuration
        enable_codesource_integration_push:
          type: boolean
          title: Enable pushing commits
          description: Enable pushing commits to codesource integration.
        enforce_mfa:
          type: boolean
          title: Enforce multi-factor authentication.
          description: Enforce multi-factor authentication.
        systemd:
          type: boolean
          title: Use systemd
          description: Use systemd images.
        router_gen2:
          type: boolean
          title: Router v2
          description: Use the router v2 image.
        build_resources:
          type: object
          properties:
            cpu:
              type: number
              format: float
              title: CPU
              description: ''
            memory:
              type: integer
              title: Memory
              description: ''
          required:
            - cpu
            - memory
          additionalProperties: false
          title: Build Resources
          description: ''
        outbound_restrictions_default_policy:
          type: string
          enum:
            - allow
            - deny
          title: Outbound Restrictions Default Policy
          description: The default policy for firewall outbound restrictions
        self_upgrade:
          type: boolean
          title: Self Upgrade
          description: Whether self-upgrades are enabled
        self_upgrade_latest_major:
          type: boolean
          title: Whether to check for n+1 major version when self-upgrades are enabled
          description: ''
        additional_hosts:
          type: object
          additionalProperties:
            type: string
          title: Additional Hosts
          description: A mapping of hostname to ip address to be added to the container's hosts file
        max_allowed_routes:
          type: integer
          title: Maximum allowed routes
          description: Maximum number of routes allowed
        max_allowed_redirects_paths:
          type: integer
          title: Maximum allowed redirect paths
          description: Maximum number of redirect paths allowed
        enable_incremental_backups:
          type: boolean
          title: Enable incremental backups
          description: Enable incremental backups on regions that support them.
        sizing_api_enabled:
          type: boolean
          title: Enable sizing api
          description: Enable sizing api.
        enable_cache_grace_period:
          type: boolean
          title: Enable cache grace period
          description: Enable cache grace period.
        enable_zero_downtime_deployments:
          type: boolean
          title: Enable zero-downtime deployments
          description: Enable zero-downtime deployments for resource-only changes.
        enable_admin_agent:
          type: boolean
          title: Enable admin agent
          description: ''
        certifier_url:
          type: string
          title: Certifier URL
          description: The certifier url
        centralized_permissions:
          type: boolean
          title: Centralized Permissions
          description: Whether centralized permissions are enabled
        glue_server_max_request_size:
          type: integer
          title: Glue Server Max Request Size
          description: Maximum size of request to glue-server (in MB)
        persistent_endpoints_ssh:
          type: boolean
          title: Persistent Endpoints SSH
          description: Enable SSH access update with persistent endpoint
        persistent_endpoints_ssl_certificates:
          type: boolean
          title: Persistent Endpoints SSL Certificates
          description: Enable SSL certificate update with persistent endpoint
        enable_disk_health_monitoring:
          type: boolean
          title: Enable disk health monitoring
          description: ''
        enable_paused_environments:
          type: boolean
          title: Enable paused environments
          description: ''
        enable_unified_configuration:
          type: boolean
          title: Enable unified configuration files
          description: ''
        enable_routes_tracing:
          type: boolean
          title: Enable routes tracing
          description: Enable tracing support in routes
        image_deployment_validation:
          type: boolean
          title: Image Deployment Validation
          description: Enable extended deployment validation by images
        support_generic_images:
          type: boolean
          title: Support composable images
          description: ''
        enable_github_app_token_exchange:
          type: boolean
          title: Enable GitHub App token exchange
          description: Enable fetching the GitHub App token from SIA.
        continuous_profiling:
          type: object
          properties:
            supported_runtimes:
              type: array
              items:
                type: string
              title: Supported runtimes
              description: List of images supported for continuous profiling
          required:
            - supported_runtimes
          additionalProperties: false
          title: Continuous profiling configuration
          description: The continuous profiling configuration
        disable_agent_error_reporter:
          type: boolean
          title: Disable agent error reporter
          description: ''
        requires_domain_ownership:
          type: boolean
          title: Require domain ownership
          description: Require ownership proof before domains are added to environments.
        enable_guaranteed_resources:
          type: boolean
          title: Enable guaranteed resources feature
          description: Enable guaranteed resources feature
        git_server:
          type: object
          properties:
            push_size_hard_limit:
              type: integer
              title: Push Size Hard Limit
              description: Push Size Reject Limit
          required:
            - push_size_hard_limit
          additionalProperties: false
          title: Git Server configuration
          description: ''
        activity_logs_max_size:
          type: integer
          title: Activity Logs Max Size
          description: The maximum size of activity logs in bytes. This limit is applied on the pre-compressed log size.
        allow_manual_deployments:
          type: boolean
          title: Allow Manual Deployments
          description: If deployments can be manual, i.e. explicitly triggered by user.
        allow_rolling_deployments:
          type: boolean
          title: Allow Rolling Deployments
          description: If the project can use rolling deployments.
        allow_burst:
          type: boolean
          title: Allow burst
          description: ''
        router_resources:
          type: object
          properties:
            baseline_cpu:
              type: number
              format: float
              title: Baseline CPU
              description: Router baseline CPU for flex plan
            baseline_memory:
              type: integer
              title: Baseline Memory
              description: Router baseline memory (MB) for flex plan
            max_cpu:
              type: number
              format: float
              title: Max CPU
              description: Router max CPU for flex plan
            max_memory:
              type: integer
              title: Max Memory
              description: Router max memory (MB) for flex plan
          required:
            - baseline_cpu
            - baseline_memory
            - max_cpu
            - max_memory
          additionalProperties: false
          title: Router Resources
          description: Router resource settings for flex plan
      required:
        - initialize
        - product_name
        - product_code
        - ui_uri_template
        - variables_prefix
        - bot_email
        - application_config_file
        - project_config_dir
        - use_drupal_defaults
        - use_legacy_subdomains
        - development_service_size
        - development_application_size
        - enable_certificate_provisioning
        - certificate_style
        - certificate_renewal_activity
        - development_domain_template
        - enable_state_api_deployments
        - temporary_disk_size
        - local_disk_size
        - cron_minimum_interval
        - cron_maximum_jitter
        - cron_production_expiry_interval
        - cron_non_production_expiry_interval
        - concurrency_limits
        - flexible_build_cache
        - strict_configuration
        - has_sleepy_crons
        - crons_in_git
        - custom_error_template
        - app_error_page_template
        - environment_name_strategy
        - data_retention
        - enable_codesource_integration_push
        - enforce_mfa
        - systemd
        - router_gen2
        - build_resources
        - outbound_restrictions_default_policy
        - self_upgrade
        - self_upgrade_latest_major
        - additional_hosts
        - max_allowed_routes
        - max_allowed_redirects_paths
        - enable_incremental_backups
        - sizing_api_enabled
        - enable_cache_grace_period
        - enable_zero_downtime_deployments
        - enable_admin_agent
        - certifier_url
        - centralized_permissions
        - glue_server_max_request_size
        - persistent_endpoints_ssh
        - persistent_endpoints_ssl_certificates
        - enable_disk_health_monitoring
        - enable_paused_environments
        - enable_unified_configuration
        - enable_routes_tracing
        - image_deployment_validation
        - support_generic_images
        - enable_github_app_token_exchange
        - continuous_profiling
        - disable_agent_error_reporter
        - requires_domain_ownership
        - enable_guaranteed_resources
        - git_server
        - activity_logs_max_size
        - allow_manual_deployments
        - allow_rolling_deployments
        - allow_burst
        - router_resources
      additionalProperties: false
    ProjectSettingsPatch:
      type: object
      properties:
        initialize:
          type: object
          title: Initialization key
          description: ''
        data_retention:
          type: object
          additionalProperties:
            type: object
            properties:
              max_backups:
                type: integer
                title: Maximum Backups
                description: The maximum number of backups per environment
              default_config:
                type: object
                properties:
                  manual_count:
                    type: integer
                    title: Manual Count
                    description: The number of manual backups to keep.
                  schedule:
                    type: array
                    items:
                      type: object
                      properties:
                        interval:
                          type: string
                          title: Interval
                          description: The policy interval specification.
                        count:
                          type: integer
                          title: Count
                          description: The number of backups to keep under this interval.
                      required:
                        - interval
                        - count
                      additionalProperties: false
                    title: Schedule
                    description: The backup schedule specification.
                additionalProperties: false
                title: Default Config
                description: ''
                x-stability: EXPERIMENTAL
            required:
              - default_config
            additionalProperties: false
          nullable: true
          title: Data retention configuration
          description: Data retention configuration
        build_resources:
          type: object
          properties:
            cpu:
              type: number
              format: float
              title: CPU
              description: ''
            memory:
              type: integer
              title: Memory
              description: ''
          additionalProperties: false
          title: Build Resources
          description: ''
      additionalProperties: false
    ProjectVariable:
      type: object
      properties:
        id:
          type: string
          title: ProjectVariable Identifier
          description: The identifier of ProjectVariable
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
      required:
        - id
        - created_at
        - updated_at
        - name
        - attributes
        - is_json
        - is_sensitive
        - visible_build
        - visible_runtime
        - application_scope
      additionalProperties: false
    ProjectVariableCollection:
      type: array
      items:
        $ref: '#/components/schemas/ProjectVariable'
    ProjectVariableCreateInput:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
      required:
        - name
        - value
      additionalProperties: false
    ProjectVariablePatch:
      type: object
      properties:
        name:
          type: string
          title: Name
          description: Name of the variable
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        value:
          type: string
          title: Value
          description: Value of the variable
        is_json:
          type: boolean
          title: Is JSON
          description: The variable is a JSON string
        is_sensitive:
          type: boolean
          title: Is Sensitive
          description: The variable is sensitive
        visible_build:
          type: boolean
          title: Visible during build
          description: The variable is visible during build
        visible_runtime:
          type: boolean
          title: Visible at runtime
          description: The variable is visible at runtime
        application_scope:
          type: array
          items:
            type: string
          title: Application Scope
          description: Applications that have access to this variable
      additionalProperties: false
    ProxyRoute:
      type: object
      properties:
        id:
          type: string
          title: ProxyRoute Identifier
          description: The identifier of ProxyRoute
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              required:
                - enabled
                - include_subdomains
                - preload
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          required:
            - strict_transport_security
            - min_version
            - client_authentication
            - client_certificate_authorities
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Proxy destination
          description: ''
      required:
        - primary
        - id
        - production_url
        - attributes
        - type
        - tls
        - to
      additionalProperties: false
    ProxyRouteCreateInput:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Proxy destination
          description: ''
      required:
        - type
        - to
      additionalProperties: false
    ProxyRoutePatch:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Proxy destination
          description: ''
      required:
        - type
        - to
      additionalProperties: false
    RedirectRoute:
      type: object
      properties:
        id:
          type: string
          title: RedirectRoute Identifier
          description: The identifier of RedirectRoute
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              required:
                - enabled
                - include_subdomains
                - preload
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          required:
            - strict_transport_security
            - min_version
            - client_authentication
            - client_certificate_authorities
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Redirect destination
          description: ''
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - regexp
                  - to
                  - prefix
                  - append_suffix
                  - code
                  - expires
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - expires
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
      required:
        - primary
        - id
        - production_url
        - attributes
        - type
        - tls
        - to
        - redirects
      additionalProperties: false
    RedirectRouteCreateInput:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Redirect destination
          description: ''
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - to
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
      required:
        - type
        - to
      additionalProperties: false
    RedirectRoutePatch:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        to:
          type: string
          title: Redirect destination
          description: ''
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - to
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
      required:
        - type
        - to
      additionalProperties: false
    Ref:
      type: object
      properties:
        id:
          type: string
          title: Ref Identifier
          description: The identifier of Ref
        ref:
          type: string
          title: Name
          description: The name of the reference
        object:
          type: object
          properties:
            type:
              type: string
              title: Type
              description: The type of object pointed to
            sha:
              type: string
              title: The SHA of the object pointed to
              description: ''
          required:
            - type
            - sha
          additionalProperties: false
          title: Object
          description: The object the reference points to
        sha:
          type: string
          title: SHA
          description: The commit sha of the ref
      required:
        - id
        - ref
        - object
        - sha
      additionalProperties: false
    RefCollection:
      type: array
      items:
        $ref: '#/components/schemas/Ref'
    RefCreateInput:
      type: object
      properties:
        ref:
          type: string
          title: Name
          description: The name of the reference
        sha:
          type: string
          title: SHA
          description: The commit sha of the ref
      required:
        - ref
        - sha
      additionalProperties: false
    RefPatch:
      type: object
      properties:
        sha:
          type: string
          title: SHA
          description: The commit sha of the ref
      additionalProperties: false
    ReplacementDomainStorage:
      type: object
      properties:
        id:
          type: string
          title: ReplacementDomainStorage Identifier
          description: The identifier of ReplacementDomainStorage
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Type
          description: Domain type
        project:
          type: string
          title: Project name
          description: ''
        name:
          type: string
          title: Domain name
          description: ''
        registered_name:
          type: string
          title: Claimed domain name
          description: ''
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        replacement_for:
          type: string
          title: Replacement For
          description: Prod domain which will be replaced by this domain.
      required:
        - created_at
        - updated_at
        - type
        - name
        - attributes
      additionalProperties: false
    ReplacementDomainStorageCreateInput:
      type: object
      properties:
        name:
          type: string
          title: Domain name
          description: ''
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        replacement_for:
          type: string
          title: Replacement For
          description: Prod domain which will be replaced by this domain.
      required:
        - name
      additionalProperties: false
    ReplacementDomainStoragePatch:
      type: object
      properties:
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
      additionalProperties: false
    Route:
      oneOf:
        - $ref: '#/components/schemas/ProxyRoute'
        - $ref: '#/components/schemas/RedirectRoute'
        - $ref: '#/components/schemas/UpstreamRoute'
    RouteCollection:
      type: array
      items:
        $ref: '#/components/schemas/Route'
    RouteCreateInput:
      oneOf:
        - $ref: '#/components/schemas/ProxyRouteCreateInput'
        - $ref: '#/components/schemas/RedirectRouteCreateInput'
        - $ref: '#/components/schemas/UpstreamRouteCreateInput'
    RoutePatch:
      oneOf:
        - $ref: '#/components/schemas/ProxyRoutePatch'
        - $ref: '#/components/schemas/RedirectRoutePatch'
        - $ref: '#/components/schemas/UpstreamRoutePatch'
    ScriptIntegration:
      type: object
      properties:
        id:
          type: string
          title: ScriptIntegration Identifier
          description: The identifier of ScriptIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        script:
          type: string
          title: script
          description: The script to run
      required:
        - created_at
        - updated_at
        - type
        - events
        - environments
        - excluded_environments
        - states
        - result
        - script
      additionalProperties: false
    ScriptIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        script:
          type: string
          title: script
          description: The script to run
      required:
        - type
        - script
      additionalProperties: false
    ScriptIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        script:
          type: string
          title: script
          description: The script to run
      required:
        - type
        - script
      additionalProperties: false
    SlackIntegration:
      type: object
      properties:
        id:
          type: string
          title: SlackIntegration Identifier
          description: The identifier of SlackIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        channel:
          type: string
          title: Slack Channel
          description: The Slack channel to post messages to
      required:
        - created_at
        - updated_at
        - type
        - channel
      additionalProperties: false
    SlackIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        token:
          type: string
          title: Slack Token
          description: The Slack token to use
        channel:
          type: string
          title: Slack Channel
          description: The Slack channel to post messages to
      required:
        - type
        - token
        - channel
      additionalProperties: false
    SlackIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        token:
          type: string
          title: Slack Token
          description: The Slack token to use
        channel:
          type: string
          title: Slack Channel
          description: The Slack channel to post messages to
      required:
        - type
        - token
        - channel
      additionalProperties: false
    SplunkIntegration:
      type: object
      properties:
        id:
          type: string
          title: SplunkIntegration Identifier
          description: The identifier of SplunkIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: URL
          description: The Splunk HTTP Event Connector REST API endpoint
        index:
          type: string
          title: Index
          description: The Splunk Index
        sourcetype:
          type: string
          title: Sourcetype
          description: The event 'sourcetype'
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - created_at
        - updated_at
        - type
        - extra
        - url
        - index
        - sourcetype
        - tls_verify
        - excluded_services
      additionalProperties: false
    SplunkIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: URL
          description: The Splunk HTTP Event Connector REST API endpoint
        index:
          type: string
          title: Index
          description: The Splunk Index
        token:
          type: string
          title: Authorization Token
          description: The Splunk Authorization Token
        sourcetype:
          type: string
          title: Sourcetype
          description: The event 'sourcetype'
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
        - index
        - token
      additionalProperties: false
    SplunkIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: URL
          description: The Splunk HTTP Event Connector REST API endpoint
        index:
          type: string
          title: Index
          description: The Splunk Index
        token:
          type: string
          title: Authorization Token
          description: The Splunk Authorization Token
        sourcetype:
          type: string
          title: Sourcetype
          description: The event 'sourcetype'
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
        - index
        - token
      additionalProperties: false
    SumologicIntegration:
      type: object
      properties:
        id:
          type: string
          title: SumologicIntegration Identifier
          description: The identifier of SumologicIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The Sumologic HTTPS endpoint
          description: ''
        category:
          type: string
          title: Category
          description: The Category used to easy filtering (sent as X-Sumo-Category header)
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - created_at
        - updated_at
        - type
        - extra
        - url
        - category
        - tls_verify
        - excluded_services
      additionalProperties: false
    SumologicIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The Sumologic HTTPS endpoint
          description: ''
        category:
          type: string
          title: Category
          description: The Category used to easy filtering (sent as X-Sumo-Category header)
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
      additionalProperties: false
    SumologicIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        url:
          type: string
          title: The Sumologic HTTPS endpoint
          description: ''
        category:
          type: string
          title: Category
          description: The Category used to easy filtering (sent as X-Sumo-Category header)
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
        - url
      additionalProperties: false
    SyslogIntegration:
      type: object
      properties:
        id:
          type: string
          title: SyslogIntegration Identifier
          description: The identifier of SyslogIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        host:
          type: string
          title: Host
          description: Syslog relay/collector host
        port:
          type: integer
          title: Port
          description: Syslog relay/collector port
        protocol:
          type: string
          enum:
            - tcp
            - tls
            - udp
          title: Protocol
          description: Transport protocol
        facility:
          type: integer
          title: Facility
          description: Syslog facility
        message_format:
          type: string
          enum:
            - rfc3164
            - rfc5424
          title: Message format
          description: Syslog message format
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - created_at
        - updated_at
        - type
        - extra
        - host
        - port
        - protocol
        - facility
        - message_format
        - tls_verify
        - excluded_services
      additionalProperties: false
    SyslogIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        host:
          type: string
          title: Host
          description: Syslog relay/collector host
        port:
          type: integer
          title: Port
          description: Syslog relay/collector port
        protocol:
          type: string
          enum:
            - tcp
            - tls
            - udp
          title: Protocol
          description: Transport protocol
        facility:
          type: integer
          title: Facility
          description: Syslog facility
        message_format:
          type: string
          enum:
            - rfc3164
            - rfc5424
          title: Message format
          description: Syslog message format
        auth_token:
          type: string
          title: Authentication token
          description: ''
        auth_mode:
          type: string
          enum:
            - prefix
            - structured_data
          title: Authentication mode
          description: ''
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
      additionalProperties: false
    SyslogIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        extra:
          type: object
          additionalProperties:
            type: string
          title: Extra
          description: Arbitrary key/value pairs to include with forwarded logs
        host:
          type: string
          title: Host
          description: Syslog relay/collector host
        port:
          type: integer
          title: Port
          description: Syslog relay/collector port
        protocol:
          type: string
          enum:
            - tcp
            - tls
            - udp
          title: Protocol
          description: Transport protocol
        facility:
          type: integer
          title: Facility
          description: Syslog facility
        message_format:
          type: string
          enum:
            - rfc3164
            - rfc5424
          title: Message format
          description: Syslog message format
        auth_token:
          type: string
          title: Authentication token
          description: ''
        auth_mode:
          type: string
          enum:
            - prefix
            - structured_data
          title: Authentication mode
          description: ''
        tls_verify:
          type: boolean
          title: TLS Verify
          description: Enable/Disable HTTPS certificate verification
        excluded_services:
          type: array
          items:
            type: string
          title: Excluded Services
          description: Comma separated list of service and application names to exclude from logging
      required:
        - type
      additionalProperties: false
    SystemInformation:
      type: object
      properties:
        version:
          type: string
          title: Version
          description: The version of this project server
        image:
          type: string
          title: Image
          description: The image version of the project server
        started_at:
          type: string
          format: date-time
          title: Started At
          description: ''
      required:
        - version
        - image
        - started_at
      additionalProperties: false
    Tag:
      type: object
      properties:
        id:
          type: string
          title: Tag Identifier
          description: The identifier of Tag
        sha:
          type: string
          title: SHA
          description: The identifier of the tag
        tag:
          type: string
          title: Tag name
          description: The tag name
        tagger:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Tagger
          description: The information about the tagger
        message:
          type: string
          title: Tag message
          description: The tag message
        object:
          type: object
          properties:
            type:
              type: string
              title: Type
              description: The type of object pointed to
            sha:
              type: string
              title: The SHA of the object pointed to
              description: ''
          required:
            - type
            - sha
          additionalProperties: false
          title: Object
          description: The information about the object the tag points to
      required:
        - id
        - sha
        - tag
        - tagger
        - message
        - object
      additionalProperties: false
    TagCollection:
      type: array
      items:
        $ref: '#/components/schemas/Tag'
    TagCreateInput:
      type: object
      properties:
        tag:
          type: string
          title: Tag name
          description: The tag name
        tagger:
          type: object
          properties:
            date:
              type: string
              format: date-time
              title: Date
              description: The time of the author or committer
            name:
              type: string
              title: Name
              description: The name of the author or committer
            email:
              type: string
              title: Email
              description: The email of the author or committer
          required:
            - date
            - name
            - email
          additionalProperties: false
          title: Tagger
          description: The information about the tagger
        message:
          type: string
          title: Tag message
          description: The tag message
        object:
          type: object
          properties:
            sha:
              type: string
              title: The SHA of the object pointed to
              description: ''
          required:
            - sha
          additionalProperties: false
          title: Object
          description: The information about the object the tag points to
      required:
        - tag
        - message
        - object
      additionalProperties: false
    Tree:
      type: object
      properties:
        id:
          type: string
          title: Tree Identifier
          description: The identifier of Tree
        sha:
          type: string
          title: SHA
          description: The identifier of the tree
        tree:
          type: array
          items:
            type: object
            properties:
              path:
                type: string
                title: Item path
                description: The path of the item
              mode:
                type: string
                enum:
                  - '040000'
                  - '100644'
                  - '100755'
                  - '120000'
                  - '160000'
                title: Item mode
                description: The mode of the item
              type:
                type: string
                title: Item type
                description: The type of the item (blob or tree)
              sha:
                type: string
                nullable: true
                title: Item SHA
                description: The sha of the item
            required:
              - path
              - mode
              - type
              - sha
            additionalProperties: false
          title: Tree items
          description: The tree items
      required:
        - id
        - sha
        - tree
      additionalProperties: false
    TreeCollection:
      type: array
      items:
        $ref: '#/components/schemas/Tree'
    TreeCreateInput:
      type: object
      properties:
        tree:
          type: array
          items:
            type: object
            properties:
              path:
                type: string
                title: Item path
                description: The path of the item
              mode:
                type: string
                enum:
                  - '040000'
                  - '100644'
                  - '100755'
                  - '120000'
                  - '160000'
                title: Item mode
                description: The mode of the item
              sha:
                type: string
                nullable: true
                title: Item SHA
                description: The sha of the item
              content:
                type: string
                nullable: true
                title: Content
                description: The content of the blob at path
              encoding:
                type: string
                enum:
                  - base64
                  - utf-8
                title: Content encoding
                description: The encoding of the content of the blob at path
            required:
              - path
            additionalProperties: false
          title: Tree items
          description: The tree items
        base_tree:
          type: string
          nullable: true
          title: Base tree
          description: The base tree to use while creating this tree
      required:
        - tree
      additionalProperties: false
    UpstreamRoute:
      type: object
      properties:
        id:
          type: string
          title: UpstreamRoute Identifier
          description: The identifier of UpstreamRoute
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              required:
                - enabled
                - include_subdomains
                - preload
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          required:
            - strict_transport_security
            - min_version
            - client_authentication
            - client_certificate_authorities
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        cache:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether the cache is enabled.
            default_ttl:
              type: integer
              title: Default TTL
              description: The TTL to apply when the response doesn't specify one. Only applies to static files.
            cookies:
              type: array
              items:
                type: string
              title: Cookies
              description: The cookies to take into account for the cache key.
            headers:
              type: array
              items:
                type: string
              title: Headers
              description: The headers to take into account for the cache key.
          required:
            - enabled
            - default_ttl
            - cookies
            - headers
          additionalProperties: false
          title: Cache configuration
          description: Cache configuration.
        ssi:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether SSI include is enabled.
          required:
            - enabled
          additionalProperties: false
          title: SSI configuration
          description: Server-Side Include configuration.
        upstream:
          type: string
          title: Upstream
          description: The upstream to use for this route.
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - regexp
                  - to
                  - prefix
                  - append_suffix
                  - code
                  - expires
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - expires
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
        sticky:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether sticky routing is enabled.
          required:
            - enabled
          additionalProperties: false
          title: Sticky configuration
          description: Sticky routing configuration.
      required:
        - primary
        - id
        - production_url
        - attributes
        - type
        - tls
        - cache
        - ssi
        - upstream
        - redirects
        - sticky
      additionalProperties: false
    UpstreamRouteCreateInput:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        cache:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether the cache is enabled.
            default_ttl:
              type: integer
              title: Default TTL
              description: The TTL to apply when the response doesn't specify one. Only applies to static files.
            cookies:
              type: array
              items:
                type: string
              title: Cookies
              description: The cookies to take into account for the cache key.
            headers:
              type: array
              items:
                type: string
              title: Headers
              description: The headers to take into account for the cache key.
          required:
            - enabled
          additionalProperties: false
          title: Cache configuration
          description: Cache configuration.
        ssi:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether SSI include is enabled.
          required:
            - enabled
          additionalProperties: false
          title: SSI configuration
          description: Server-Side Include configuration.
        upstream:
          type: string
          title: Upstream
          description: The upstream to use for this route.
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - to
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
        sticky:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether sticky routing is enabled.
          required:
            - enabled
          additionalProperties: false
          title: Sticky configuration
          description: Sticky routing configuration.
      required:
        - type
        - upstream
      additionalProperties: false
    UpstreamRoutePatch:
      type: object
      properties:
        primary:
          type: boolean
          nullable: true
          title: Is primary
          description: This route is the primary route of the environment
        id:
          type: string
          nullable: true
          title: Route Identifier
          description: Route Identifier
        production_url:
          type: string
          nullable: true
          title: Production URL
          description: How this URL route would look on production environment
        attributes:
          type: object
          additionalProperties:
            type: string
          title: Arbitrary attributes
          description: Arbitrary attributes attached to this resource
        type:
          type: string
          enum:
            - proxy
            - redirect
            - upstream
          title: Route type
          description: Route type.
        tls:
          type: object
          properties:
            strict_transport_security:
              type: object
              properties:
                enabled:
                  type: boolean
                  nullable: true
                  title: Is enabled
                  description: Whether strict transport security is enabled or not.
                include_subdomains:
                  type: boolean
                  nullable: true
                  title: Is subdomains included
                  description: Whether the strict transport security policy should include all subdomains.
                preload:
                  type: boolean
                  nullable: true
                  title: Is strict transport security preloaded
                  description: Whether the strict transport security policy should be preloaded in browsers.
              additionalProperties: false
              title: Strict-Transport-Security options.
              description: ''
            min_version:
              type: string
              enum:
                - TLSv1.0
                - TLSv1.1
                - TLSv1.2
                - TLSv1.3
              nullable: true
              title: Minimum TLS version
              description: The minimum TLS version to support.
            client_authentication:
              type: string
              enum:
                - request
                - require
              nullable: true
              title: Client authentication
              description: The type of client authentication to request.
            client_certificate_authorities:
              type: array
              items:
                type: string
              title: Client certificate authorities
              description: Certificate authorities to validate the client certificate against. If not specified, a default set of trusted CAs will be used.
          additionalProperties: false
          title: TLS settings
          description: TLS settings for the route.
        cache:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether the cache is enabled.
            default_ttl:
              type: integer
              title: Default TTL
              description: The TTL to apply when the response doesn't specify one. Only applies to static files.
            cookies:
              type: array
              items:
                type: string
              title: Cookies
              description: The cookies to take into account for the cache key.
            headers:
              type: array
              items:
                type: string
              title: Headers
              description: The headers to take into account for the cache key.
          required:
            - enabled
          additionalProperties: false
          title: Cache configuration
          description: Cache configuration.
        ssi:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether SSI include is enabled.
          required:
            - enabled
          additionalProperties: false
          title: SSI configuration
          description: Server-Side Include configuration.
        upstream:
          type: string
          title: Upstream
          description: The upstream to use for this route.
        redirects:
          type: object
          properties:
            expires:
              type: string
              title: Expires
              description: The amount of time, in seconds, to cache the redirects.
            paths:
              type: object
              additionalProperties:
                type: object
                properties:
                  regexp:
                    type: boolean
                    title: Is regexp
                    description: Whether the path is a regular expression.
                  to:
                    type: string
                    title: Redirect URL
                    description: The URL to redirect to.
                  prefix:
                    type: boolean
                    nullable: true
                    title: Is prefix
                    description: Whether to redirect all the paths that start with the path.
                  append_suffix:
                    type: boolean
                    nullable: true
                    title: Append suffix
                    description: Whether to append the incoming suffix to the redirected URL.
                  code:
                    type: integer
                    enum:
                      - 301
                      - 302
                      - 307
                      - 308
                    title: Redirect code
                    description: The redirect code to use.
                  expires:
                    type: string
                    nullable: true
                    title: Expires
                    description: The amount of time, in seconds, to cache the redirects.
                required:
                  - to
                additionalProperties: false
              title: Path
              description: The paths to redirect
          required:
            - paths
          additionalProperties: false
          title: Redirect configuration
          description: The configuration of the redirects.
        sticky:
          type: object
          properties:
            enabled:
              type: boolean
              title: Is enabled
              description: Whether sticky routing is enabled.
          required:
            - enabled
          additionalProperties: false
          title: Sticky configuration
          description: Sticky routing configuration.
      required:
        - type
        - upstream
      additionalProperties: false
    Version:
      type: object
      properties:
        id:
          type: string
          title: Version Identifier
          description: The identifier of Version
        commit:
          type: string
          nullable: true
          title: Commit SHA
          description: The SHA of the commit of this version
        locked:
          type: boolean
          title: Is locked
          description: Whether this version is locked and cannot be modified
        routing:
          type: object
          properties:
            percentage:
              type: integer
              title: Traffic percentage
              description: The percentage of traffic routed to this version
          required:
            - percentage
          additionalProperties: false
          title: Routing
          description: Configuration about the traffic routed to this version
      required:
        - id
        - commit
        - locked
        - routing
      additionalProperties: false
    VersionCollection:
      type: array
      items:
        $ref: '#/components/schemas/Version'
    VersionCreateInput:
      type: object
      properties:
        routing:
          type: object
          properties:
            percentage:
              type: integer
              title: Traffic percentage
              description: The percentage of traffic routed to this version
          additionalProperties: false
          title: Routing
          description: Configuration about the traffic routed to this version
      additionalProperties: false
    VersionPatch:
      type: object
      properties:
        routing:
          type: object
          properties:
            percentage:
              type: integer
              title: Traffic percentage
              description: The percentage of traffic routed to this version
          additionalProperties: false
          title: Routing
          description: Configuration about the traffic routed to this version
      additionalProperties: false
    WebHookIntegration:
      type: object
      properties:
        id:
          type: string
          title: WebHookIntegration Identifier
          description: The identifier of WebHookIntegration
        created_at:
          type: string
          format: date-time
          nullable: true
          title: Creation date
          description: The creation date
        updated_at:
          type: string
          format: date-time
          nullable: true
          title: Update date
          description: The update date
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        shared_key:
          type: string
          nullable: true
          title: Shared Key
          description: The JWS shared secret key
        url:
          type: string
          title: URL
          description: The URL of the webhook
      required:
        - created_at
        - updated_at
        - type
        - events
        - environments
        - excluded_environments
        - states
        - result
        - shared_key
        - url
      additionalProperties: false
    WebHookIntegrationCreateInput:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        shared_key:
          type: string
          nullable: true
          title: Shared Key
          description: The JWS shared secret key
        url:
          type: string
          title: URL
          description: The URL of the webhook
      required:
        - type
        - url
      additionalProperties: false
    WebHookIntegrationPatch:
      type: object
      properties:
        type:
          type: string
          title: Integration type
          description: ''
        events:
          type: array
          items:
            type: string
          title: Events
          description: Events to execute the hook on
        environments:
          type: array
          items:
            type: string
          title: Environments
          description: The environments to execute the hook on
        excluded_environments:
          type: array
          items:
            type: string
          title: Excluded Environments
          description: The environments to not execute the hook on
        states:
          type: array
          items:
            type: string
          title: States
          description: Events to execute the hook on
        result:
          type: string
          enum:
            - '*'
            - failure
            - success
          title: Result
          description: Result to execute the hook on
        shared_key:
          type: string
          nullable: true
          title: Shared Key
          description: The JWS shared secret key
        url:
          type: string
          title: URL
          description: The URL of the webhook
      required:
        - type
        - url
      additionalProperties: false
    AutoscalerAlertPartial:
      properties:
        name:
          description: User friendly name for the alert
          title: Name
          type: string
        environment:
          type: string
          nullable: true
          title: Environment
          description: Environment for which the alert was received
        service:
          description: Service for which the alert was received
          title: Service
          type: string
        resource:
          type: string
          nullable: true
          title: Resource
          description: Name of resource that triggered the alert
        condition:
          description: Comparison condition to use when evaluating the alert
          title: Condition
          type: string
        threshold:
          description: Value that has to be crossed for the alert to be considered triggered
          title: Threshold
          type: number
        duration:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerDuration'
          nullable: true
          description: Number of seconds during which the condition was satisfied
        value:
          description: Current value for the received alert
          title: Value
          type: number
      required:
        - name
        - service
        - condition
        - threshold
        - value
      title: AutoscalerAlertPartial
      type: object
    AutoscalerCPUPressureTrigger:
      description: |-
        CPU pressure trigger settings.

        When CPU pressure goes below lower bound, service will be scaled down.
        When CPU pressure goes above upper bound, service will be scaled up.
      properties:
        enabled:
          type: boolean
          nullable: true
          title: Enabled
          description: Whether the trigger is enabled
        down:
          allOf:
            - description: Lower bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
        up:
          allOf:
            - description: Upper bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
      title: AutoscalerCPUPressureTrigger
      type: object
    AutoscalerCPUResources:
      description: CPU scaling settings
      properties:
        min:
          description: Minimum CPUs when scaling down vertically
          minimum: 0
          title: Min
          type: number
        max:
          description: Maximum CPUs when scaling up vertically
          minimum: 0
          title: Max
          type: number
      title: AutoscalerCPUResources
      type: object
    AutoscalerCPUTrigger:
      description: |-
        CPU resource trigger settings.

        When CPU usage goes below lower bound, service will be scaled down.
        When CPU usage goes above upper bound, service will be scaled up.
      properties:
        enabled:
          type: boolean
          nullable: true
          title: Enabled
          description: Whether the trigger is enabled
        down:
          allOf:
            - description: Lower bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
        up:
          allOf:
            - description: Upper bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
      title: AutoscalerCPUTrigger
      type: object
    AutoscalerCondition:
      description: Trigger condition settings
      properties:
        threshold:
          description: Value at which the condition is satisfied
          maximum: 100
          minimum: 0
          title: Threshold
          type: number
        duration:
          allOf:
            - description: Number of seconds during which the condition must be satisfied
            - $ref: '#/components/schemas/AutoscalerDuration'
        enabled:
          type: boolean
          nullable: true
          title: Enabled
          description: Whether the condition should be used for generating alerts
      required:
        - threshold
      title: AutoscalerCondition
      type: object
    AutoscalerDuration:
      enum:
        - 60
        - 120
        - 300
        - 600
        - 1800
        - 3600
      title: AutoscalerDuration
      type: integer
    AutoscalerInstances:
      description: Horizontal scaling settings
      properties:
        min:
          description: Minimum number of instances when scaling down horizontally
          title: Min
          type: integer
        max:
          description: Maximum number of instances when scaling up horizontally
          title: Max
          type: integer
      title: AutoscalerInstances
      type: object
    AutoscalerMemoryPressureTrigger:
      description: |-
        Memory pressure trigger settings.

        When memory pressure goes below lower bound, service will be scaled down.
        When memory pressure goes above upper bound, service will be scaled up.
      properties:
        enabled:
          type: boolean
          nullable: true
          title: Enabled
          description: Whether the trigger is enabled
        down:
          allOf:
            - description: Lower bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
        up:
          allOf:
            - description: Upper bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
      title: AutoscalerMemoryPressureTrigger
      type: object
    AutoscalerMemoryResources:
      description: Memory scaling settings
      properties:
        min:
          description: Minimum memory (bytes) when scaling down vertically
          minimum: 0
          title: Min
          type: integer
        max:
          description: Maximum memory (bytes) when scaling up vertically
          minimum: 0
          title: Max
          type: integer
      title: AutoscalerMemoryResources
      type: object
    AutoscalerMemoryTrigger:
      description: |-
        Memory resource trigger settings.

        When memory usage goes below lower bound, service will be scaled down.
        When memory usage goes above upper bound, service will be scaled up.
      properties:
        enabled:
          type: boolean
          nullable: true
          title: Enabled
          description: Whether the trigger is enabled
        down:
          allOf:
            - description: Lower bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
        up:
          allOf:
            - description: Upper bound on resource usage
            - $ref: '#/components/schemas/AutoscalerCondition'
      title: AutoscalerMemoryTrigger
      type: object
    AutoscalerResources:
      description: Vertical scaling settings
      properties:
        cpu:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerCPUResources'
          nullable: true
          description: Lower/Upper bounds on CPU allocation when scaling
        memory:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerMemoryResources'
          nullable: true
          description: Lower/Upper bounds on Memory allocation when scaling
      title: AutoscalerResources
      type: object
    AutoscalerScalingCooldown:
      description: Scaling cooldown settings
      properties:
        up:
          description: Number of seconds to wait until scaling up can be done again (since last attempt)
          minimum: 0
          title: Up
          type: integer
        down:
          description: Number of seconds to wait until scaling down can be done again (since last attempt)
          minimum: 0
          title: Down
          type: integer
      title: AutoscalerScalingCooldown
      type: object
    AutoscalerScalingFactor:
      description: Scaling factor settings
      properties:
        up:
          description: Number of instances to add when scaling up horizontally
          minimum: 0
          title: Up
          type: integer
        down:
          description: Number of instances to remove when scaling down horizontally
          minimum: 0
          title: Down
          type: integer
      title: AutoscalerScalingFactor
      type: object
    AutoscalerServiceSettings:
      description: Autoscaling settings for a specific service
      properties:
        triggers:
          allOf:
            - description: Metrics should be evaluated as triggers for autoscaling
            - $ref: '#/components/schemas/AutoscalerTriggers'
        instances:
          allOf:
            - description: Lower/Upper bounds on number of instances for horizontal scaling
            - $ref: '#/components/schemas/AutoscalerInstances'
        resources:
          allOf:
            - description: Lower/Upper bounds on cpu/memory for vertical scaling
            - $ref: '#/components/schemas/AutoscalerResources'
        scale_factor:
          allOf:
            - description: How many instances to add/remove on each scaling attempt
            - $ref: '#/components/schemas/AutoscalerScalingFactor'
        scale_cooldown:
          allOf:
            - description: How long to wait before the next scaling attempt can be performed
            - $ref: '#/components/schemas/AutoscalerScalingCooldown'
      title: AutoscalerServiceSettings
      type: object
    AutoscalerSettings:
      description: |-
        Update model for autoscaling settings.

        This model is mainly used for partial updates (PATCH), therefore all its
        attributes are optional.
      properties:
        services:
          additionalProperties:
            type: object
            additionalProperties:
              $ref: '#/components/schemas/AutoscalerServiceSettings'
            nullable: true
          type: object
          nullable: true
          title: Services
          description: Each service for which autoscaling is configured is listed in the key
      title: AutoscalerSettings
      type: object
    AutoscalerTriggers:
      additionalProperties: false
      description: Scaling triggers settings
      properties:
        cpu:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerCPUTrigger'
          nullable: true
          description: Settings for scaling based on CPU usage
        memory:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerMemoryTrigger'
          nullable: true
          description: Settings for scaling based on Memory usage
        cpu_pressure:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerCPUPressureTrigger'
          nullable: true
          description: Settings for scaling based on CPU pressure
        memory_pressure:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AutoscalerMemoryPressureTrigger'
          nullable: true
          description: Settings for scaling based on Memory pressure
      title: AutoscalerTriggers
      type: object
    UserScore:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: The ID of the user the score belongs to.
        score:
          type: string
          enum:
            - risk
            - email
            - ip
            - trial-eligibility
            - card-testing-hourly
            - card-testing-daily
            - card-testing-weekly
            - card-testing-all_time
          description: The score type.
        revision_id:
          type: integer
          description: Auto increment revision ID.
        data:
          type: object
          description: The score data returned by the API.
        created_at:
          type: string
          format: date-time
          description: The date and time the score was first returned.
    OrganizationScore:
      type: object
      properties:
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization the score belongs to.
        score:
          type: string
          enum:
            - payment-profile
            - trial-eligibility
            - payment-score
          description: The score type.
        revision_id:
          type: integer
          description: Auto increment revision ID.
        data:
          type: object
          description: The score data returned by the API.
        created_at:
          type: string
          format: date-time
          description: The date and time the score was first returned.
    EmailScore:
      type: object
      properties:
        email:
          type: string
          format: email
          description: The email address the score refers to.
        synced_at:
          type: string
          format: date-time
          description: The date and time the score was received from IQPS.
        valid:
          type: boolean
          description: Does this email address appear valid?
        disposable:
          type: boolean
          description: Is this email suspected of belonging to a temporary or disposable mail service? Usually associated with fraudsters and scammers.
        deliverability:
          type: string
          description: How likely is this email to be delivered to the user and land in their mailbox.
          enum:
            - low
            - medium
            - high
        catch_all:
          type: boolean
          description: Is this email likely to be a "catch all" where the mail server verifies all emails tested against it as valid? It is difficult to determine if the address is truly valid in these scenarios, since the email's server will not confirm the account's status.
        leaked:
          type: boolean
          description: Was this email address associated with a recent database leak from a third party? Leaked accounts pose a risk as they may have become compromised during a database breach.
        suspect:
          type: boolean
          description: This value indicates if the mail server is currently replying with a temporary error and unable to verify the email address. This status will also be true for "catch all" email addresses as defined below. If this value is true, then we suspect the "valid" result may be tainted and there is not a guarantee that the email address is truly valid.
        smtp_score:
          type: integer
          minimum: -1
          maximum: 3
          description: Validity score of email server's SMTP setup.
        overall_score:
          type: integer
          minimum: 0
          maximum: 4
          description: 'Overall email validity score. Range: "0" - "4". Scores above "1" can be associated with a valid email.'
        first_name:
          type: string
          description: Suspected first name based on email. Returns "CORPORATE" if the email is suspected of being a generic company email. Returns "UNKNOWN" if the first name was not determinable.
        common:
          type: boolean
          description: Is this email from a common email provider? ("gmail.com", "yahoo.com", "hotmail.com", etc.)
        generic:
          type: boolean
          description: Is this email suspected as being a catch all or shared email for a domain? ("admin@", "webmaster@", "newsletter@", "sales@", "contact@", etc.)
        dns_valid:
          type: boolean
          description: Does the email's hostname have valid DNS entries? Partial indication of a valid email.
        honeypot:
          type: boolean
          description: Is this email believed to be a "honeypot" or "SPAM trap"? Bulk mail sent to these emails increases your risk of being blacklisted by large ISPs & ending up in the spam folder.
        spam_trap_score:
          type: string
          enum:
            - none
            - low
            - medium
            - high
          description: Confidence level of the email address being an active SPAM trap.
        recent_abuse:
          type: boolean
          description: This value will indicate if there has been any recently verified abuse across our network for this email address. Abuse could be a confirmed chargeback, fake signup, compromised device, fake app install, or similar malicious behavior within the past few days.
        fraud_score:
          type: integer
          minimum: 0
          maximum: 100
          description: The overall Fraud Score of the user based on the email's reputation and recent behavior across the IPQS threat network. Fraud Scores >= 75 are suspicious, but not necessarily fraudulent.
        frequent_complainer:
          type: boolean
          description: Indicates if this email frequently unsubscribes from marketing lists or reports email as SPAM.
        suggested_domain:
          type: string
          description: Default value is "N/A". Indicates if this email's domain should in fact be corrected to a popular mail service. This field is useful for catching user typos. For example, an email address with "gmai.com", would display a suggested domain of "gmail.com". This feature supports all major mail service providers.
        first_seen:
          type: string
          format: date-time
          description: The date and time when this email was first analyzed by IPQS.
        domain_age:
          type: string
          format: date-time
          description: The date and time when the email domain was first registered.
        sanitized_email:
          type: string
          format: email
          description: Sanitized email address with all aliases and masking removed, such as multiple periods for Gmail.com.
    StaffVerification:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: The ID of the user in question.
        verified:
          type: boolean
          description: Whether the user has been marked as verified by a member of staff.
        updated_at:
          type: string
          format: date-time
          description: The date and time verification information has last been updated.
        updated_by:
          type: string
          format: uuid
          description: ID of the staff member that last updated the verification status of the user.
        notes:
          type: string
          description: Reasons for the last status update.
          example: User unable to receive SMS, but was manually checked and is legit.
    CountrySettings:
      type: object
      properties:
        country_code:
          type: string
          description: 2 digit country code.
        high_risk:
          type: boolean
          description: Whether the country is flagged as high risk.
    TrialCreate:
      type: object
      properties:
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        billing_account_id:
          type: string
          format: ulid
          description: The ID of the billing account.
        payment_method_id:
          type: string
          description: The ID of the payment method.
        expiration:
          type: string
          format: date-time
          description: The expiration date and time of the trial.
        status:
          type: string
          description: The trial status.
          example: active
        model:
          type: string
          description: The trial model.
          example: upsun_extended
    TrialUpdate:
      type: object
      properties:
        status:
          type: string
        expiration:
          type: string
          format: date-time
          description: The expiration date and time of the trial.
        payment_method_id:
          type: string
        updated_at:
          type: string
          format: date-time
          description: The date and time the trial was last updated.
    Invoice:
      type: object
      description: The invoice object.
      properties:
        id:
          type: string
          description: The invoice id.
        invoice_number:
          description: The invoice number.
          type: string
        type:
          description: Invoice type.
          type: string
          enum:
            - invoice
            - credit_memo
        order_id:
          description: The id of the related order.
          type: string
        related_invoice_id:
          description: If the invoice is a credit memo (type=credit_memo), this field stores the id of the related/original invoice.
          type: string
          nullable: true
        status:
          description: The invoice status.
          type: string
          enum:
            - paid
            - charged_off
            - pending
            - refunded
            - canceled
            - refund_pending
        owner:
          description: The ULID of the owner.
          type: string
          format: ulid
        invoice_date:
          description: The invoice date.
          type: string
          format: date-time
          nullable: true
        invoice_due:
          description: The invoice due date.
          type: string
          format: date-time
          nullable: true
        created:
          description: The time when the invoice was created.
          type: string
          format: date-time
          nullable: true
        changed:
          description: The time when the invoice was changed.
          type: string
          format: date-time
          nullable: true
        company:
          description: Company name (if any).
          type: string
        total:
          description: The invoice total.
          type: number
          format: double
        address:
          $ref: '#/components/schemas/Address'
        notes:
          description: The invoice note.
          type: string
        invoice_pdf:
          $ref: '#/components/schemas/InvoicePDF'
    Organization:
      type: object
      properties:
        id:
          type: string
          format: ulid
          description: The ID of the organization.
        type:
          type: string
          description: The type of the organization.
          enum:
            - fixed
            - flexible
        owner_id:
          type: string
          format: uuid
          description: The ID of the owner.
        namespace:
          type: string
          description: The namespace in which the organization name is unique.
        name:
          type: string
          description: A unique machine name representing the organization.
        label:
          type: string
          description: The human-readable label of the organization.
        country:
          type: string
          description: The organization country (2-letter country code).
          maxLength: 2
        capabilities:
          type: array
          description: The organization capabilities.
          items:
            type: string
          uniqueItems: true
        vendor:
          type: string
          description: The vendor.
        netsuite_id:
          type: string
          description: '[Internal] The Netsuite ID.'
        billing_account_id:
          type: string
          description: The Billing Account ID.
        billing_legacy:
          type: boolean
          description: Whether the account is billed with the legacy system.
        security_contact:
          type: string
          format: email
          description: The security contact email address for the organization.
        notes:
          type: string
          description: '[Internal] The internal notes for the organization.'
        status:
          type: string
          description: The status of the organization.
          enum:
            - active
            - restricted
            - suspended
            - deleted
        created_at:
          type: string
          format: date-time
          description: The date and time when the organization was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the organization was last updated.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current organization.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              description: Link for updating the current organization.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              description: Link for deleting the current organization.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            members:
              type: object
              description: Link to the current organization's members.
              properties:
                href:
                  type: string
                  description: URL of the link.
            create-member:
              type: object
              description: Link for creating a new organization member.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            address:
              type: object
              description: Link to the current organization's address.
              properties:
                href:
                  type: string
                  description: URL of the link.
            profile:
              type: object
              description: Link to the current organization's profile.
              properties:
                href:
                  type: string
                  description: URL of the link.
            payment-source:
              type: object
              description: Link to the current organization's payment source.
              properties:
                href:
                  type: string
                  description: URL of the link.
            orders:
              type: object
              description: Link to the current organization's orders.
              properties:
                href:
                  type: string
                  description: URL of the link.
            vouchers:
              type: object
              description: Link to the current organization's vouchers.
              properties:
                href:
                  type: string
                  description: URL of the link.
            apply-voucher:
              type: object
              description: Link for applying a voucher for the current organization.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            subscriptions:
              type: object
              description: Link to the current organization's subscriptions.
              properties:
                href:
                  type: string
                  description: URL of the link.
            create-subscription:
              type: object
              description: Link for creating a new organization subscription.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            estimate-subscription:
              type: object
              description: Link for estimating the price of a new subscription.
              properties:
                href:
                  type: string
                  description: URL of the link.
            mfa-enforcement:
              type: object
              description: Link to the current organization's MFA enforcement settings.
              properties:
                href:
                  type: string
                  description: URL of the link.
    OrganizationReference:
      description: The referenced organization, or null if it no longer exists.
      type: object
      nullable: true
      properties:
        id:
          type: string
          format: ulid
          description: The ID of the organization.
        type:
          type: string
          description: The type of the organization.
        owner_id:
          type: string
          format: uuid
          description: The ID of the owner.
        name:
          type: string
          description: A unique machine name representing the organization.
        label:
          type: string
          description: The human-readable label of the organization.
        vendor:
          type: string
          description: The vendor.
        created_at:
          type: string
          format: date-time
          description: The date and time when the organization was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the organization was last updated.
    OrganizationMember:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: The ID of the user.
          deprecated: true
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        user_id:
          type: string
          format: uuid
          description: The ID of the user.
        permissions:
          $ref: '#/components/schemas/Permissions'
        level:
          type: string
          description: Access level of the member.
          enum:
            - admin
            - viewer
        owner:
          type: boolean
          description: Whether the member is the organization owner.
        created_at:
          type: string
          format: date-time
          description: The date and time when the member was created.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the member was last updated.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current member.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              description: Link for updating the current member.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              description: Link for deleting the current member.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
    PaymentSourceType:
      type: object
      description: The payment source type
      properties:
        id:
          type: string
          description: The ID of the payment source.
        label:
          type: string
          description: The label of the payment source type.
        stripe_public_key:
          type: string
          description: The stripe public key (needed for the stripe.js widget).
    Permissions:
      type: array
      description: The organization member permissions.
      items:
        type: string
        enum:
          - admin
          - billing
          - members
          - plans
          - projects:create
          - projects:list
    EstimationObject:
      type: object
      description: A price estimate object.
      properties:
        plan:
          type: string
          description: The monthly price of the plan.
        user_licenses:
          type: string
          description: The monthly price of the user licenses.
        environments:
          type: string
          description: The monthly price of the environments.
        storage:
          type: string
          description: The monthly price of the storage.
        total:
          type: string
          description: The total monthly price.
        options:
          type: object
          description: The unit prices of the options.
    FlexCalcObject:
      type: object
      description: A fixed to flexible price estimate object.
      properties:
        components:
          type: object
          description: Various subtotal pricing components.
          additionalProperties:
            type: object
            $ref: '#/components/schemas/PriceObject'
        plan:
          allOf:
            - type: object
              description: The monthly price of the plan.
            - $ref: '#/components/schemas/PriceObject'
        resources_total:
          allOf:
            - type: object
              description: The monthly price of project resources.
            - $ref: '#/components/schemas/PriceObject'
        total:
          allOf:
            - type: object
              description: The total monthly price.
            - $ref: '#/components/schemas/PriceObject'
        additionalProperties:
          allOf:
            - type: object
              description: Other allocated resource, usage, or discount estimations.
            - $ref: '#/components/schemas/PriceObject'
    PriceObject:
      type: object
      properties:
        formatted:
          type: string
          description: The price formatted appropriately with currency.
        amount:
          type: number
          description: The price as a numeric quantity.
        currency_code:
          type: string
          description: The three-character currency code.
        currency_symbol:
          type: string
          description: The symbol associated with the currency.
        quantity:
          type: number
          description: The quantity used for the estimation.
          nullable: true
        weight:
          type: number
          description: Relative positioning of this property.
          nullable: true
    CapsObject:
      type: object
      description: '[Internal] An environment cap object.'
      properties:
        type:
          type: string
          description: The type of the environment cap.
        name:
          type: string
          description: The name of the environment cap.
          items:
            type: string
            enum:
              - production
              - development
              - staging
        cpu:
          type: number
          description: The total cpu for each environment of this type.
        memory:
          type: string
          description: The total memory for each environment of this type.
        storage:
          type: integer
          description: The total storage for each environment of this type.
        environments:
          type: integer
          description: The total environments number for this type.
    ResourcePreset:
      type: string
      description: The resource preset.
      enum:
        - Small
        - Standard
        - Medium
        - Large
        - XL
        - 2XL
        - 4XL
    OrganizationEvent:
      type: object
      properties:
        internal_id:
          type: integer
          description: The internal ID of the event.
        id:
          type: string
          format: ulid
          description: The ID of the event.
        type:
          type: string
          description: The type of the event.
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        data:
          type: object
          description: The type-specific event data.
        requester:
          type: object
          description: The requester.
          nullable: true
          properties:
            id:
              type: string
              description: The ID of the requester.
            type:
              type: string
              description: The type of the requester.
              enum:
                - impersonator
                - machine
                - user
                - staff
            user_agent:
              type: string
              description: The user agent of the requester.
        trace:
          type: object
          description: The trace.
          nullable: true
          properties:
            trace_id:
              type: string
              description: The ID of the trace.
            span_id:
              type: string
              description: The ID of the span.
        timestamp:
          type: string
          format: date-time
          description: The date and time of the event.
    OrganizationUsage:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the usage.
        type:
          type: string
          description: The type of the usage.
          enum:
            - organization
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        event_id:
          type: integer
          description: The ID of the matching event.
        data:
          type: object
          description: The type-specific usage data.
        timestamp:
          type: string
          format: date-time
          description: The date and time when the usage was calculated.
    OrganizationEstimationObject:
      type: object
      description: An estimation of all organization spend.
      properties:
        total:
          type: string
          description: The total estimated price for the organization.
        sub_total:
          type: string
          description: The sub total for all projects and sellables.
        vouchers:
          type: string
          description: The total amount of vouchers.
        user_licenses:
          type: object
          description: An estimation of user licenses cost.
          properties:
            base:
              type: object
              properties:
                count:
                  type: integer
                  description: The number of base user licenses.
                total:
                  type: string
                  description: The total price for base user licenses.
                list:
                  type: object
                  properties:
                    admin_user:
                      type: object
                      description: An estimation of admin users cost.
                      properties:
                        count:
                          type: integer
                          description: The number of admin user licenses.
                        total:
                          type: string
                          description: The total price for admin user licenses.
                    viewer_user:
                      type: object
                      description: An estimation of viewer users cost.
                      properties:
                        count:
                          type: integer
                          description: The number of viewer user licenses.
                        total:
                          type: string
                          description: The total price for viewer user licenses.
            user_management:
              type: object
              properties:
                count:
                  type: integer
                  description: The number of user_management licenses.
                total:
                  type: string
                  description: The total price for user_management licenses.
                list:
                  type: object
                  properties:
                    standard_management_user:
                      type: object
                      description: An estimation of standard_management_user cost.
                      properties:
                        count:
                          type: integer
                          description: The number of standard_management_user licenses.
                        total:
                          type: string
                          description: The total price for standard_management_user licenses.
                    advanced_management_user:
                      type: object
                      description: An estimation of advanced_management_user cost.
                      properties:
                        count:
                          type: integer
                          description: The number of advanced_management_user licenses.
                        total:
                          type: string
                          description: The total price for advanced_management_user licenses.
        user_management:
          type: string
          description: An estimation of the advanced user management sellable cost.
        support_level:
          type: string
          description: The total monthly price for premium support.
        subscriptions:
          type: object
          description: An estimation of subscriptions cost.
          properties:
            total:
              type: string
              description: The total price for subscriptions.
            list:
              type: array
              description: The list of active subscriptions.
              items:
                description: Details of a subscription
                type: object
                properties:
                  license_id:
                    type: string
                    description: The id of the subscription.
                  project_title:
                    type: string
                    description: The name of the project.
                  total:
                    type: string
                    description: The total price for the subscription.
                  usage:
                    type: object
                    description: The detail of the usage for the subscription.
                    properties:
                      cpu:
                        type: number
                        description: The total cpu for this subsciption.
                      memory:
                        type: number
                        description: The total memory for this subsciption.
                      storage:
                        type: number
                        description: The total storage for this subsciption.
                      environments:
                        type: integer
                        description: The total environments for this subsciption.
    OrganizationAddonsObject:
      type: object
      description: The list of available and current add-ons of an organization.
      properties:
        available:
          type: object
          description: The list of available add-ons and their possible values.
          properties:
            user_management:
              type: object
              description: Information about the levels of user management that are available.
              additionalProperties:
                type: number
                description: The number of commitment days required for the addon.
            support_level:
              type: object
              description: Information about the levels of support available.
              additionalProperties:
                type: number
                description: The number of commitment days required for the addon.
        current:
          type: object
          description: The list of existing add-ons and their current values.
          properties:
            user_management:
              type: object
              description: Information about the type of user management currently selected.
              additionalProperties:
                type: number
                description: The number of commitment days that remain for the addon.
            support_level:
              type: object
              description: Information about the level of support currently selected.
              additionalProperties:
                type: number
                description: The number of commitment days that remain for the addon.
        upgrades_available:
          type: object
          description: The upgrades available for current add-ons.
          properties:
            user_management:
              type: array
              description: Available upgrade options for user management.
              items:
                type: string
            support_level:
              type: array
              description: Available upgrade options for support.
              items:
                type: string
    SubscriptionAddonsObject:
      type: object
      description: The list of available and current addons for the license.
      properties:
        available:
          type: object
          description: The list of available addons.
          properties:
            continuous_profiling:
              type: object
              description: Information about the continuous profiling options available.
              additionalProperties:
                type: number
                description: The number of commitment days for the addon.
            project_support_level:
              type: object
              description: Information about the project uptime options available.
              additionalProperties:
                type: number
                description: The number of commitment days for the addon.
        current:
          type: object
          description: The list of existing addons and their current values.
          properties:
            continuous_profiling:
              type: object
              description: The current continuous profiling level of the license.
              additionalProperties:
                type: number
                description: The number of remaining commitment days for the addon.
            project_support_level:
              type: object
              description: The current project uptime level of the license.
              additionalProperties:
                type: number
                description: The number of remaining commitment days for the addon.
        upgrades_available:
          type: object
          description: The upgrades available for current addons.
          properties:
            continuous_profiling:
              type: array
              description: Available upgrade options for continuous profiling.
              items:
                type: string
            project_support_level:
              type: array
              description: Available upgrade options for project uptime.
              items:
                type: string
    OrganizationdunningActionsObject:
      type: object
      description: The list of scheduled dunning actions (if any) for an organization.
      properties:
        items:
          type: array
          description: The list of scheduled collection or restriction tasks.
          items:
            type: object
            description: A scheduled task.
            properties:
              id:
                type: string
                description: The ID of the scheduled action.
              date:
                type: string
                description: The datetime the action is scheduled.
              days_until:
                type: string
                description: The number of days until the action occurs.
              type:
                type: string
                description: The type of action.
                enum:
                  - none
                  - charge
                  - suspend
                  - revoke
              order_id:
                type: string
                description: The order ID.
              uid:
                type: string
                description: The ID of the owner of the order.
    OrganizationAlertConfig:
      type: object
      description: The alert configuration for an organization.
      properties:
        id:
          type: string
          description: Type of alert (e.g. "billing")
        active:
          type: boolean
          description: Whether the billing alert should be active or not.
        alerts_sent:
          type: number
          description: Number of alerts sent.
        last_alert_at:
          type: string
          description: The datetime the alert was last sent.
          nullable: true
        updated_at:
          type: string
          description: The datetime the alert was last updated.
          nullable: true
        config:
          type: object
          nullable: true
          description: Configuration for threshold and mode.
          properties:
            threshold:
              type: object
              description: Data regarding threshold spend.
              properties:
                formatted:
                  type: string
                  description: Formatted threshold value.
                amount:
                  type: number
                  description: Threshold value.
                currency_code:
                  type: string
                  description: Threshold currency code.
                currency_symbol:
                  type: string
                  description: Threshold currency symbol.
            mode:
              type: string
              description: The mode of alert.
    UsageAlert:
      type: object
      description: The usage alert for a subscription.
      properties:
        id:
          type: string
          description: Tidentifier of the alert.
        active:
          type: boolean
          description: Whether the usage alert is activated.
        alerts_sent:
          type: number
          description: Number of alerts sent.
        last_alert_at:
          type: string
          description: The datetime the alert was last sent.
          nullable: true
        updated_at:
          type: string
          description: The datetime the alert was last updated.
          nullable: true
        config:
          type: object
          nullable: true
          description: Configuration for the usage alert.
          properties:
            threshold:
              type: object
              description: Data regarding threshold spend.
              properties:
                formatted:
                  type: string
                  description: Formatted threshold value.
                amount:
                  type: number
                  description: Threshold value.
                unit:
                  type: string
                  description: Threshold unit.
    OrganizationBanner:
      type: object
      description: A banner object.
      properties:
        id:
          type: string
          description: The message ID.
        group:
          type: string
          description: The category of message.
        message:
          type: string
          description: The text of the message, including any pseudomarkup.
        text:
          type: string
          description: The plain text of the message.
        formatted:
          type: string
          description: The message formatted in HTML.
        tags:
          type: object
          description: Any tags included in the 'message' property.
          additionalProperties:
            type: object
            properties:
              element:
                type: string
                description: The HTML element tag.
              attr:
                type: object
                description: Attributes and their values on the tag.
        weight:
          type: integer
          description: The relative priority of this message.
    PrepaymentObject:
      type: object
      description: Prepayment information for an organization.
      properties:
        prepayment:
          type: object
          description: Prepayment information for an organization.
          properties:
            organization_id:
              type: string
              description: Organization ID
            balance:
              type: object
              description: The prepayment balance in complex format.
              properties:
                formatted:
                  type: string
                  description: Formatted balance.
                amount:
                  type: number
                  description: The balance amount.
                currency_code:
                  type: string
                  description: The balance currency code.
                currency_symbol:
                  type: string
                  description: The balance currency symbol.
            last_updated_at:
              type: string
              nullable: true
              description: The date the prepayment balance was last updated.
            sufficient:
              type: boolean
              description: Whether the prepayment balance is enough to cover the upcoming order.
            fallback:
              type: string
              nullable: true
              description: The fallback payment method, if any, to be used in case prepayment balance is not enough to cover an order.
    PrepaymentTransactionObject:
      type: object
      description: Prepayment transaction for an organization.
      properties:
        order_id:
          type: string
          description: Order ID
        message:
          type: string
          description: The message associated with transaction.
        status:
          type: string
          description: Whether the transactions was successful or a failure.
        amount:
          type: object
          description: The prepayment balance in complex format.
          properties:
            formatted:
              type: string
              description: Formatted balance.
            amount:
              type: number
              description: The balance amount.
            currency_code:
              type: string
              description: The balance currency code.
            currency_symbol:
              type: string
              description: The balance currency symbol.
        created:
          type: string
          description: Time the transaction was created.
        updated:
          type: string
          description: Time the transaction was last updated.
          nullable: true
        expire_date:
          type: string
          description: The expiration date of the transaction (deposits only).
          nullable: true
    ArrayFilter:
      type: object
      properties:
        eq:
          type: string
          description: Equal
        ne:
          type: string
          description: Not equal
        in:
          type: string
          description: In (comma-separated list)
        nin:
          type: string
          description: Not in (comma-separated list)
    NumericFilter:
      type: object
      properties:
        eq:
          type: string
          description: Equal
        ne:
          type: string
          description: Not equal
        in:
          type: string
          description: In (comma-separated list)
        nin:
          type: string
          description: Not in (comma-separated list)
        between:
          type: string
          description: Between (comma-separated list)
        gt:
          type: string
          description: Greater than
        gte:
          type: string
          description: Greater than or equal
        lt:
          type: string
          description: Less than
        lte:
          type: string
          description: Less than or equal
    Catalog:
      type: object
      properties:
        id:
          type: string
          description: The ID of the catalog.
        vendor:
          type: string
          description: The vendor of the catalog.
        name:
          type: string
          description: The name of the catalog.
        type_name:
          type: string
          description: The type of the catalog.
        type_value:
          type: string
          description: The type value of the catalog.
        template:
          $ref: '#/components/schemas/CatalogTemplate'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current catalog.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              description: Link for updating the current catalog.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              description: Link for deleting the current catalog.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
      additionalProperties: false
    CatalogRequest:
      type: object
      properties:
        name:
          type: string
          description: name of the catalog.
        type_name:
          type: string
          description: The type of the catalog.
        type_value:
          type: string
          description: The type value of the catalog.
        template:
          $ref: '#/components/schemas/CatalogTemplate'
      additionalProperties: false
    CatalogTemplate:
      type: object
      properties:
        info:
          type: object
        initialize:
          type: object
        plans:
          type: object
          nullable: true
          description: The plans for the catalog.
        template:
          type: string
          description: The template of the catalog.
        vendor:
          type: string
          description: The vendor of the catalog.
        version:
          type: number
          description: Version of the catalog.
      additionalProperties: false
    DataCenter:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/DataCenterName'
        label:
          $ref: '#/components/schemas/DataCenterLabel'
        logo:
          $ref: '#/components/schemas/DataCenterLogo'
        location:
          $ref: '#/components/schemas/DataCenterLocation'
        provider:
          $ref: '#/components/schemas/DataCenterProvider'
        zone:
          $ref: '#/components/schemas/DataCenterZone'
        carbon_intensity:
          $ref: '#/components/schemas/DataCenterCarbonIntensity'
        green:
          $ref: '#/components/schemas/DataCenterGreen'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
      additionalProperties: false
    OrganizationProject:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/ProjectID'
        organization_id:
          $ref: '#/components/schemas/OrganizationID'
        subscription_id:
          $ref: '#/components/schemas/SubscriptionID'
        vendor:
          type: string
          description: Vendor of the project.
        region:
          $ref: '#/components/schemas/RegionID'
        title:
          $ref: '#/components/schemas/ProjectTitle'
        type:
          $ref: '#/components/schemas/ProjectType'
        plan:
          $ref: '#/components/schemas/ProjectPlan'
        timezone:
          $ref: '#/components/schemas/ProjectTimeZone'
        default_branch:
          $ref: '#/components/schemas/ProjectDefaultBranch'
        status:
          $ref: '#/components/schemas/ProjectStatus'
        options_url:
          $ref: '#/components/schemas/ProjectOptionsURL'
        agency_site:
          $ref: '#/components/schemas/AgencySite'
        support_tier:
          $ref: '#/components/schemas/SupportTier'
        options_custom:
          $ref: '#/components/schemas/ProjectOptionsCustom'
        trial_plan:
          $ref: '#/components/schemas/ProjectTrialPlan'
        project_ui:
          $ref: '#/components/schemas/ProjectUI'
        locked:
          type: boolean
          allOf:
            - $ref: '#/components/schemas/ProjectLocked'
          nullable: true
        cse_notes:
          type: string
          allOf:
            - $ref: '#/components/schemas/ProjectCSENotes'
          nullable: true
        dedicated_tag:
          type: string
          allOf:
            - $ref: '#/components/schemas/ProjectDedicatedTag'
          nullable: true
        edgee_org_id:
          type: string
          allOf:
            - $ref: '#/components/schemas/EdgeeOrgID'
          nullable: true
        edgee_project_id:
          type: string
          allOf:
            - $ref: '#/components/schemas/EdgeeProjectID'
          nullable: true
        billing_account_id:
          type: string
          allOf:
            - $ref: '#/components/schemas/BillingAccountID'
          nullable: true
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        activities:
          description: Activities information for the project.
          type: array
          items:
            $ref: '#/components/schemas/Activity'
          nullable: true
        fastly_service_ids:
          description: '[Internal] Fastly service IDs for the project.'
          type: array
          items:
            type: string
          nullable: true
        project_options:
          type: object
          allOf:
            - $ref: '#/components/schemas/ProjectOptionsAggregated'
          nullable: true
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current project.
              properties:
                href:
                  type: string
                  description: URL of the link.
            api:
              type: object
              nullable: true
              description: Link to the regional API endpoint. Only present if user has project-level access.
              properties:
                href:
                  type: string
                  description: URL of the link.
            subscription:
              type: object
              nullable: true
              description: Link to the subscription. Only present if project has a subscription.
              properties:
                href:
                  type: string
                  description: URL of the link.
            view_usage_alerts:
              type: object
              nullable: true
              description: Link to view usage alerts. Only present if user has view permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              nullable: true
              description: Link for updating the current project. Only present if user has update permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            plan_uri:
              type: object
              nullable: true
              description: Link to the billing plan page. Only present if user has manage permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
            delete:
              type: object
              nullable: true
              description: Link for deleting the current project. Only present if user has delete permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            update_usage_alerts:
              type: object
              nullable: true
              description: Link to update usage alerts. Only present if user has billing permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            suspend:
              type: object
              nullable: true
              description: '[Internal] Link to suspend the project. Only present for staff when project is active.'
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            resume:
              type: object
              nullable: true
              description: '[Internal] Link to resume the project. Only present for staff when project is suspended.'
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            lock:
              type: object
              nullable: true
              description: '[Internal] Link to lock the project. Only present for staff when project is unlocked.'
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            unlock:
              type: object
              nullable: true
              description: '[Internal] Link to unlock the project. Only present for staff when project is locked.'
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            activities:
              type: object
              nullable: true
              description: Link to the project's activities. Only present if user has view permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
            addons:
              type: object
              nullable: true
              description: Link to the project's add-ons. Only present if user has view permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
      additionalProperties: false
    OrganizationCarbon:
      type: object
      properties:
        organization_id:
          $ref: '#/components/schemas/OrganizationID'
        meta:
          $ref: '#/components/schemas/MetricsMetadata'
        projects:
          type: array
          items:
            $ref: '#/components/schemas/OrganizationProjectCarbon'
        total:
          $ref: '#/components/schemas/CarbonTotal'
      additionalProperties: false
    ProjectAddon:
      description: Project add-on. Uses discriminator on `type` to select field shape.
      allOf:
        - $ref: '#/components/schemas/ProjectAddonBase'
        - oneOf:
            - $ref: '#/components/schemas/ProjectAddonWithSkuFields'
            - $ref: '#/components/schemas/ProjectAddonWithQuantityFields'
      discriminator:
        propertyName: type
        mapping:
          backups: '#/components/schemas/ProjectAddonWithSkuFields'
          big_dev: '#/components/schemas/ProjectAddonWithSkuFields'
          big_dev_service: '#/components/schemas/ProjectAddonWithSkuFields'
          blackfire: '#/components/schemas/ProjectAddonWithSkuFields'
          continuous_profiling: '#/components/schemas/ProjectAddonWithSkuFields'
          project_support_level: '#/components/schemas/ProjectAddonWithSkuFields'
          observability_suite: '#/components/schemas/ProjectAddonWithSkuFields'
          user_licenses: '#/components/schemas/ProjectAddonWithQuantityFields'
          hipaa: '#/components/schemas/ProjectAddonWithSkuFields'
          environments: '#/components/schemas/ProjectAddonWithQuantityFields'
          storage: '#/components/schemas/ProjectAddonWithQuantityFields'
    ProjectAddonBase:
      type: object
      required:
        - id
        - type
      properties:
        id:
          $ref: '#/components/schemas/ProjectAddonID'
        project_id:
          $ref: '#/components/schemas/ProjectID'
        type:
          $ref: '#/components/schemas/AddonType'
        status:
          type: string
          description: Lifecycle status of the add-on.
          enum:
            - requested
            - active
            - failed
        title:
          type: string
          description: Human-friendly title of the add-on or SKU.
        unit:
          type: string
          nullable: true
          description: Unit for quantity-based add-ons when applicable.
        allowed_values:
          description: Allowed values for the add-on depending on user role and options.
          type: array
          nullable: true
          items:
            oneOf:
              - type: string
              - type: integer
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        activities:
          description: Activities related to the add-on.
          type: array
          items:
            $ref: '#/components/schemas/Activity'
          nullable: true
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              nullable: true
              description: Link for updating the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              nullable: true
              description: Link for deleting the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
    ProjectAddonWithSkuFields:
      type: object
      required:
        - sku
      properties:
        sku:
          $ref: '#/components/schemas/ProjectAddonSKU'
    ProjectAddonWithQuantityFields:
      type: object
      required:
        - quantity
      properties:
        quantity:
          $ref: '#/components/schemas/ProjectAddonQuantity'
    ProjectAddonList:
      type: object
      properties:
        count:
          type: integer
          nullable: true
          description: Total number of items returned.
        items:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/ProjectAddon'
        _links:
          type: object
          nullable: true
          properties:
            self:
              type: object
              properties:
                href:
                  type: string
      additionalProperties: false
    CreateProjectAddonRequest:
      description: Create an add-on. Uses discriminator on `type` to select the appropriate request shape.
      oneOf:
        - $ref: '#/components/schemas/QuantityAddonCreateRequest'
        - $ref: '#/components/schemas/SkuAddonCreateRequest'
      discriminator:
        propertyName: type
        mapping:
          backups: '#/components/schemas/SkuAddonCreateRequest'
          big_dev: '#/components/schemas/SkuAddonCreateRequest'
          big_dev_service: '#/components/schemas/SkuAddonCreateRequest'
          blackfire: '#/components/schemas/SkuAddonCreateRequest'
          continuous_profiling: '#/components/schemas/SkuAddonCreateRequest'
          project_support_level: '#/components/schemas/SkuAddonCreateRequest'
          observability_suite: '#/components/schemas/SkuAddonCreateRequest'
          hipaa: '#/components/schemas/SkuAddonCreateRequest'
          environments: '#/components/schemas/QuantityAddonCreateRequest'
          storage: '#/components/schemas/QuantityAddonCreateRequest'
    UpdateProjectAddonRequest:
      description: Update an add-on. Provide only fields you want to change.
      oneOf:
        - $ref: '#/components/schemas/QuantityAddonUpdateRequest'
        - $ref: '#/components/schemas/SkuAddonUpdateRequest'
    QuantityAddonCreateRequest:
      type: object
      required:
        - type
        - quantity
      properties:
        type:
          $ref: '#/components/schemas/AddonType'
        quantity:
          $ref: '#/components/schemas/ProjectAddonQuantity'
      additionalProperties: false
    SkuAddonCreateRequest:
      type: object
      required:
        - type
        - sku
      properties:
        type:
          $ref: '#/components/schemas/AddonType'
        sku:
          $ref: '#/components/schemas/ProjectAddonSKU'
      additionalProperties: false
    QuantityAddonUpdateRequest:
      type: object
      required:
        - quantity
      properties:
        quantity:
          $ref: '#/components/schemas/ProjectAddonQuantity'
    SkuAddonUpdateRequest:
      type: object
      required:
        - sku
      properties:
        sku:
          $ref: '#/components/schemas/ProjectAddonSKU'
    CDN:
      type: object
      properties:
        id:
          $ref: '#/components/schemas/CdnID'
        project_id:
          $ref: '#/components/schemas/ProjectID'
        environment:
          $ref: '#/components/schemas/CdnEnvironment'
        service_id:
          type: string
          description: The CDN provider service ID.
        service_name:
          $ref: '#/components/schemas/CdnServiceName'
        backend_hostname:
          $ref: '#/components/schemas/CdnBackendHostname'
        sni_hostname:
          $ref: '#/components/schemas/CdnSNIHostname'
        domains:
          $ref: '#/components/schemas/CdnDomains'
        status:
          type: string
          description: The status of the CDN.
          enum:
            - requested
            - active
        version:
          type: number
          description: The version of the CDN configuration.
        comment:
          $ref: '#/components/schemas/CdnComment'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              nullable: true
              description: Link for updating the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              nullable: true
              description: Link for deleting the current add-on.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
        activities:
          type: array
          items:
            $ref: '#/components/schemas/Activity'
          nullable: true
          description: Activities information for the CDN.
        token_id:
          type: string
          nullable: true
          description: '[Internal] Token ID for the CDN.'
      additionalProperties: false
    ProjectCarbon:
      type: object
      properties:
        project_id:
          $ref: '#/components/schemas/ProjectID'
        project_title:
          $ref: '#/components/schemas/ProjectTitle'
        meta:
          $ref: '#/components/schemas/MetricsMetadata'
        values:
          $ref: '#/components/schemas/MetricsValues'
        total:
          $ref: '#/components/schemas/CarbonTotal'
      additionalProperties: false
    OrganizationProjectCarbon:
      type: object
      properties:
        project_id:
          $ref: '#/components/schemas/ProjectID'
        project_title:
          $ref: '#/components/schemas/ProjectTitle'
        values:
          $ref: '#/components/schemas/MetricsValues'
      additionalProperties: false
    ProjectClone:
      type: object
      properties:
        id:
          type: string
          description: The ID of the project clone.
        project_id:
          $ref: '#/components/schemas/ProjectID'
        status:
          type: string
          description: The status of the project clone.
        options:
          type: object
          description: The options of the project clone.
        clone:
          type: object
          description: The clone details of the project clone.
          nullable: true
        progress:
          type: object
          nullable: true
          description: The progress of the project clone.
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current project clone.
              properties:
                href:
                  type: string
                  description: URL of the link.
        activities:
          type: object
          description: Link to the project's activities.
          properties:
            href:
              type: string
              description: URL of the link.
        debug:
          type: object
          description: The debug details of the project clone.
          nullable: true
      additionalProperties: false
    ProjectOptionsAggregated:
      type: object
      properties:
        billing:
          type: object
          nullable: true
        defaults:
          type: object
          nullable: true
        enforced:
          type: object
          nullable: true
        initialize:
          type: object
          nullable: true
        plans:
          type: array
          items:
            type: string
          nullable: true
        regions:
          type: array
          items:
            type: string
          nullable: true
        plan_titles:
          type: object
          allOf:
            - $ref: '#/components/schemas/PlanTitles'
          nullable: true
        sellables:
          type: object
          allOf:
            - $ref: '#/components/schemas/AggregatedSellables'
          nullable: true
        features:
          type: object
          allOf:
            - $ref: '#/components/schemas/AggregatedFeatures'
          nullable: true
        container_sizes:
          type: array
          items:
            type: string
          nullable: true
          description: Container sizes configuration.
        debug:
          type: object
          nullable: true
          description: Debug configuration.
      additionalProperties: false
    ProjectOptionsConfig:
      type: object
      description: Configuration options for a project.
      properties:
        billing:
          type: object
          nullable: true
          description: Billing configuration.
        defaults:
          type: object
          nullable: true
          description: Defaults configuration.
        enforced:
          type: object
          nullable: true
          description: Enforced configuration.
        initialize:
          type: object
          nullable: true
          description: Initialize configuration.
        plans:
          type: object
          allOf:
            - $ref: '#/components/schemas/OptionsPlans'
          nullable: true
        regions:
          type: object
          allOf:
            - $ref: '#/components/schemas/OptionsRegions'
          nullable: true
        sellables:
          type: object
          allOf:
            - $ref: '#/components/schemas/Sellables'
          nullable: true
        settings:
          type: object
          allOf:
            - $ref: '#/components/schemas/Settings'
          nullable: true
        container_sizes:
          type: array
          items:
            type: string
          nullable: true
          description: Container sizes configuration.
    ProjectPlan:
      type: string
      description: The project plan.
    ProjectReference:
      description: The referenced project, or null if it no longer exists.
      type: object
      nullable: true
      required:
        - id
        - organization_id
        - subscription_id
        - region
        - title
        - type
        - plan
        - status
        - agency_site
        - support_tier
        - created_at
        - updated_at
      properties:
        id:
          $ref: '#/components/schemas/ProjectID'
        organization_id:
          $ref: '#/components/schemas/OrganizationID'
        subscription_id:
          $ref: '#/components/schemas/SubscriptionID'
        region:
          $ref: '#/components/schemas/RegionID'
        title:
          $ref: '#/components/schemas/ProjectTitle'
        type:
          $ref: '#/components/schemas/ProjectType'
        plan:
          $ref: '#/components/schemas/ProjectPlan'
        status:
          $ref: '#/components/schemas/ProjectStatus'
        agency_site:
          $ref: '#/components/schemas/AgencySite'
        support_tier:
          $ref: '#/components/schemas/SupportTier'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        invoiced:
          type: boolean
          description: Whether the project is invoiced.
      additionalProperties: false
    RegionReference:
      description: The referenced region, or null if it no longer exists.
      type: object
      nullable: true
      required:
        - id
        - label
        - zone
        - selection_label
        - project_label
        - timezone
        - available
        - endpoint
        - provider
        - datacenter
        - compliance
        - created_at
        - updated_at
      properties:
        id:
          $ref: '#/components/schemas/RegionID'
        label:
          $ref: '#/components/schemas/RegionLabel'
        zone:
          $ref: '#/components/schemas/RegionZone'
        selection_label:
          $ref: '#/components/schemas/RegionSelectionLabel'
        project_label:
          $ref: '#/components/schemas/RegionProjectLabel'
        timezone:
          $ref: '#/components/schemas/RegionTimezone'
        available:
          $ref: '#/components/schemas/RegionAvailable'
        private:
          $ref: '#/components/schemas/RegionPrivate'
        endpoint:
          $ref: '#/components/schemas/RegionEndpoint'
        code:
          $ref: '#/components/schemas/RegionCode'
        provider:
          $ref: '#/components/schemas/RegionProvider'
        datacenter:
          $ref: '#/components/schemas/RegionDataCenter'
        envimpact:
          $ref: '#/components/schemas/RegionEnvImpact'
        compliance:
          $ref: '#/components/schemas/RegionCompliance'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        environmental_impact:
          type: object
          description: Environmental impact information for the region.
      additionalProperties: false
    Steps:
      type: object
      required:
        - id
        - label
        - title
        - required
        - bodyText
      properties:
        id:
          type: string
          description: ID of the wizard step.
        label:
          type: string
          description: Label of the wizard step.
        title:
          type: string
          description: Title of the wizard step.
        required:
          type: boolean
          description: Mentions if the step is required.
        bodyText:
          type: string
          description: Body text of the wizard step.
        copyCode:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/StepCopyCode'
      additionalProperties: false
    StepCopyCode:
      type: object
      required:
        - label
        - code
      properties:
        label:
          type: string
          description: Label of the copy code.
        code:
          type: array
          items:
            type: string
      additionalProperties: false
    Wizard:
      type: object
      properties:
        vendor:
          type: string
          description: The vendor of the wizard.
        name:
          type: string
          description: The name of the wizard.
        steps:
          $ref: '#/components/schemas/WizardSteps'
        created_at:
          $ref: '#/components/schemas/CreatedAt'
        updated_at:
          $ref: '#/components/schemas/UpdatedAt'
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current wizard.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              description: Link for updating the current wizard.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              description: Link for deleting the current wizard.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
      additionalProperties: false
    WizardSteps:
      type: array
      nullable: true
      items:
        $ref: '#/components/schemas/Steps'
    AddonType:
      type: string
      description: The type of the add-on.
    ProjectAddonID:
      type: string
      description: The ID of the add-on.
    CdnID:
      type: string
      description: The ID of the CDN.
    CdnEnvironment:
      type: string
      description: The environment of the CDN.
    CdnServiceName:
      type: string
      description: The name of the CDN service.
    CdnBackendHostname:
      type: string
      description: The hostname of the CDN backend.
    CdnSNIHostname:
      type: string
      description: The SNI hostname of the CDN.
    CdnDomains:
      type: array
      items:
        type: string
        format: hostname
      description: The domains associated with the CDN.
    CdnComment:
      type: string
      description: The comment for the CDN.
    CdnSkipTokenSetup:
      type: boolean
      description: Whether to skip the token setup for the CDN.
    CdnRotateTokens:
      type: boolean
      description: Whether to rotate the tokens for the CDN.
    ProjectAddonSKU:
      type: string
      description: The SKU of the add-on.
    ProjectAddonQuantity:
      type: integer
      description: The quantity of the add-on.
    DataCenterName:
      type: string
      description: The name of the data center.
    DataCenterLabel:
      type: string
      description: The label of the data center.
    DataCenterLogo:
      type: string
      description: The logo of the data center.
    DataCenterLocation:
      type: string
      description: The location of the data center.
    DataCenterProvider:
      type: string
      description: The provider of the data center.
    DataCenterZone:
      type: string
      description: The environment impact zone of the data center.
    DataCenterCarbonIntensity:
      type: integer
      description: The environment impact carbon intensity of the data center.
    DataCenterGreen:
      type: boolean
      description: The environment impact green of the data center.
    ProjectID:
      type: string
      description: The ID of the project.
    OrganizationID:
      type: string
      description: The ID of the organization.
    SubscriptionID:
      type: string
      description: The ID of the subscription.
    RegionID:
      type: string
      description: The machine name of the region where the project is located.
    ProjectTitle:
      type: string
      description: The title of the project.
    ProjectType:
      type: string
      description: The type of projects.
      enum:
        - grid
        - dedicated
    ProjectTimeZone:
      type: string
      description: Timezone of the project.
    ProjectDefaultBranch:
      type: string
      description: Default branch.
    ProjectLocked:
      type: boolean
      description: Locked
    ProjectCSENotes:
      type: string
      description: CSE notes.
    ProjectStatus:
      type: string
      description: The status of the project.
      enum:
        - requested
        - active
        - failed
        - suspended
        - deleted
    ProjectDedicatedTag:
      type: string
      description: Dedicated tag.
    SupportTier:
      type: string
      description: '[Internal] The support tier for this subscription.'
    ProjectOptionsURL:
      description: '[Internal] The URL of the project options file provided, if provided.'
      type: string
    ProjectOptionsCustom:
      type: object
      description: '[Internal] Customizations at creation time integrated into project options.'
    AgencySite:
      type: boolean
      description: '[Internal] Whether the project is marked as as agency site.'
    ProjectUI:
      description: The URL for the project's user interface.
      type: string
    ProjectTrialPlan:
      description: Whether the project is currently on a trial plan.
      type: boolean
    HIPAA:
      type: string
      description: '[Internal] The HIPAA option.'
    EdgeeOrgID:
      description: '[Internal] The organization id of the edgee service.'
      type: string
    EdgeeProjectID:
      description: '[Internal] The project id of the edgee service.'
      type: string
    BillingAccountID:
      description: '[Internal] The billing account related to the project.'
      type: string
    OptionsType:
      type: string
      enum:
        - oem
        - orgtype
        - plan
        - tier
        - organization
        - trial
      description: The type of the project options.
    OptionsName:
      type: string
      description: The name of the project options.
    OptionsPlans:
      type: object
    OptionsRegions:
      type: object
      additionalProperties: false
    Sellables:
      type: object
      additionalProperties: false
    Settings:
      type: object
      additionalProperties: false
    PlanTitles:
      type: object
      description: Map of plan IDs to their human-readable titles.
      additionalProperties:
        type: string
    AggregatedSellables:
      type: object
      description: Map of sellable names to their configuration.
      additionalProperties:
        type: object
        description: Sellable product configuration.
    AggregatedFeatures:
      type: object
      properties:
        backups:
          type: object
          nullable: true
          description: Backup features configuration.
    RegionLabel:
      type: string
      description: The human-readable name of the region.
    RegionZone:
      type: string
      description: The geographical zone of the region.
    RegionSelectionLabel:
      type: string
      description: The label to display when choosing between regions for new projects.
    RegionProjectLabel:
      type: string
      description: The label to display on existing projects.
    RegionTimezone:
      type: string
      description: Default timezone of the region.
    RegionAvailable:
      type: boolean
      description: Indicator whether or not this region is selectable during the checkout. Not available regions will never show up during checkout.
    RegionPrivate:
      type: boolean
      description: Indicator whether or not this platform is for private use only.
    RegionEndpoint:
      type: string
      description: Link to the region API endpoint.
    RegionCode:
      type: string
      description: The code of the region
    RegionProvider:
      type: object
      description: Information about the region provider.
    RegionDataCenter:
      type: object
      description: Information about the region provider data center.
    RegionEnvImpact:
      type: object
      description: Information about the region provider's environmental impact.
    RegionCompliance:
      type: object
      description: Information about the region's compliance.
    RegionHipaa:
      type: boolean
      description: Indicator whether or not this region is HIPAA compliant.
    MetricsMetadata:
      type: object
      properties:
        from:
          description: The value used to calculate the lower bound of the temporal query. Inclusive.
        to:
          description: The truncated value used to calculate the upper bound of the temporal query. Exclusive.
        interval:
          description: The interval used to group the metric values.
        units:
          description: The units associated with the provided values.
      additionalProperties: false
    MetricsValues:
      type: array
      items:
        $ref: '#/components/schemas/MetricsValue'
    MetricsValue:
      type: object
      properties:
        value:
          description: The measured value of the metric for the given time interval.
        start_time:
          description: The timestamp at which the time interval began.
      additionalProperties: false
    CarbonTotal:
      type: number
      description: The calculated total of the metric for the given interval.
    CreatedAt:
      type: string
      format: date-time
      description: The date and time when the resource was created.
    UpdatedAt:
      type: string
      format: date-time
      description: The date and time when the resource was last updated.
    BooleanFilter:
      type: object
      properties:
        eq:
          type: string
          description: Equal (true or false)
        ne:
          type: string
          description: Not equal (true or false)
      additionalProperties: false
    TeamProjectAccess:
      type: object
      properties:
        team_id:
          type: string
          format: ulid
          description: The ID of the team.
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        project_id:
          type: string
          description: The ID of the project.
        project_title:
          type: string
          description: The title of the project.
        granted_at:
          type: string
          format: date-time
          description: The date and time when the access was granted.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the access was last updated.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current access item.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              nullable: true
              description: Link for updating the current access item. Only present if user has update permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              nullable: true
              description: Link for deleting the current access item. Only present if user has delete permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
      additionalProperties: false
    UserProjectAccess:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
          description: The ID of the user.
        organization_id:
          type: string
          format: ulid
          description: The ID of the organization.
        project_id:
          type: string
          description: The ID of the project.
        project_title:
          type: string
          description: The title of the project.
        permissions:
          $ref: '#/components/schemas/ProjectPermissions'
        granted_at:
          type: string
          format: date-time
          description: The date and time when the access was granted.
        updated_at:
          type: string
          format: date-time
          description: The date and time when the access was last updated.
        _links:
          type: object
          properties:
            self:
              type: object
              description: Link to the current access item.
              properties:
                href:
                  type: string
                  description: URL of the link.
            update:
              type: object
              nullable: true
              description: Link for updating the current access item. Only present if user has update permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
            delete:
              type: object
              nullable: true
              description: Link for deleting the current access item. Only present if user has delete permission.
              properties:
                href:
                  type: string
                  description: URL of the link.
                method:
                  type: string
                  description: The HTTP method to use.
      additionalProperties: false
    ProjectPermissions:
      type: array
      description: An array of project permissions.
      items:
        type: string
        enum:
          - admin
          - viewer
          - development:admin
          - development:contributor
          - development:viewer
          - staging:admin
          - staging:contributor
          - staging:viewer
          - production:admin
          - production:contributor
          - production:viewer
    Health:
      type: object
      required:
        - mysql
        - redis
        - clickhouse
      properties:
        mysql:
          type: object
          properties:
            status:
              type: string
              enum:
                - UP
                - DOWN
          required:
            - status
        redis:
          type: object
          properties:
            status:
              type: string
              enum:
                - UP
                - DOWN
          required:
            - status
        clickhouse:
          type: object
          properties:
            status:
              type: string
              enum:
                - UP
                - DOWN
          required:
            - status
      additionalProperties: false
    ProjectFacets:
      type: object
      description: Facets for filtering options.
      properties:
        plans:
          type: object
          description: Map of plan IDs to plan names.
          additionalProperties:
            type: string
          nullable: true
      additionalProperties: false
    InvoicePDF:
      description: Invoice PDF document details.
      properties:
        url:
          description: A link to the PDF invoice.
          type: string
        status:
          description: The status of the PDF document. We generate invoice PDF asyncronously in batches. An invoice PDF document may not be immediately available to download. If status is 'ready', the PDF is ready to download. 'pending' means the PDF is not created but queued up. If you get this status, try again later.
          type: string
          enum:
            - ready
            - pending
      type: object
    Order:
      description: The order object.
      properties:
        id:
          description: The ID of the order.
          type: string
        status:
          description: The status of the subscription.
          type: string
          enum:
            - completed
            - past_due
            - pending
            - canceled
            - payment_failed_soft_decline
            - payment_failed_hard_decline
        owner:
          description: The UUID of the owner.
          type: string
          format: uuid
        address:
          $ref: '#/components/schemas/Address'
        company:
          description: The company name.
          type: string
        vat_number:
          description: An identifier used in many countries for value added tax purposes.
          type: string
        billing_period_start:
          description: The time when the billing period of the order started.
          type: string
          format: date-time
        billing_period_end:
          description: The time when the billing period of the order ended.
          type: string
          format: date-time
        billing_period_label:
          description: Descriptive information about the billing cycle.
          properties:
            formatted:
              description: The renderable label for the billing cycle.
              type: string
            month:
              description: The month of the billing cycle.
              type: string
            year:
              description: The year of the billing cycle.
              type: string
            next_month:
              description: The name of the next month following this billing cycle.
              type: string
          type: object
        billing_period_duration:
          description: The duration of the billing period of the order in seconds.
          type: integer
        paid_on:
          description: The time when the order was successfully charged.
          type: string
          format: date-time
          nullable: true
        total:
          description: The total of the order.
          type: integer
        total_formatted:
          description: The total of the order, formatted with currency.
          type: integer
        components:
          $ref: '#/components/schemas/Components'
        currency:
          description: The order currency code.
          type: string
        invoice_url:
          description: A link to the PDF invoice.
          type: string
        last_refreshed:
          description: The time when the order was last refreshed.
          type: string
          format: date-time
        invoiced:
          description: The customer is invoiced.
          type: boolean
        line_items:
          description: The line items that comprise the order.
          type: array
          items:
            $ref: '#/components/schemas/LineItem'
        _links:
          description: Links to related API endpoints.
          properties:
            invoices:
              description: Link to related Invoices API. Use this to retrieve invoices related to this order.
              properties:
                href:
                  description: URL of the link
                  type: string
              type: object
          type: object
      type: object
    PlanRecords:
      description: The plan record object.
      properties:
        id:
          description: The unique ID of the plan record.
          type: string
        owner:
          description: The UUID of the owner.
          type: string
          format: uuid
        subscription_id:
          description: The ID of the subscription this record pertains to.
          type: string
        sku:
          description: The product SKU of the plan that this record represents.
          type: string
        plan:
          description: The machine name of the plan that this record represents.
          type: string
        options:
          type: array
          items:
            description: The SKU of an option.
            type: string
        start:
          description: The start timestamp of this plan record (ISO 8601).
          type: string
          format: date-time
        end:
          description: The end timestamp of this plan record (ISO 8601).
          type: string
          format: date-time
          nullable: true
        status:
          description: 'The status of the subscription during this record: active or suspended.'
          type: string
      type: object
    Usage:
      description: The usage object.
      properties:
        id:
          description: The unique ID of the usage record.
          type: string
        subscription_id:
          description: The ID of the subscription.
          type: string
        usage_group:
          description: The type of usage that this record represents.
          type: string
        quantity:
          description: The quantity used.
          type: number
        start:
          description: The start timestamp of this usage record (ISO 8601).
          type: string
          format: date-time
      type: object
  parameters:
    filter_invoice_type:
      name: filter[type]
      in: query
      description: The invoice type. Use invoice for standard invoices, credit_memo for refund/credit invoices.
      schema:
        type: string
        enum:
          - credit_memo
          - invoice
    filter_order_id:
      name: filter[order_id]
      in: query
      description: The order id of Invoice.
      schema:
        type: string
    filter_invoice_status:
      name: filter[status]
      in: query
      description: The status of the invoice.
      schema:
        type: string
        enum:
          - paid
          - charged_off
          - pending
          - refunded
          - canceled
          - refund_pending
    order_id:
      name: orderId
      in: path
      description: The ID of the order
      required: true
      schema:
        type: string
    mode:
      name: mode
      in: query
      description: The output mode.
      schema:
        type: string
        enum:
          - details
    filter_order_status:
      name: filter[status]
      in: query
      description: The status of the order.
      schema:
        type: string
        enum:
          - completed
          - past_due
          - pending
          - canceled
          - payment_failed_soft_decline
          - payment_failed_hard_decline
    filter_order_total:
      name: filter[total]
      in: query
      description: The total of the order.
      schema:
        type: integer
    record_end:
      name: filter[end]
      in: query
      description: The end of the observation period for the record. E.g. filter[end]=2018-01-01 will display all records that were active on (i.e. they started before) 2018-01-01
      schema:
        type: string
        format: date-time
    record_ended_at:
      name: filter[ended_at]
      in: query
      description: The record's end timestamp. You can use this filter to list records ended after, or before a certain time. E.g. filter[ended_at][value]=2020-01-01&filter[ended_at][operator]=>
      schema:
        type: string
        format: date-time
    record_status:
      name: filter[status]
      in: query
      description: 'The status of the plan record. '
      schema:
        type: string
        enum:
          - active
          - suspended
    record_usage_group:
      name: filter[usage_group]
      in: query
      description: Filter records by the type of usage.
      schema:
        type: string
        enum:
          - storage
          - environments
          - user_licenses
    record_start:
      name: filter[start]
      in: query
      description: The start of the observation period for the record. E.g. filter[start]=2018-01-01 will display all records that were active (i.e. did not end) on 2018-01-01
      schema:
        type: string
        format: date-time
    record_started_at:
      name: filter[started_at]
      in: query
      description: The record's start timestamp. You can use this filter to list records started after, or before a certain time. E.g. filter[started_at][value]=2020-01-01&filter[started_at][operator]=>
      schema:
        type: string
        format: date-time
    transactionId:
      name: id
      in: path
      description: The ID of the transaction
      required: true
      schema:
        type: string
    discountId:
      name: id
      in: path
      description: The ID of the organization discount
      required: true
      schema:
        type: string
    id:
      name: filter[id]
      in: query
      description: Machine name of the region.
      schema:
        type: string
    env_name:
      name: envName
      in: path
      description: The name of the environment type
      required: true
      schema:
        type: string
        enum:
          - development
          - staging
          - production
    caps_type:
      name: capsType
      in: path
      description: The type of the caps
      required: true
      schema:
        type: string
        enum:
          - env-type
    subscription_id:
      name: subscriptionId
      in: path
      description: The ID of the subscription
      required: true
      schema:
        type: string
    filter_subscription_id:
      name: filter[subscription_id]
      in: query
      description: The ID of the subscription
      required: false
      schema:
        type: string
    subscription_status:
      name: filter[status]
      in: query
      description: 'The status of the subscription. '
      schema:
        type: string
        enum:
          - active
          - provisioning
          - provisioning failure
          - suspended
          - deleted
    subscription_plan:
      name: plan
      in: query
      description: The plan type of the subscription.
      schema:
        type: string
        enum:
          - development
          - standard
          - medium
          - large
          - xlarge
          - 2xlarge
    filter_subscription_plan:
      name: filter[plan]
      in: query
      description: The plan type of the subscription.
      schema:
        type: string
        enum:
          - development
          - standard
          - medium
          - large
          - xlarge
          - 2xlarge
    subscription_environments:
      name: environments
      in: query
      description: The number of environments which can be provisioned on the project.
      schema:
        type: integer
        default: null
    subscription_storage:
      name: storage
      in: query
      description: The total storage available to each environment, in MiB. Only multiples of 1024 are accepted as legal values.
      schema:
        type: integer
        default: null
    subscription_user_licenses:
      name: user_licenses
      in: query
      description: The number of user licenses.
      schema:
        type: integer
    ignore_admin_privileges:
      name: ignore_admin
      in: query
      description: '[Internal] Ignore admin privileges to simulate the response a customer may get'
      required: false
      schema:
        type: boolean
    target_organization:
      name: target_organization
      in: query
      description: '[Internal] The target organization ID desired to own the project after transfer.'
      required: true
      schema:
        type: string
    organization_id:
      name: organization_id
      in: path
      description: The ULID of the organization
      required: true
      schema:
        type: string
    tier_id:
      name: tier_id
      in: path
      description: The machine name for a tier
      required: true
      schema:
        type: string
        enum:
          - elite
          - enterprise
          - new
          - premier
          - pro
          - trial
    currency:
      name: currency
      in: path
      description: Currency abbreviation.
      required: true
      schema:
        type: string
        enum:
          - AUD
          - CAD
          - EUR
          - GBP
          - USD
    filter_pricebook_source:
      name: filter[pricebook_source]
      in: query
      description: The source of the pricebook (organization, tier, default).
      schema:
        type: string
        enum:
          - organization
          - tier
          - default
    page:
      name: page
      in: query
      description: Page to be displayed. Defaults to 1.
      required: false
      schema:
        type: integer
        format: int32
    all:
      name: all
      in: query
      description: '[Internal] Add this parameter with whichever value to display all projects, otherwise, only projects owned by current user will be displayed (admins only).'
      required: false
      schema:
        type: string
    user_id:
      name: userId
      in: path
      description: The UUID of the user
      required: true
      schema:
        type: string
    filter_comment_id:
      name: filter[comment_id]
      in: query
      description: The ID of the comment.
      schema:
        type: integer
    filter_author_id:
      name: filter[author_id]
      in: query
      description: The author id of the commenter.
      schema:
        type: string
    filter_created_at:
      name: filter[created_at]
      in: query
      description: Time and date of comment creation.
      schema:
        type: integer
    filter_public:
      name: filter[public]
      in: query
      description: If the comment is public it is set to 1.
      schema:
        type: string
    filter_ticket_id:
      name: filter[ticket_id]
      in: query
      description: The ID of the ticket.
      schema:
        type: integer
    filter_created:
      name: filter[created]
      in: query
      description: ISO dateformat expected. The time when the support ticket was created.
      schema:
        type: string
        format: date-time
    filter_updated:
      name: filter[updated]
      in: query
      description: ISO dateformat expected. The time when the support ticket was updated.
      schema:
        type: string
        format: date-time
    filter_type:
      name: filter[type]
      in: query
      description: The type of the support ticket.
      schema:
        type: string
        enum:
          - problem
          - task
          - incident
          - question
    filter_priority:
      name: filter[priority]
      in: query
      description: The priority of the support ticket.
      schema:
        type: string
        enum:
          - low
          - normal
          - high
          - urgent
    filter_ticket_status:
      name: filter[status]
      in: query
      description: The status of the support ticket.
      schema:
        type: string
        enum:
          - closed
          - deleted
          - hold
          - new
          - open
          - pending
          - solved
    filter_requester_id:
      name: filter[requester_id]
      in: query
      description: UUID of the ticket requester. Converted from the ZID value.
      schema:
        type: string
        format: uuid
    filter_submitter_id:
      name: filter[submitter_id]
      in: query
      description: UUID of the ticket submitter. Converted from the ZID value.
      schema:
        type: string
        format: uuid
    filter_assignee_id:
      name: filter[assignee_id]
      in: query
      description: UUID of the ticket assignee. Converted from the ZID value.
      schema:
        type: string
        format: uuid
    filter_has_incidents:
      name: filter[has_incidents]
      in: query
      description: Whether or not this ticket has incidents.
      schema:
        type: boolean
    filter_due:
      name: filter[due]
      in: query
      description: ISO dateformat expected. A time that the ticket is due at.
      schema:
        type: string
        format: date-time
    InvitationID:
      name: invitation_id
      in: path
      required: true
      description: The ID of the invitation.
      schema:
        type: string
    OrganizationID:
      name: organization_id
      in: path
      required: true
      description: The ID of the organization.
      schema:
        type: string
        format: ulid
    ProjectID:
      name: project_id
      in: path
      required: true
      description: The ID of the project.
      schema:
        type: string
    TeamID:
      name: team_id
      in: path
      required: true
      description: The ID of the team.
      schema:
        type: string
    UserID:
      name: user_id
      in: path
      required: true
      description: The ID of the user.
      schema:
        type: string
        example: d81c8ee2-44b3-429f-b944-a33ad7437690
        format: uuid
    BillingAccountID:
      $ref: '#/components/parameters/billing_account_id'
    BillingInvoiceID:
      $ref: '#/components/parameters/billing_invoice_id'
    Country:
      $ref: '#/components/parameters/country'
    billing_account_id:
      in: path
      name: billing_account_id
      description: The ID of the billing account.
      required: true
      schema:
        type: string
    billing_invoice_id:
      in: path
      name: invoice_id
      description: The ID of the invoice.
      required: true
      schema:
        type: integer
    billing_user_id:
      in: path
      name: billing_user_id
      description: The ID of the user.
      required: true
      schema:
        type: string
        format: uuid
    country:
      in: path
      name: country
      description: A country code.
      required: true
      schema:
        type: string
    billing_entity_id:
      in: path
      name: billing_entity_id
      description: The ID of the billing entity.
      required: true
      schema:
        type: string
    organizationID:
      in: path
      name: organization_id
      description: The ID of the organization.
      required: true
      schema:
        type: string
        format: ulid
    CountryCode:
      in: path
      name: country
      description: The 2 digit country code.
      required: true
      schema:
        type: string
    OrganizationIDName:
      in: path
      name: organization_id
      description: |
        The ID of the organization.<br>
        Prefix with name= to retrieve the organization by name instead.
      required: true
      schema:
        type: string
    OrderID:
      in: path
      name: order_id
      description: The ID of the order.
      required: true
      schema:
        type: string
    SubscriptionID:
      in: path
      name: subscription_id
      description: The ID of the subscription.
      required: true
      schema:
        type: string
    InvoiceID:
      in: path
      name: invoice_id
      description: The ID of the invoice.
      required: true
      schema:
        type: string
    Vendor:
      in: header
      name: X-Platform-Vendor
      description: '[Internal] The vendor.'
      schema:
        type: string
    EnvType:
      in: path
      name: env_type
      description: '[Internal] The environment type name.'
      required: true
      schema:
        type: string
    CapsType:
      in: path
      name: caps_type
      description: '[Internal] The type of the environment cap.'
      required: true
      schema:
        type: string
    RegionID:
      in: path
      name: region_id
      description: The ID of the region.
      required: true
      schema:
        type: string
    ProjectAddonID:
      in: path
      name: addon_id
      description: The ID of the add-on.
      required: true
      schema:
        type: string
    CdnID:
      in: path
      name: cdn_id
      description: The ID of the CDN.
      required: true
      schema:
        type: string
    CatalogID:
      in: path
      name: id
      description: The id of the catalog.
      required: true
      schema:
        type: string
    TemplateName:
      in: path
      name: name
      description: The name of the template.
      required: true
      schema:
        type: string
    DataCenterName:
      in: path
      name: data_center_name
      description: The name of the data center.
      required: true
      schema:
        type: string
    OptionsID:
      in: path
      name: options_id
      description: The ID of the project options.
      required: true
      schema:
        type: string
    project_id:
      name: filter[project_id]
      in: query
      description: Allows filtering by `project_id` using one or more operators.
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/StringFilter'
    project_title:
      in: query
      name: filter[project_title]
      description: Allows filtering by `project_title` using one or more operators.
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/StringFilter'
    region:
      in: query
      name: filter[region]
      description: Allows filtering by `region` using one or more operators.
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/StringFilter'
    updated_at:
      in: query
      name: filter[updated_at]
      description: Allows filtering by `updated_at` using one or more operators.
      style: deepObject
      explode: true
      schema:
        $ref: '#/components/schemas/DateTimeFilter'
    subscription_sort:
      in: query
      name: sort
      description: |
        Allows sorting by a single field.<br>
        Use a dash ("-") to sort descending.<br>
        Supported fields: `region`, `project_title`, `type`, `plan`, `status`, `created_at`, `updated_at`.
      schema:
        type: string
        example: '-updated_at'
    page_size:
      in: query
      name: page[size]
      description: Determines the number of items to show.
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: null
    page_before:
      in: query
      name: page[before]
      description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
      schema:
        type: string
    page_after:
      in: query
      name: page[after]
      description: Pagination cursor. This is automatically generated as necessary and provided in HAL links (_links); it should not be constructed externally.
      schema:
        type: string
    from:
      in: query
      name: from
      description: The start of the time frame for the query. Inclusive.
      schema:
        $ref: '#/components/schemas/DateTimeFilter'
    to:
      in: query
      name: to
      description: The end of the time frame for the query. Exclusive.
      schema:
        $ref: '#/components/schemas/DateTimeFilter'
    interval:
      in: query
      name: interval
      description: The interval by which the query groups the results. of the time frame for the query. Exclusive.
      schema:
        type: string
        enum:
          - day
          - month
          - year
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          tokenUrl: https://auth.api.platform.sh/oauth2/token
          refreshUrl: https://auth.api.platform.sh/oauth2/token
          scopes: {}
          authorizationUrl: https://auth.api.platform.sh/oauth2/authorize
      description: ''
    OAuth2Admin:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://auth.api.platform.sh/oauth2/token
          refreshUrl: ''
          scopes:
            admin: administrative operations
      description: ''
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: Forbidden
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Not Found
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Error'
    Conflict:
      description: Conflict
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Error'
    ServiceUnavailable:
      description: Service Unavailable
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Error'
  examples: {}
x-tagGroups:
  - name: Organization Administration
    tags:
      - Organizations
      - Organization Members
      - Organization Invitations
      - Organization Projects
      - Add-ons
  - name: Project Administration
    tags:
      - Project
      - Domain Management
      - Cert Management
      - Certificate Provisioner
      - Project Variables
      - Repository
      - Third-Party Integrations
      - Support
  - name: Environments
    tags:
      - Environment
      - Environment Backups
      - Environment Type
      - Environment Variables
      - Routing
      - Source Operations
      - Runtime Operations
      - Deployment
      - Autoscaling
  - name: User Activity
    tags:
      - Project Activity
      - Environment Activity
  - name: Project Access
    tags:
      - Project Invitations
      - Teams
      - Team Access
      - User Access
  - name: Project Setup
    tags:
      - Catalogs
      - Wizards
      - Project Options
  - name: Account Management
    tags:
      - API Tokens
      - Connections
      - Grants
      - MFA
      - Users
      - User Profiles
      - SSH Keys
      - Plans
  - name: Billing
    tags:
      - Organization Management
      - Subscriptions
      - Orders
      - Invoices
      - Discounts
      - Vouchers
      - Pricebooks
      - Records
      - Profiles
  - name: Global Info
    tags:
      - Project Discovery
      - References
      - Regions
      - Data Centers
  - name: Observability
    tags:
      - Http Traffic
      - Logs
  - name: Internal APIs
    tags:
      - Project Settings
      - Environment Settings
      - Deployment Target
      - System Information
      - Container Profile
      - Risk
