{{ $filename := .filename | default "" -}}
{{ $lang := .lang | default "" }}
{{ $content := .content }}
{{ $options := .options | default dict }}

{{- if $filename -}}
  <div class="filename" dir="auto">{{ $filename }}</div>
{{- end -}}
{{- if eq $filename "Terminal" }}
  {{- $override := dict "noclasses" true "style" "native" }}
  {{- range $key, $value := $override }}
    {{- $options = merge $options (dict $key $value) }}
  {{- end }}
{{- else -}}
  {{ $override := dict }}
{{- end -}}

{{- if transform.CanHighlight $lang -}}
  <div>{{- highlight $content $lang $options -}}</div>
{{- else -}}
  <pre><code>{{ $content }}</code></pre>
{{- end }}


